{"version":3,"sources":["common/Home.js","assets/logoDots.js","lib/auth.js","lib/api.js","assets/16.png","common/Nav.js","assets/comment_icon.svg","assets/score_icon.svg","assets/cross.svg","hooks/useForm.js","components/CommentForm.js","components/FavButton.js","assets/star.svg","assets/comment.svg","components/InteractionMenu.js","components/ShowPic.js","lib/utils.js","lib/draw.js","assets/title_icon.svg","assets/category_icon.svg","assets/description_icon.svg","components/select/selectOptions.js","components/select/customStyles.js","components/ArtSubmitForm.js","assets/upload.svg","assets/palette.svg","assets/undo.svg","components/CreatePic.js","assets/email_icon.svg","assets/pass_icon.svg","components/RandomBlocks.js","auth/Login.js","auth/ImageUploadField.js","assets/profile_icon.svg","auth/SignUp.js","components/FollowButton.js","components/Feed.js","components/ShowArtistPics.js","components/EditPic.js","components/PaginationLinks.js","components/ShowFilteredPics.js","components/Followers.js","components/Following.js","App.js","index.js"],"names":["Home","logoDotsArray","JSON","parse","logoGrid","useRef","sloganContainer","React","useEffect","cluster","setInterval","Math","random","gather","disperse","timer","correctColor","changeColor","clearInterval","targetGrid","i","current","children","style","top","left","classList","add","ceil","remove","color","backgroundColor","floor","length","className","grids","push","ref","map","grid","id","replace","mapGrid","signUpUser","formdata","axios","post","loginUser","getToken","window","localStorage","getItem","getUserId","token","parts","split","atob","sub","isAuthenticated","payload","getPayload","round","Date","now","exp","baseUrl","headers","Authorization","getSinglePic","get","deletePic","delete","getAllPics","createPic","editPic","picId","put","getUserInfo","getArtistPics","createComment","deleteComment","Nav","loggedIn","pathname","useLocation","history","useHistory","useState","userData","setUserData","a","data","console","log","getData","to","src","logo","alt","profileImage","onClick","removeItem","useForm","initialState","setFormdata","errors","setErrors","handleChange","e","target","name","value","CommentForm","displayComment","setDisplayComment","pic","userId","hover","setHover","text","rating","handleSubmit","preventDefault","owner","commentFormCloseEffect","response","setTimeout","handleHover","removeHover","onSubmit","cross","parentNode","onMouseEnter","onMouseLeave","commentIcon","onChange","placeholder","scoreIcon","type","FavButton","liked","star","setLikedNow","like","setLike","handleFavorite","handleUnFavorite","favoritedBy","InteractionMenu","arr","displayCommentForm","artist","username","comments","filter","comment","ele","ShowPic","useParams","setPic","setGather","error","setError","displayDelete","setDisplayDelete","commentDeleted","setCommentDeleted","likedNow","vertPos","horiPos","handleDeleteComment","deleteArt","dots","mapDots","title","points","forEach","toFixed","averagePoint","description","categories","category","idN","colorPalette","hex","mapColorPalette","sortedByFrequencyDuplicatesAndBlankRemoved","array","blankRemoved","dot","orderedByFrequency","val","reduce","v","sort","b","Set","rgbToHex","r","g","toString","clickAnimation","clear","drawIntoGrid","sourceDots","explode","mapFromDots","ctx","x","y","fillStyle","fillRect","selectOptions","label","selectOptionsArray","customStyles","container","provided","fontSize","width","textTransform","option","state","isSelected","borderRadius","isFocused","menu","borderColor","boxShadow","border","dropdownIndicator","indicatorSeparator","valueContainer","marginLeft","control","styles","boxSizing","borderBottom","multiValue","padding","multiValueLabel","multiValueRemove","ArtSubmitForm","handleUpload","titleIcon","categoryIcon","options","isMulti","selected","item","handleMultiChange","descriptionIcon","CreatePic","user","setUser","displayPalette","setDisplayPalette","palette","setPalette","uploadedImageBlobUrl","setUploadedImageBlobUrl","drawingUrl","setDrawingUrl","drawSetting","setDrawSetting","image","Array","fill","setDots","draw","setDraw","canvas","drawingGrid","submissionForm","submissionButton","historyLimit","drawingHistory","setDrawingHistory","historyStep","setHistoryStep","recordHistory","records","record","setUpCanvas","Image","onload","naturalWidth","height","naturalHeight","setAttribute","drawImage","dotsFromImage","c","getImageData","slice","canvasEle","clientWidth","clientHeight","getContext","contains","drawnDots","dotsError","titleError","selectError","can","toDataURL","FormData","append","process","res","url","filterPalette","stringify","drawDot","drawDotClick","mapPalette","uuidv4","handlePalettePick","mapFavoritedPalette","onMouseDown","onMouseUp","onMouseMove","undoIcon","paletteIcon","htmlFor","uploadIcon","files","uploadedImage","blobUrl","URL","createObjectURL","favoritedPic","forkedDots","RandomBlocks","blocks","colors","block","position","Login","animate","setAnimate","email","password","setItem","onFocus","emailIcon","passIcon","ImageUploadField","defaultProfImage","accept","SignUp","passwordConfirmation","profileIcon","FollowButton","followed","artistData","setFollowedNow","artistId","follow","setFollow","handleFollow","handleUnfollow","following","followedBy","Feed","picCounter","setPicCounter","filteredPicsFollowed","setFilteredPicsFollowed","filteredPicsFavorited","setFilteredPicsFavorited","filterPicsFollowed","pics","artistCheck","follower","_pic","filterPicsFavorited","clearTimeout","mapPics","subclass","indexOf","ShowArtistPics","setArtistData","followedNow","createdPic","EditPic","PaginationLinks","page","filterPics","prevPage","nextPage","goToPage","noOfPicsToDisplay","Number","maxvalue","pages","eachPage","mapPageLinks","ShowFilteredPics","setPics","filteredPics","setFilteredPics","categoryCheck","cat","firstPic","scrollTo","didMount","setDidMount","pageNo","Followers","Following","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a625296.chunk.js","sourcesContent":["import React from 'react'\nimport { useRef } from 'react'\n// import { Link } from 'react-router-dom'\n\n// import { getAllPics } from '../lib/api'\n// import { getUserId } from '../lib/auth'\nimport { logoDots } from '../assets/logoDots'\n\n\nfunction Home(){\n  \n  const logoDotsArray = JSON.parse(logoDots)\n  const logoGrid = useRef(null)\n  const sloganContainer = useRef()\n\n  const mapGrid = () =>{    \n    \n    const grids = []\n    for (let i = 0; i < (16 * 16); i++) grids.push(i)\n    return (\n      <div \n        className=\"logo_grid\"\n        ref={logoGrid}\n      >\n        {\n          grids.map(grid=>{\n            return (\n              <div key={grid} \n                id={grid}\n                className={logoDotsArray[grid].replace('#','b')}\n                style={{\n                  backgroundColor: logoDotsArray[grid],\n                  top: `${Math.ceil(Math.random() * 110) - 50}vh`,\n                  left: `${Math.ceil(Math.random() * 110) - 50}vw`\n                }}\n              >\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  }\n\n  React.useEffect(() => {\n    if (!logoGrid) return\n    const cluster = setInterval(()=>{\n      Math.random() < 0.3 ?\n        gather(logoGrid)\n        :\n        disperse(logoGrid)\n    }, 2000)\n    const timer = setInterval(()=>{\n      Math.random() < 0.4 ?\n        correctColor(logoGrid)\n        :\n        changeColor(logoGrid)\n    }, 800)\n    return () => {\n      clearInterval(cluster)\n      clearInterval(timer)\n    }\n  }, [logoGrid])\n\n  const gather = targetGrid =>{\n    if (!logoGrid) return\n    for (let i = 0; i < (16 * 16); i++) {\n      targetGrid.current.children[i].style.top = 0\n      targetGrid.current.children[i].style.left = 0\n      targetGrid.current.children[i].classList.add('show_black')\n    }\n    sloganContainer.current.classList.add('hide')\n  }\n\n  \n  const disperse = targetGrid =>{\n    if (!logoGrid) return\n    for (let i = 0; i < (16 * 16); i++) {\n      targetGrid.current.children[i].style.top = `${Math.ceil(Math.random() * 110) - 50}vh`\n      targetGrid.current.children[i].style.left = `${Math.ceil(Math.random() * 110) - 50}vw`\n      targetGrid.current.children[i].classList.remove('show_black')\n    }\n    sloganContainer.current.classList.remove('hide')\n  }\n  \n  const changeColor = targetGrid =>{\n    if (!logoGrid) return\n    const color = ['#b2eaf9','#fd74b9','#222082','transparent']  \n    for (let i = 0; i < (16 * 16); i++) {\n      Math.random() < 0.09 ?\n        targetGrid.current.children[i].style.backgroundColor = color[Math.floor(Math.random() * color.length)]\n        :\n        targetGrid.current.children[i].style.backgroundColor = logoDotsArray[i]\n    }\n  }\n\n  const correctColor = targetGrid =>{\n    if (!logoGrid) return\n    for (let i = 0; i < (16 * 16); i++) {\n      targetGrid.current.children[i].style.backgroundColor = logoDotsArray[i]\n    }\n  }\n\n\n\n\n\n  return (\n    <div className=\"wrapper overflow_hidden\">\n      {mapGrid()}\n      <div \n        ref={sloganContainer}\n        className=\"slogan_container fade_in_slow\"\n      >\n        draw &#43; share pixel art\n      </div>  \n    </div>  \n  )\n}\n\nexport default Home\n\n\n\n\n// const [ indexLimit, setIndexLimit ] = React.useState(12)\n// const [ scrolling, setScrolling ] = React.useState(false)\n\n// window.addEventListener('scroll', function() {\n//   if (scrolling) return\n//   setScrolling(true)\n//   setTimeout(()=>{\n//     setScrolling(false)\n//   },1000)\n\n//   if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n//     console.log('you\\'re at the bottom of the page')\n//     // Show loading spinner and make fetch request to api\n//     setIndexLimit(indexLimit + 1)\n//     console.log('i', indexLimit)\n//   }\n// })","export const logoDots = '[\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#222082\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#fd74b9\",\"#222082\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#222082\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#222082\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\"]'\n\n","import axios from 'axios'\n\nexport function signUpUser(formdata) {\n  return axios.post('/api/auth/register/', formdata)\n}\n\nexport function loginUser(formdata) {\n  return axios.post('/api/auth/login/', formdata)\n}\n\nexport function setToken(token) {\n  window.localStorage.setItem('token', token) \n}\n\nexport function getToken() {\n  return  window.localStorage.getItem('token')\n}\n\nexport function logout() {\n  return  window.localStorage.removeItem('token')  \n}\n\n\n\n\nfunction getPayload() {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.') \n  if (parts.length < 3) return false \n  return JSON.parse(atob(parts[1])) \n}\n\nexport function getUserId() {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.') \n  if (parts.length < 3) return false \n  // console.log('payload',JSON.parse(atob(parts[1])).sub)\n  return JSON.parse(atob(parts[1])).sub \n}\n\n\nexport function isAuthenticated() {\n  const payload = getPayload()\n  if (!payload) return false \n  const now = Math.round(Date.now() / 1000) \n  // console.log(payload.exp)\n  // console.log(now)\n  // console.log(now < payload.exp)\n  return now < payload.exp\n\n}","import axios from 'axios'\n\nimport { getToken } from './auth'\n\nconst baseUrl = '/api'\n\nfunction headers() {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\n\n\n//* pic\nexport function getSinglePic(id) {\n  return axios.get(`${baseUrl}/pics/${id}/`)\n}\n\nexport function deletePic(id) {\n  return axios.delete(`${baseUrl}/pics/${id}/`, headers() )\n}\n\nexport function getAllPics(){\n  return axios.get(`${baseUrl}/pics/`)\n}\n\nexport function createPic(formdata){\n  return axios.post(`${baseUrl}/pics/`,formdata)\n}\n\nexport function editPic(picId,formdata){\n  return axios.put(`${baseUrl}/pics/${picId}/`,formdata, headers())\n}\n\n\n\n\n\n//* user\n\nexport function getUserInfo() {\n  return axios.get(`${baseUrl}/auth/profile/`, headers())\n} \n\nexport function getArtistPics(id) {\n  return axios.get(`${baseUrl}/auth/${id}/artist_profile/`)\n}\n\n\n\n\n\n//* user interaction\n\nexport function createComment(formdata) {\n  return axios.post(`${baseUrl}/comments/`, formdata, headers() )\n}\n\nexport function deleteComment(id) {\n  return axios.delete(`${baseUrl}/comments/${id}/`, headers() )\n}\n\n\nexport function favorite(picId) {\n  return axios.post(`${baseUrl}/pics/${picId}/favorite/`, null, headers() )\n}\n\nexport function unFavorite(picId) {\n  return axios.delete(`${baseUrl}/pics/${picId}/favorite/`, headers() )\n}\n\nexport function followArtist(id) {\n  return axios.post(`${baseUrl}/auth/${id}/follow/`, null, headers() )\n}\n\nexport function unfollowArtist(id) {\n  return axios.delete(`${baseUrl}/auth/${id}/follow/`, headers() )\n}\n\n\n\n","export default __webpack_public_path__ + \"static/media/16.fcf0555c.png\";","import React from 'react'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\n\nimport { getUserInfo } from '../lib/api'\nimport { logout, isAuthenticated } from '../lib/auth'\nimport logo from '../assets/16.png'\n\nfunction Nav(){\n  const loggedIn = isAuthenticated()\n  const { pathname } = useLocation()\n  const history = useHistory()\n  const [userData, setUserData] = React.useState(null)\n\n  React.useEffect(() => {\n    if (!loggedIn) return\n    const getData = async () => {\n      try {\n        const { data } = await getUserInfo()\n        setUserData(data)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getData()\n  }, [pathname])\n\n  const handleLogout = () => {\n    logout()\n    history.push('/login')\n    setUserData(null)\n    // setuserMenuDisplay(false)\n    // window.location.reload()\n  }\n\n  // if (userData) console.log(userData)\n\n  return (\n    <nav>\n      <Link to={`/${ userData ? 'pics/all/1' : ''}`}>\n        <img className=\"logo\" src={logo} alt=\"logo\" />\n      </Link>\n      <div className=\"link_menu\">\n        {\n          userData ?\n            <>\n              <img \n                className=\"small_artist_icon\"\n                src={userData.profileImage} \n                alt=\"profile image\" \n                onClick={()=>history.push(`/artistpage/${userData.id}`)}\n              />\n              <button className=\"nav logout\" onClick={handleLogout}>\n                logout\n              </button>\n\n              <Link to=\"/pics/new\">\n                <button className=\"nav draw\">\n                  draw\n                </button>  \n              </Link>\n            </>\n            :\n            <>\n              <Link to=\"/signup\">\n                <button className=\"nav sign_up\">\n                  sign up\n                </button>\n              </Link>\n              <Link to=\"/login\">\n                <button className=\"nav login\">\n                  login\n                </button>\n              </Link>\n            </>\n        }\n    \n        \n      </div>\n    </nav>\n  )\n}\n\nexport default Nav","export default __webpack_public_path__ + \"static/media/comment_icon.f5777408.svg\";","export default __webpack_public_path__ + \"static/media/score_icon.9003a9e1.svg\";","export default __webpack_public_path__ + \"static/media/cross.7b5950ad.svg\";","import React from 'react'\n\nexport default function useForm(initialState){\n  const [ formdata, setFormdata ] = React.useState(initialState)\n  const [ errors, setErrors ] = React.useState(initialState)\n\n\n  const handleChange = e => {\n    setFormdata({ ...formdata, [e.target.name]: e.target.value })\n    setErrors({ ...errors, [e.target.name]: '' })\n  }\n\n\n \n  \n  return {\n    formdata,\n    setFormdata,\n    handleChange,\n    errors,\n    setErrors\n  }\n}\n\n","import React from 'react'\n\nimport commentIcon from '../assets/comment_icon.svg'\nimport scoreIcon from '../assets/score_icon.svg'\nimport cross from '../assets/cross.svg'\n\nimport useForm from '../hooks/useForm'\nimport { createComment } from '../lib/api'\n\n\nfunction CommentForm ( { displayComment, setDisplayComment, pic, userId }){\n\n  const [hover, setHover] = React.useState(null)\n  const { formdata, setFormdata, errors, handleChange, setErrors } = useForm({\n    text: '',\n    rating: 50,\n    pic: ''\n  })\n\n  const handleSubmit = async e => {\n    e.preventDefault()\n\n    if (!formdata.owner) return  //! stop making it possible to comment without logging in\n\n    try {\n      await createComment(formdata)\n      commentFormCloseEffect(e.target)\n      // setTimeout(()=>{\n      //   history.push(`/pics/${id}/c`) //? pathname used to trigger rerender.\n      // },1000)\n    } catch (err) {\n      setErrors(err.response.data)\n\n      e.target.classList.remove('comment')\n      e.target.classList.add('shake')\n      setTimeout(()=>{\n        e.target.classList.add('static')\n        e.target.classList.remove('shake') \n      },500)\n    }\n  }\n\n  const addUserAndArtistIdToFormData = () =>{\n    setFormdata({ ...formdata, pic: pic.id, owner: userId })\n  }\n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n\n\n  React.useEffect(() => {\n    if (!pic) return\n    addUserAndArtistIdToFormData()\n  }, [pic])\n\n  const closeCommentForm = e =>{\n    commentFormCloseEffect(e.target.parentNode.parentNode)\n  }\n\n  const commentFormCloseEffect = target => {\n    target.classList.add('accepted')\n    setTimeout(()=>{\n      setDisplayComment(false)\n      target.classList.remove('accepted')\n    },1000)\n  }\n  \n  return (\n    <div \n      className={`comment_menu_wrapper ${displayComment ? 'display' : ''}`}\n    >\n      <form className=\"comment\" onSubmit={handleSubmit}>\n        <div className=\"cross\">\n          <img src={cross} alt=\"cross\" \n            onClick={closeCommentForm}\n          />\n        </div>  \n        <div className=\"input_box\" onMouseEnter={handleHover} onMouseLeave={removeHover}>\n          <img src={commentIcon} \n            className={`${hover === 'text' ? 'hover' : ''}`}\n            alt=\"comment\" />\n          <textarea \n            name=\"text\"\n            onChange={handleChange}\n            value={formdata.text}\n            placeholder='comment'\n          />\n        </div>  \n        { errors.text && \n          <div className=\"error comment\"><p>{errors.text}</p></div>\n        }\n\n        \n        <div className=\"input_box twenty_px_bottom_margin\" \n          onMouseEnter={handleHover} onMouseLeave={removeHover}>\n          <img src={scoreIcon} \n            className={`range ${hover === 'rating' ? 'hover' : ''}`}\n            alt=\"score\" />\n          \n          <div className=\"rating_wrapper\">\n            <label>\n              score\n            </label> \n            \n            <div className=\"rating_inner_wrapper\">\n              <input\n                type=\"range\"\n                name=\"rating\"\n                onChange={handleChange}\n                value={formdata.rating}\n                // className=\"pinkfocus\"\n              /> \n              <div className=\"range_display\">\n                {formdata.rating}\n              </div>  \n            </div>\n          </div>\n        </div>  \n        \n        <div className=\"button_wrapper\">\n          <button className=\"submit\">\n          submit\n          </button>  \n        </div>\n      </form>  \n    </div>\n  )\n\n}\n\nexport default CommentForm","import React from 'react'\nimport { favorite, unFavorite } from '../lib/api'\n\n\n\nfunction FavButton ({ pic, liked, star, userId, setLikedNow }){\n  const [like, setLike] = React.useState(liked)\n\n  \n\n  const handleFavorite = async e => {\n    try {\n      await favorite(pic.id)\n      setLike(!like)\n      setLikedNow(true)\n      e.target.parentNode.classList.add('inflate')\n      setTimeout(()=>{\n        e.target.parentNode.classList.remove('inflate')\n      },400)\n      \n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n\n  const handleUnFavorite = async ()=>{\n    try {\n      await unFavorite(pic.id)\n      setLike(!like)  \n      setLikedNow(false)\n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n  \n\n  \n  return (\n    <>\n      {\n        !userId ?\n          <div \n            className=\"menu_button inactive\"\n          >\n            <img src={star} alt=\"star\" />\n          </div>  \n          : \n          !like ?\n            <div \n              className=\"menu_button\"\n              onClick={handleFavorite}\n            >\n              <img src={star} alt=\"star\" />\n            </div>  \n            :\n            <div \n              className=\"menu_button clicked\"\n              onClick={handleUnFavorite}\n            >\n              <img src={star} alt=\"star\" />\n            </div>  \n      }\n\n      <div className=\"stats\">  \n        {/* {pic.favoritedBy.length + likedNow} */}\n        {pic.favoritedBy.length}\n      </div>  \n    </>  \n  )\n}\n\nexport default FavButton\n\n\n\n","export default __webpack_public_path__ + \"static/media/star.4665b34a.svg\";","export default __webpack_public_path__ + \"static/media/comment.e74e3903.svg\";","import React from 'react'\n\nimport FavButton from './FavButton'\n\nimport star from '../assets/star.svg'\nimport comment from '../assets/comment.svg'\nimport { useHistory } from 'react-router-dom'\n\n\nfunction InteractionMenu({ pic, userId, displayCommentForm, setLikedNow }){\n  const history = useHistory()\n  \n  const commentedByUser = arr => {\n    return arr.comments.filter(comment=>{\n      return comment.owner.id === userId\n    }).length > 0\n  }\n\n\n  return (\n    <div className=\"interaction_menu\">\n      <div className=\"artist_icon\" onClick={()=> history.push(`/artistpage/${pic.artist.id}` )}>\n        <img src={pic.artist.profileImage} alt={pic.artist.username} />\n      </div>\n      <div className=\"artist_name\">\n        <span>by</span>\n        <span \n          className=\"name\"\n          onClick={()=> history.push(`/artistpage/${pic.artist.id}` )}>\n          {pic.artist.username}\n        </span>  \n      </div>\n      {!userId || commentedByUser(pic) ?\n        <div className=\"menu_button inactive\">\n          <img src={comment} alt=\"speech bubble\" />\n        </div> \n        :\n        <div className=\"menu_button\"\n          onClick = {displayCommentForm}\n        >\n          <img src={comment} alt=\"speech bubble\" />\n        </div> \n      }                \n      <div className=\"stats\">\n        {pic.comments.length}\n      </div>  \n\n      <FavButton \n        liked = {\n          pic.favoritedBy.filter(ele=>{\n            return ele.id === userId\n          }).length > 0 ? true : false\n        }\n        userId = {userId}\n        star={star}\n        pic={pic}\n        setLikedNow={setLikedNow}\n      />\n    </div>\n  )\n}\n\nexport default InteractionMenu","import React from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { getSinglePic, deletePic } from '../lib/api'\n\nimport { getUserId } from '../lib/auth'\nimport { deleteComment } from '../lib/api'\nimport CommentForm from './CommentForm'\n\nimport InteractionMenu from './InteractionMenu'\n\n\nfunction ShowPic(){\n  const history = useHistory()\n  const { id } = useParams()\n  // const history = useHistory()\n  // const { pathname } = useLocation()\n  const [pic,setPic] = React.useState(null)\n  const [gather,setGather] = React.useState(false)\n  const [error,setError] = React.useState(false)\n  const [displayComment,setDisplayComment] = React.useState(false)\n  const userId = getUserId()\n\n  const [displayDelete, setDisplayDelete] = React.useState(false)\n  const [commentDeleted, setCommentDeleted] = React.useState(null)\n  const [likedNow, setLikedNow]  = React.useState(null)\n\n\n  const vertPos = []\n  for (let i = 0; i < (16 * 16); i++) vertPos.push(`${Math.ceil(Math.random() * 110) - 100}vh`)\n\n  const horiPos = []\n  for (let i = 0; i < (16 * 16); i++) horiPos.push(`${Math.ceil(Math.random() * 110) - 100}vw`)\n\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSinglePic(id)\n        setPic(data)\n\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id, displayComment, commentDeleted, likedNow])\n\n\n  const mapDots = (data)=>{\n    const grids = []\n    for (let i = 0; i < (16 * 16); i++){\n      grids.push(i)\n    }\n    \n    setTimeout(()=>{\n      setGather(true)\n    },10)\n    \n    return grids.map(grid=>{\n      return (\n        <div className=\"dot\" \n          key={grid} \n          id={grid} \n          style={{ \n            top: vertPos[grid], \n            left: horiPos[grid], \n            backgroundColor: JSON.parse(data.dots)[grid] \n          }}>\n        </div>\n      )\n    })\n  }\n\n  // if (formdata) console.log('form',formdata)\n\n  const mapColorPalette = pic =>{\n    let idN = 0\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div key={`${idN}-${hex}`} style={{ backgroundColor: hex }}>\n        </div>  \n      )\n    })\n  }\n\n  const displayCommentForm = () => setDisplayComment(true)\n\n  \n  const handleDeleteComment = async (id, e) =>{\n    try {\n      await deleteComment(id)\n      e.target.parentNode.parentNode.classList.add('slide_out')\n      setTimeout(()=>{\n        setCommentDeleted(id)\n      },500)\n    } catch (err) {\n      console.log(err.response)\n    }\n\n  }\n\n  const mapComments = arr =>{\n    return arr.map((comment, i)=>{\n      return (\n        <div \n          className={`user_comments ${i === 0 ? 'first' : ''}`}\n          key={comment.id}\n        > \n          <div>\n            <img \n              className=\"small_artist_icon\"\n              src={comment.owner.profileImage} alt={comment.owner.username} \n              onClick={()=>history.push(`/artistpage/${comment.owner.id}`)}\n            />\n            <span\n              className=\"artist_name_link\"\n              onClick={()=>history.push(`/artistpage/${comment.owner.id}`)}\n            >\n              {comment.owner.username}\n            </span>\n            <span>\n              {comment.rating}pts\n            </span>\n          </div>       \n          <div>\n            {comment.text}\n          </div>\n          { userId === comment.owner.id &&\n            <div>         \n              <button onClick={(e)=>handleDeleteComment(comment.id, e)} className=\"delete\">\n                delete\n              </button>\n            </div>\n          }\n        </div>  \n      )\n    })\n  }\n\n\n\n  const deleteArt = async e =>{\n    try {\n      await deletePic(pic.id)\n      e.target.parentNode.parentNode.parentNode.classList.add('delete')\n      setTimeout(()=>{\n        // history.push('/')\n        history.push(`/artistpage/${userId}`)\n      },1000) \n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n  \n\n  const averagePoint = arr => {\n    let points = 0\n    arr.comments.forEach(comments=>{\n      points += comments.rating\n    })\n    if (!points) return 0\n    points /= arr.comments.length\n    return points.toFixed(1)\n  }\n    \n\n  return (\n\n    <>\n      <CommentForm \n        // history ={history}\n        displayComment={displayComment}\n        setDisplayComment={setDisplayComment}\n        pic={pic} \n        // id={id}\n        userId={userId}\n      />\n\n \n      {pic ? \n        <div className=\"wrapper non_center\">\n          <div className={ `dot_wrapper ${gather && 'assemble'}`}>\n            {mapDots(pic)}\n          </div>\n          <div className=\"pic_info\">\n            <div className=\"title\">\n              {pic.title}\n              <span>\n                {averagePoint(pic)}pts\n              </span>\n            </div>\n            <div className=\"description\">\n              {pic.description}\n            </div>\n            <div className=\"categories\">\n              {pic.categories.map(category=>{\n                return (\n                  <span key={category.name}\n                    onClick={()=>history.push(`/pics/${category.name}/1`)}\n                  >\n                    {`${category.name}${pic.categories[pic.categories.length - 1].name !== category.name ? ', ' : ''}`}\n                  </span>  \n                )\n              })}\n            </div>  \n            {pic.artist.id === userId &&\n                <div className=\"pic_show_user_menu\">\n                  <button \n                    className=\"edit\"\n                    onClick={()=>history.push(`/pics/${pic.id}/edit/`)}>\n                      edit\n                  </button>  \n                  <button \n                    className=\"delete\"\n                    onClick={()=>setDisplayDelete(true)}>\n                      delete\n                  </button>  \n                </div>  \n    \n            }\n            { \n              !displayDelete ?\n                null\n                :\n                <div className=\"delete_menu\">\n                      are you sure you want to delete?\n                  <button \n                    className=\"yes\"\n                    onClick={deleteArt}>\n                      yes\n                  </button>\n                  <button \n                    className=\"no\"\n                    onClick={()=>setDisplayDelete(false)}>\n                      no\n                  </button>\n                </div>\n            }\n          </div>  \n\n          <InteractionMenu \n            pic = {pic} \n            userId = {userId} \n            displayCommentForm = {displayCommentForm}\n            setLikedNow={setLikedNow}\n          />\n            \n          {mapComments(pic.comments)}\n\n          <div className=\"used_colors\">\n            {mapColorPalette(pic)}\n          </div> \n        </div> \n        :\n        error ?\n          <div className=\"wrapper\">\n            <p> can&#39;t find it ...</p>\n          </div>\n          :\n          <div className=\"wrapper\">\n            <div className=\"loading_wrapper\">\n              <div className=\"blue_box\"></div>\n              <div className=\"gray_box\"></div>\n            </div>  \n          </div>\n      }\n    </>\n  )\n}\n\nexport default ShowPic","\nexport const sortedByFrequencyDuplicatesAndBlankRemoved = array =>{  \n\n  const countOccurrences = (arr, val) => arr.reduce((a, v) => (v === val ? a + 1 : a), 0)\n  const blankRemoved = array.filter(dot=> dot !== '' && dot)\n  const orderedByFrequency = blankRemoved.map(ele=>{  \n    return `${ele}_${countOccurrences(blankRemoved,ele)}`\n  }).sort((a, b) => b.split('_')[1] - a.split('_')[1])  \n  return [ ...new Set(orderedByFrequency.map(ele=>ele.split('_')[0]))]\n}\n\n\nexport const rgbToHex = (r, g, b) => {\n  if (r > 255 || g > 255 || b > 255)\n    throw 'Invalid color component'\n  return ((r << 16) | (g << 8) | b).toString(16)\n}\n\n\nexport const dynamicSort = property => {\n  let sortOrder = 1\n\n  if (property[0] === '-') {\n    sortOrder = -1\n    property = property.substr(1)\n  }\n\n  return function (a,b) {\n    if (sortOrder === -1){\n      return b[property].localeCompare(a[property])\n    } else {\n      return a[property].localeCompare(b[property])\n    }        \n  }\n}","export const clickAnimation = e => {\n  let clear = null  \n  clearInterval(clear)\n  e.target.classList.add('clicked') \n  clear = setTimeout(()=>{\n    e.target.classList.remove('clicked')\n  },500)\n}\n\nexport const drawIntoGrid = (sourceDots, target) =>{\n  sourceDots.forEach((dot, i)=>{\n    target.current.children[i].style.backgroundColor = dot\n  })\n}\n\nexport const explode = targetGrid =>{\n  for (let i = 0; i < (16 * 16); i++) {\n    targetGrid.current.children[i].style.top = `${Math.ceil(Math.random() * 110) - 50}vh`\n    targetGrid.current.children[i].style.left = `${Math.ceil(Math.random() * 110) - 50}vw`\n    setTimeout(()=>{\n      targetGrid.current.children[i].classList.add('explode')\n    },100)\n  }\n}\n\nexport const mapFromDots = (dots, ctx) => {\n  for (let i = 0; i < (16 * 16); i++){\n    const x = i % 16 * 20\n    const y = Math.floor(i / 16) * 20\n    ctx.fillStyle = dots[i] ? dots[i] : 'transparent'\n    ctx.fillRect(x, y, 20, 20)\n  }\n}\n\n\n","export default __webpack_public_path__ + \"static/media/title_icon.28ae5457.svg\";","export default __webpack_public_path__ + \"static/media/category_icon.09ed3314.svg\";","export default __webpack_public_path__ + \"static/media/description_icon.4f89bb2c.svg\";","export const selectOptions = [\n  { value: 1, label: 'abstract' },\n  { value: 2, label: 'animal' },\n  { value: 3, label: 'architecture' },\n  { value: 4, label: 'fan art' },\n  { value: 5, label: 'film and tv show' },\n  { value: 6, label: 'food' },\n  { value: 7, label: 'game' },\n  { value: 8, label: 'music' },\n  { value: 9, label: 'plant' },\n  { value: 10, label: 'portrait' },\n  { value: 11, label: 'scenery' },\n  { value: 12, label: 'sport' },\n  { value: 13, label: 'transport' },\n  { value: 14, label: 'travel' },\n  { value: 15, label: 'other' }\n]\n\nexport const selectOptionsArray = [\n  'abstract',\n  'animal',\n  'architecture',\n  'fan art',\n  'film and tv show',\n  'food',\n  'game',\n  'music',\n  'plant',\n  'portrait',\n  'scenery',\n  'sport',\n  'transport',\n  'travel',\n  'other'\n]\n\n","\nexport const customStyles = {\n  container: (provided) => ({\n    ...provided,\n    fontSize: 13,\n    width: '100%'\n  }),\n  placeholder: (provided) => ({\n    ...provided,\n    color: 'rgb(123, 135, 146)',\n    textTransform: 'lowercase'\n  }),\n  option: (provided, state) => ({\n    ...provided,\n    color: state.isSelected ? '#b2eaf9' : 'black',\n    borderRadius: 0,\n    backgroundColor: state.isFocused ? '#b2eaf9' : '',\n    ':active': {\n      backgroundColor: '#b2eaf9'\n    }\n  }),\n  menu: (provided) => ({\n    ...provided,\n    borderColor: '#b2eaf9',\n    borderRadius: 0,\n    boxShadow: 'none',\n    border: '#b2eaf9 solid 1px'\n    // marginTop: -1\n  }),\n  dropdownIndicator: (provided) => ({\n    ...provided,\n    color: 'black'\n  }),\n  indicatorSeparator: () => null,\n  valueContainer: (provided) => ({\n    ...provided,\n    marginLeft: -2\n  }),\n  control: (styles, state) => ({ \n    ...styles, \n    boxShadow: state.isFocused ? '0 0 0 2px rgb(253, 116, 185)' : '',\n    backgroundColor: 'white',\n    borderRadius: 0,\n    borderColor: 'transparent',\n    boxSizing: 'border-box',\n    borderBottom: state.isFocused ? '' : '2px solid black',\n    ':hover': {\n      borderColor: 'transparent'\n      // borderBottom: '2px solid rgb(253, 116, 185)'\n    }\n  }),\n  multiValue: (styles) => {\n    return {\n      ...styles,\n      backgroundColor: 'black',\n      fontSize: 15,\n      borderRadius: 0,\n      padding: 2\n    }\n  },\n  multiValueLabel: (styles) => ({\n    ...styles,\n    color: 'white'\n  }),\n  multiValueRemove: (styles) => ({\n    ...styles,\n    color: 'white',\n    borderRadius: 0,\n    ':hover': {\n      backgroundColor: 'white',\n      color: 'black'\n    }\n  })\n}","import React from 'react'\n\nimport Select from 'react-select'\nimport titleIcon from '../assets/title_icon.svg'\nimport categoryIcon from '../assets/category_icon.svg'\nimport descriptionIcon from '../assets/description_icon.svg'\n\nimport { selectOptions, selectOptionsArray } from './select/selectOptions.js'\nimport { customStyles } from './select/customStyles.js'\n\n\n\n\nfunction ArtSubmitForm({ formdata, handleChange, handleUpload, errors }){\n  const [hover, setHover] = React.useState(null)\n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n  const handleHoverSelect = () => setHover('categories')\n\n  const handleMultiChange = (selected, name) => {\n    const value = selected ? selected.map(item=> item.value) : []\n    handleChange({\n      target: { name, value }\n    })\n  }\n\n\n  return (\n\n    <form className=\"art_submission_menu\"\n      // ref={submissionForm}\n    > \n      { errors.dots && \n          <div className=\"error center\"><p>{errors.dots}</p></div>\n      }\n        \n      <div className=\"input_box\">\n        <img src={titleIcon} \n          className={`${hover === 'title' ? 'hover' : ''}`}\n          alt=\"title\" />\n        <input type=\"title\" \n          name=\"title\"\n          onChange={handleChange}\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n          value={formdata.title}\n          placeholder=\"title\"\n          className=\"pinkfocus\"\n        />\n      </div>\n      { errors.title && \n          <div className=\"error sign_up\"><p>{errors.title}</p></div>\n      }\n\n      <div className=\"input_box\"\n        onMouseEnter={handleHoverSelect}\n        onMouseLeave={removeHover}\n      >\n        <img src={categoryIcon} \n          className={`${hover === 'categories' ? 'hover' : ''}`}\n          alt=\"category\" \n          onMouseEnter={removeHover}\n        />\n        <Select\n          styles={customStyles}\n          options={selectOptions}\n          isMulti\n          name='categories'\n          onChange = {(selected) => handleMultiChange(selected, 'categories')} \n          value = {formdata.categories.map(ele=>{ \n            if (!ele.id) {\n              return { value: ele, label: selectOptionsArray[ele - 1] }\n            }\n            return { value: ele.id, label: selectOptionsArray[ele.id - 1] }\n          })}\n        />\n      </div>  \n      { errors.categories && \n          <div className=\"error sign_up\"><p>{errors.categories}</p></div>\n      }\n\n      <div className=\"input_box\">\n        <img src={descriptionIcon} \n          className={`${hover === 'description' ? 'hover' : ''}`}\n          alt=\"description\" />\n        <textarea type=\"description\" \n          name=\"description\"\n          onChange={handleChange}\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n          value={formdata.description}\n          placeholder=\"description\"\n          className=\"twenty_px_bottom_margin\"\n        />\n      </div>  \n      { errors.description && \n          <div className=\"error sign_up margin_adjusted_twenty\"><p>{errors.description}</p></div>\n      }\n\n      <div className=\"button_wrapper\">\n        <button \n          onClick={handleUpload}\n          className=\"submit_art\"\n        >\n        submit\n        </button>  \n      </div>\n    </form>\n\n  )\n}\n\nexport default ArtSubmitForm","export default __webpack_public_path__ + \"static/media/upload.7a8fabce.svg\";","export default __webpack_public_path__ + \"static/media/palette.4de6f000.svg\";","export default __webpack_public_path__ + \"static/media/undo.5ce6f111.svg\";","import React from 'react'\nimport { useRef } from 'react'\nimport axios from 'axios'\nimport { v4 as uuidv4 } from 'uuid'\nimport { useHistory } from 'react-router-dom'\n\nimport { getUserId } from '../lib/auth'\nimport { createPic, getUserInfo } from '../lib/api'\nimport { sortedByFrequencyDuplicatesAndBlankRemoved, rgbToHex } from '../lib/utils'\nimport { clickAnimation, drawIntoGrid, explode, mapFromDots } from '../lib/draw'\nimport ArtSubmitForm from './ArtSubmitForm'\nimport cross from '../assets/cross.svg'\nimport useForm from '../hooks/useForm' \n\nimport uploadIcon from '../assets/upload.svg'\nimport paletteIcon from '../assets/palette.svg'\nimport undoIcon from '../assets/undo.svg'\n\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\n\n\nfunction CreatePic(){\n  const history = useHistory()\n  const [user, setUser] = React.useState(null)\n  const [displayPalette, setDisplayPalette] = React.useState(false)\n  const [palette, setPalette] = React.useState(null)\n  const [uploadedImageBlobUrl, setUploadedImageBlobUrl] = React.useState(null)\n\n  const [drawingUrl, setDrawingUrl] = React.useState(null)\n  const [drawSetting, setDrawSetting] = React.useState({\n    color: '#32d0fc'\n  }) \n  const { formdata,  handleChange, setErrors, errors } = useForm({\n    title: '', \n    image: '', \n    dots: '', \n    colorPalette: '',\n    categories: [],\n    artist: '',\n    description: ''\n  })\n\n  const [dots, setDots] = React.useState(Array(256).fill(''))\n  const [draw, setDraw] = React.useState(false)\n  const drawOn = ()=> setDraw(true) \n  const drawOff = ()=> setDraw(false) \n  const canvas = useRef()\n  const drawingGrid = useRef()\n  const submissionForm = useRef(null)\n  const submissionButton = useRef(null)\n  let ctx = null\n  \n  const userId = getUserId()\n\n  const mapFromImage = e => {\n    if (!e.target.files[0]) return\n    const uploadedImage = e.target.files[0]\n    const blobUrl = window.URL.createObjectURL(uploadedImage)\n    setUploadedImageBlobUrl(blobUrl)\n  }\n  \n  const historyLimit = 50\n  const [drawingHistory, setDrawingHistory] = React.useState(Array(historyLimit - 1).fill(Array(256).fill('')))\n  const [historyStep, setHistoryStep] = React.useState(historyLimit)\n\n\n  const recordHistory = arr =>{\n    let records = [...drawingHistory]\n    records.push([...arr])\n    if (records.length > historyLimit + 1) {\n      records = records.filter((record,i)=>{\n        if (i !== 0) return record\n      })\n    }\n    setDrawingHistory(records)\n  }\n\n  React.useEffect(() => {\n    if (!uploadedImageBlobUrl) return\n\n    setUpCanvas()\n    if (uploadedImageBlobUrl) {\n      const image = new Image()\n      image.onload = function() {    \n        const width = image.naturalWidth \n        const height = image.naturalHeight \n        if (width < height){\n          canvas.current.setAttribute('width', 320)\n          canvas.current.setAttribute('height', 320 * (height / width)) \n          ctx.drawImage(image, 0, 0, 320, 320 * (height / width))\n        } else {\n          canvas.current.setAttribute('width', 320 * (width / height))\n          canvas.current.setAttribute('height', 320) \n          ctx.drawImage(image, 0, 0, 320 * (width / height), 320)\n        }\n      \n        // ctx.drawImage(image, 0, 0)\n        // ctx.drawImage(image, 0, 0, 320, 320)\n        const dotsFromImage = []\n\n        for (let i = 0; i < 256; i++) {\n          const y = Math.floor(i / 16) * 20\n          const x = i % 16 * 20\n          const c = ctx.getImageData(x + 5, y + 5, 1, 1).data\n          const hex = '#' + ('000000' + rgbToHex(c[0], c[1], c[2])).slice(-6)\n          dotsFromImage.push(hex)\n        }\n        setDots(dotsFromImage)\n        drawIntoGrid(dotsFromImage,drawingGrid)\n      }\n      image.src = uploadedImageBlobUrl\n    }\n  }, [uploadedImageBlobUrl])\n  \n\n  const setUpCanvas = () =>{\n    const canvasEle = canvas.current\n    canvasEle.width = canvasEle.clientWidth\n    canvasEle.height = canvasEle.clientHeight    \n    ctx = canvasEle.getContext('2d')\n  }\n  \n  const handleSettingChange = e => {\n    setDrawSetting({ ...drawSetting, [e.target.name]: e.target.value })\n  }\n\n  const handleUpload = async e => { \n    e.preventDefault()\n    if (e.target.classList.contains('deactivate')) return\n    e.target.classList.add('deactivate')\n\n    const drawnDots = dots.filter(dot=> dot)\n    const dotsError = drawnDots.length === 0 ? 'your canvas is blank!' : ''\n    const titleError = formdata.title === '' ? 'please enter title' : ''\n    const selectError = formdata.categories.length === 0 ? 'please select atleast one' : ''\n    // const descriptionError = formdata.description === '' ? 'please enter description' : ''\n    setErrors({ \n      title: titleError, \n      categories: selectError, \n      // description: descriptionError,\n      dots: dotsError \n    })\n    if (dotsError || titleError || selectError) {     \n      submissionForm.current = e.target.parentNode.parentNode\n      submissionForm.current.classList.add('shake')\n      setTimeout(()=>{\n        submissionForm.current.classList.add('static')\n        submissionForm.current.classList.remove('shake') \n      },500)\n      e.target.classList.remove('deactivate')\n      return\n    }\n\n    setUpCanvas() //these ensure that canvas is rendered before upload\n    mapFromDots(dots,ctx)\n    const can = canvas.current.toDataURL('image/png')\n    // can = can.replace('image/png', 'image/octet-stream')\n    const data = new FormData() \n    data.append('file', can)\n    data.append('upload_preset', uploadPreset)\n    const res = await axios.post(uploadUrl, data)\n    setDrawingUrl(res.data.url)\n    submissionButton.current = e.target \n  }\n  \n  const handleSubmit = async () => {  \n    const palette = filterPalette(dots)\n    try {\n      await createPic({ \n        title: formdata.title, \n        image: drawingUrl, \n        dots: JSON.stringify(dots), \n        colorPalette: JSON.stringify(palette),\n        categories: formdata.categories,\n        artist: userId,\n        description: formdata.description \n      })\n      explode(drawingGrid)\n      setTimeout(()=>{\n        history.push(`/artistpage/${userId}`)\n      },1000)\n    } catch (err){\n      console.log(err)\n      submissionButton.current.classList.remove('deactivate')\n    }\n  }\n\n  React.useEffect(() => {\n    if (!drawingUrl) return\n    handleSubmit()\n  }, [drawingUrl])\n  \n\n  const drawDot = e =>{\n    if (!draw) return\n    e.target.style.backgroundColor = drawSetting.color\n    dots[e.target.id] = drawSetting.color  // record\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n\n  const drawDotClick = e =>{\n    const color = e.target.style.backgroundColor === '' ? drawSetting.color : ''\n    e.target.style.backgroundColor = color\n    dots[e.target.id] = color\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n  \n  const filterPalette = arr =>{\n    const palette = Array(8).fill('')\n    for (let i = 0; i < 8; i++){\n      palette[i] = sortedByFrequencyDuplicatesAndBlankRemoved(arr)[i]\n    }\n    return palette\n  }\n\n  // const filterPalette = arr =>{\n  //   return sortedByFrequencyDuplicatesAndBlankRemoved(arr).slice(0,8)\n  // } //* this would give me blank array to begin, so I will use filterPalette above.\n\n  //! don't need uuid? to be considered\n  const mapPalette = arr =>{   \n    const palette = filterPalette(arr)\n    return palette.map(hex=>{\n      const idN = uuidv4()\n      return (\n        <div key={idN} \n          onClick={handlePalettePick}\n          id={`p${idN}_${hex}`}\n          className=\"palette_block\"\n          style={{ backgroundColor: hex }}  \n        >  \n        </div>\n      )\n    })\n  }\n\n  const handlePalettePick = e =>{\n    if (e.target.id.split('_')[1] === 'undefined') return\n    console.log(e.target.style.backgroundColor)\n    setDrawSetting({ ...drawSetting, color: e.target.id.split('_')[1] })\n  }\n\n\n  const mapGrid = () =>{    \n    const grids = []\n    for (let i = 0; i < (16 * 16); i++) grids.push(i)\n    return grids.map(grid=>{\n      return (\n        <div key={grid} \n          onClick={drawDotClick}\n          onMouseMove={drawDot}\n          id={grid}\n          className=\"grid\">\n        </div>\n      )\n    })\n  }\n  \n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getUserInfo()\n        setUser(data)\n      } catch (err) {\n        console.log('error')\n      }\n    }\n    getData()\n  },[])\n  \n\n  \n  let idN = 0\n  const mapFavoritedPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          id = {idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n  \n  const fork = forkedDots =>{\n    drawIntoGrid(JSON.parse(forkedDots),drawingGrid)\n    setDots(JSON.parse(forkedDots))\n  }\n\n  const mapOptions = arr =>{\n    return arr.map(pic=>{\n      return (\n        <div key={`p${pic.id}`}\n          className=\"palette_wrapper\"\n        >\n          <img onClick ={()=>fork(pic.dots)}\n            src={pic.image} alt={pic.title}\n          />  \n          <div onClick={()=>{\n            setDisplayPalette(false)\n            setPalette(JSON.parse(pic.colorPalette))\n          }}\n          className=\"palette_option\"\n          >\n            {mapFavoritedPalette(pic)}\n          </div>  \n        </div>\n      )\n    }\n    )\n  }\n  \n  //! still a little buggy\n  const handleBack = () =>{\n    if (historyStep === 0 || !drawingHistory[historyStep]) return\n    drawIntoGrid(drawingHistory[historyStep],drawingGrid)\n    setDots(drawingHistory[historyStep - 1])\n    setHistoryStep(historyStep - 1)\n  }\n\n  return (\n    <>\n      {\n        !userId ?\n          <div className=\"wrapper\">\n            <p>please log in</p>\n          </div>\n          :\n          <div className=\"wrapper no_height slide_in\">\n            <div className=\"inner_wrapper\">\n              <div className=\"grid_wrapper\"\n                onMouseDown={drawOn}\n                onMouseUp={drawOff}\n                ref={drawingGrid}\n              > \n                {mapGrid()}\n                <canvas \n                  ref={canvas}\n                  className=\"dots\" \n                />\n                <div className=\"color_background\">\n                </div>\n              </div>  \n    \n              <div className=\"color_palette\">\n                {mapPalette(dots)}\n              </div>  \n            </div>\n      \n            <div className=\"tool_box\">\n              <div \n                onClick={handleBack}\n                className=\"back\">\n                <img src={undoIcon} alt=\"undo\" />\n              </div>  \n          \n              <input type=\"color\" \n                className=\"color pinkfocus\"\n                name=\"color\"\n                onChange={handleSettingChange}\n                value={drawSetting.color}\n              />\n\n              <img src={paletteIcon}\n                className=\"palette_icon\"\n                onClick={()=>{ \n                  setDisplayPalette(!displayPalette) \n                }}\n              /> \n\n              <div className=\"image_upload_wrapper\">\n                <label htmlFor=\"upload\" > \n                  <img src={uploadIcon} alt=\"upload button\" />\n                </label>\n                <input\n                  id=\"upload\"\n                  type=\"file\"\n                  onChange={mapFromImage}\n                />\n              </div>  \n            </div>\n            <div \n              onMouseLeave={()=>setDisplayPalette(false)}\n              className={`palette_choice_menu ${displayPalette && 'open'}`}\n            >\n              <div className=\"cross\">\n                <img src={cross} alt=\"cross\" \n                  onClick={()=>setDisplayPalette(false)}\n                />\n              </div>\n              {\n                user &&\n            <>\n              <div className=\"favorited_palettes\">\n                {mapOptions(user.favoritedPic)}  \n              </div>  \n            </>   \n              }\n            </div>  \n            {\n              palette ?\n                <div className=\"palette_option\">\n                  {mapPalette(palette)}\n                </div>\n                :\n                null\n            }\n  \n            <ArtSubmitForm \n              handleUpload={handleUpload}\n              formdata={formdata}\n              handleChange={handleChange}\n              errors={errors}\n            />\n          </div>\n      }\n    </>\n  )\n}\n\nexport default CreatePic\n\n\n// React.useEffect(() => {\n//   if (!uploadedImageBlobUrl) return\n\n//   setUpCanvas()\n//   if (uploadedImageBlobUrl) {\n//     const image = new Image()\n//     image.onload = function() {    \n//       ctx.drawImage(image, 0, 0)\n//       const arr = []\n//       const dotsFromImage = []\n//       for (let i = 0; i < 256; i++) arr.push(i)\n\n//       arr.forEach(ele=>{\n//         const y = Math.floor(ele / 16) * 20\n//         const x = ele % 16 * 20\n//         ctx.drawImage(image, x, y, 20, 20, x, y, 20, 20)\n//         const c = ctx.getImageData(x + 5, y + 5, 1, 1).data\n//         const hex = '#' + ('000000' + rgbToHex(c[0], c[1], c[2])).slice(-6)\n//         dotsFromImage.push(hex)\n//       })\n//       setDots(dotsFromImage)\n//       drawIntoGrid(dotsFromImage,drawingGrid)\n//     }\n//     image.src = uploadedImageBlobUrl\n//   }\n// }, [uploadedImageBlobUrl])\n\n\n//?\n// React.useEffect(() => {\n//   if (!uploadedImageBlobUrl) return\n\n//   setUpCanvas()\n//   if (uploadedImageBlobUrl) {\n//     const image = new Image()\n//     image.onload = function() {    \n//       ctx.drawImage(image, 0, 0)\n//       const arr = []\n//       for (let i = 0; i < 256; i++) arr.push(i)\n//       const dotsFromImage = []\n\n//       arr.forEach(ele=>{\n//         const y = Math.floor(ele / 16) * 20\n//         const x = ele % 16 * 20\n//         // ctx.drawImage(image, x, y, 20, 20, x, y, 20, 20)\n//         const c = ctx.getImageData(x + 5, y + 5, 1, 1).data\n//         const hex = '#' + ('000000' + rgbToHex(c[0], c[1], c[2])).slice(-6)\n//         dotsFromImage.push(hex)\n//       })\n//       setDots(dotsFromImage)\n//       drawIntoGrid(dotsFromImage,drawingGrid)\n//     }\n//     image.src = uploadedImageBlobUrl\n//   }\n// }, [uploadedImageBlobUrl])\n\n","export default __webpack_public_path__ + \"static/media/email_icon.6e6a1ef3.svg\";","export default __webpack_public_path__ + \"static/media/pass_icon.837d96c9.svg\";","import React from 'react'\n\n\nfunction RandomBlocks(){\n\n  let idN = 0\n  const blocks = []\n  const colors = [ 'rgb(250, 181, 227)','#b2eaf9','#b2eaf9']\n  for (let i = 0; i < 10; i++){\n    blocks.push(colors[Math.floor(Math.random() * colors.length)])\n  }\n\n\n  return blocks.map(block=>{\n    idN++\n    return (\n      <div \n        key={idN}\n        className=\"color_block_container\"\n        style={{ position: 'fixed', top: `${Math.ceil(Math.random() * 80)}%`, left: `${Math.ceil(Math.random() * 80)}%`   }}\n      >\n        <div \n          className=\"color_block\" \n          style={{ backgroundColor: block }}\n        >\n        </div>  \n      </div>  \n    )\n  })\n}\n\nexport default RandomBlocks","import React from 'react'\nimport { loginUser, setToken } from '../lib/auth'\nimport { useHistory } from 'react-router-dom'\nimport useForm from '../hooks/useForm'\n\nimport emailIcon from '../assets/email_icon.svg'\nimport passIcon from '../assets/pass_icon.svg'\nimport RandomBlocks from '../components/RandomBlocks'\n\n\n\nfunction Login (){\n  const history = useHistory()\n  const [hover, setHover] = React.useState(null)\n  const [animate, setAnimate] = React.useState(false)\n  const [error, setError] = React.useState(false)\n  const { formdata, handleChange } = useForm({\n    email: '',\n    password: ''\n  })\n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n\n\n  const handleSubmit = async e => { \n    e.preventDefault()\n    try {\n      const { data } = await loginUser(formdata)\n\n      e.target.classList.remove('sign_in')\n      e.target.classList.add('accepted')\n      setAnimate(true)\n      setTimeout(()=>{\n        setToken(data.token)\n        history.push('/pics/all/1')\n        // history.push(`/artistpage/${getUserId()}`)\n      },1000)\n    } catch (err) {\n      setError(true)\n\n      e.target.classList.remove('sign_in')\n      e.target.classList.add('shake')\n      setTimeout(()=>{\n        e.target.classList.add('static')\n        e.target.classList.remove('shake') \n\n      },500)\n    }\n  }  \n\n  return (\n    <div className={`wrapper ${animate ? 'animate' : '' }`}>\n      <RandomBlocks />\n      <form\n        onSubmit={handleSubmit}\n        className=\"sign_in\"\n      >\n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n          onFocus={()=>setError(false)}\n        >\n          <img src={emailIcon} \n            className={`${hover === 'email' ? 'hover' : ''}`}\n            alt=\"email\" />\n          <input \n            placeholder=\"email\"\n            onChange={handleChange}\n            name=\"email\"\n            type=\"text\"\n            value={formdata.email}\n            className=\"pinkfocus\"\n          />\n        </div>\n        \n        <div className=\"input_box thirty_px_bottom_margin\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n          onFocus={()=>setError(false)}\n        >\n          <img src={passIcon} \n            className={`${hover === 'password' ? 'hover' : ''}`}\n            alt=\"password\" />\n          <input \n            placeholder=\"password\"\n            type=\"password\"\n            onChange={handleChange}\n            name=\"password\"\n            value={formdata.password}\n            className=\"pinkfocus\"\n          />\n        </div>\n        {error && \n          <div className=\"error\">\n            <p>hmm, username and/or password is incorrect...</p>\n          </div>\n        }\n\n        <div className=\"button_wrapper\">\n          <button \n            className=\"login center\"\n          >\n            login\n          </button>  \n        </div>\n      </form>\n    </div> \n\n  )\n}\n\nexport default Login","import React from 'react'\nimport axios from 'axios'\n\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\n\nfunction ImageUploadField( { value, name, onChange, defaultProfImage } ) {\n  const [ hover, setHover] = React.useState(false)\n\n\n  const handleUpload = async e => {\n    const data = new FormData()  \n    data.append('file', e.target.files[0])\n    data.append('upload_preset', uploadPreset)\n    const res = await axios.post(uploadUrl, data)\n    onChange({ target: { name, value: res.data.url } }) //* handleChange triggered\n  }\n  \n  const handleHover = () =>{\n    setHover(!hover)\n  }\n\n\n\n  return (\n    <>\n      {\n        value && value !== defaultProfImage ?\n          <div className=\"profile_preview\">\n            <img src={value} alt=\"profileImage\" style={{ width: '100%', height: 'auto' }}/>\n          </div>\n          :\n          <div className=\"upload_button_wrapper\">\n            <div className=\"input_wrapper\" onMouseEnter={handleHover} onMouseLeave={handleHover}>\n              <label className={`upload_button ${hover ? 'hover' : ''}`} htmlFor=\"upload\" > \n                upload profile image\n              </label>\n              <input\n                id=\"upload\"\n                type=\"file\"\n                accept=\"jpg\"\n                onChange={handleUpload}\n                name={name}\n              />\n            </div>  \n          </div>\n      }\n\n      \n    </>\n  )\n}\n\nexport default ImageUploadField","export default __webpack_public_path__ + \"static/media/profile_icon.e00fda7b.svg\";","import React from 'react'\nimport { signUpUser } from '../lib/auth'\nimport { useHistory } from 'react-router-dom'\n\nimport useForm from '../hooks/useForm'\nimport ImageUploadField from './ImageUploadField'\nimport profileIcon from '../assets/profile_icon.svg'\nimport emailIcon from '../assets/email_icon.svg'\nimport passIcon from '../assets/pass_icon.svg'\nimport RandomBlocks from '../components/RandomBlocks'\n\nfunction SignUp(){\n  const defaultProfImage = 'https://res.cloudinary.com/dcwxp0m8g/image/upload/v1612090815/image_upload_test/wuzrwkwj1e4qs24n2bg0.png'\n  const history = useHistory()\n  const [hover, setHover] = React.useState(null)\n  const [animate, setAnimate] = React.useState(false)\n  const { formdata, errors, handleChange, setErrors } = useForm({\n    username: '',\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    profileImage: defaultProfImage\n  })\n  \n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n\n\n  const handleSubmit = async e => { \n    e.preventDefault()\n    try {\n      await signUpUser(formdata)\n      e.target.classList.remove('sign_up')\n      e.target.classList.add('accepted')\n      setAnimate(true)\n      setTimeout(()=>{\n        history.push('/login')\n      },1000)\n    } catch (err) {\n      setErrors(err.response.data)\n    \n      e.target.classList.remove('sign_up')\n      e.target.classList.add('shake')\n      setTimeout(()=>{\n        e.target.classList.add('static')\n        e.target.classList.remove('shake') \n      },500)\n    }\n  }  \n\n\n\n  return (\n    <div className={`wrapper ${animate ? 'animate' : '' }`}>\n      <RandomBlocks />\n      <form\n        onSubmit={handleSubmit}\n        className=\"sign_up\"\n      > \n        <div className=\"input_box column\">\n          <ImageUploadField \n            value={formdata.profileImage}\n            defaultProfImage={defaultProfImage}\n            name=\"profileImage\"\n            onChange={handleChange}\n          />\n          {errors.username && <p>{errors.profileImage}</p>}\n        </div>\n\n\n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={profileIcon} \n            className={`${hover === 'username' ? 'hover' : ''}`}\n            alt=\"username\" />\n          <input \n            placeholder=\"username\"\n            onChange={handleChange}\n            name=\"username\"\n            type=\"text\"\n            value={formdata.username}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.username && \n          <div className=\"error sign_up\"><p>{errors.username}</p></div>\n        }\n\n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={emailIcon} \n            className={`${hover === 'email' ? 'hover' : ''}`}\n            alt=\"email\" />\n          <input \n            placeholder=\"email\"\n            type=\"text\"\n            onChange={handleChange}\n            name=\"email\"\n            value={formdata.email}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.email && \n          <div className=\"error sign_up\"><p>{errors.email}</p></div>\n        }\n        \n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={passIcon} \n            className={`${hover === 'password' ? 'hover' : ''}`}\n            alt=\"password\" />\n          <input \n            placeholder=\"password\"\n            type=\"password\"\n            onChange={handleChange}\n            name=\"password\"\n            value={formdata.password}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.password && \n          <div className=\"error sign_up\"><p>{errors.password}</p></div>\n        }\n        \n\n        <div className=\"input_box forty_px_bottom_margin\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={passIcon} \n            className={`${hover === 'passwordConfirmation' ? 'hover' : ''}`}\n            alt=\"password confirmation\" />\n          <input \n            placeholder=\"confirm your password\"\n            type=\"password\"\n            onChange={handleChange}\n            name=\"passwordConfirmation\"\n            value={formdata.passwordConfirmation}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.passwordConfirmation && \n          <div className=\"error sign_up margin_adjusted_forty\"><p>{errors.passwordConfirmation}</p></div>\n        }\n        \n\n        <div className=\"button_wrapper\">\n          <button \n            className=\"sign_up\"\n          >\n            sign up\n          </button>  \n        </div>\n      </form>\n    </div> \n\n  )\n}\n\nexport default SignUp","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { followArtist, unfollowArtist } from '../lib/api'\nimport { getUserId } from '../lib/auth'\n\nfunction FollowButton ({ followed, artistData, setFollowedNow, artistId }){\n  const [follow, setFollow] = React.useState(followed)\n  const userId = getUserId()\n  const history = useHistory()\n\n  const handleFollow = async () => {\n    try {\n      await followArtist(artistData.id)\n      setFollow(!follow)\n      setFollowedNow(true)\n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n\n  const handleUnfollow = async () => {\n    try {\n      await unfollowArtist(artistData.id)\n      setFollow(!follow)\n      setFollowedNow(false)\n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n\n\n  return (\n    <div className=\"followers_following\">\n      {artistData.following.length} \n      <span\n        onClick={()=> history.push(`/following/${artistId}`)}\n      >following</span> \n      {artistData.followedBy.length} \n      <span\n        onClick={()=> history.push(`/followers/${artistId}`)}\n      >followers</span>\n\n      {\n        !userId || userId === artistData.id ?\n          null\n          :\n          !follow ?\n            <button \n              onClick ={handleFollow}\n              className=\"follow\">\n            follow\n            </button>\n            :\n            <button \n              onClick ={handleUnfollow}\n              className=\"unfollow\">\n            unfollow\n            </button>\n      }\n\n  \n    </div>\n  )\n}\n\nexport default FollowButton","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { getAllPics } from '../lib/api'\n\nfunction Feed({ username, userId, mapColorPalette }){\n  const [error, setError] = React.useState(false)\n  const [picCounter, setPicCounter] = React.useState(null)\n  // const [pics, setPics] = React.useState(null)\n  const [filteredPicsFollowed, setFilteredPicsFollowed] = React.useState([])\n  const [filteredPicsFavorited, setFilteredPicsFavorited] = React.useState([])\n  const user = userId\n  // let idN = 0\n\n  const filterPicsFollowed = pics => {\n    const artistCheck = pics.map(pic=>{\n      return pic.artist.followedBy.filter(follower=>{\n        return follower === user\n      })\n    })\n    const result = pics.filter((_pic,i) =>{\n      return artistCheck[i].length !== 0\n    }) \n    return result\n  }\n\n  const filterPicsFavorited = pics => {\n    const artistCheck = pics.map(pic=>{\n      return pic.favoritedBy.filter(follower=>{\n        return follower.id === user\n      })\n    })\n    const result = pics.filter((_pic,i) =>{\n      return artistCheck[i].length !== 0\n    }) \n    return result\n  }\n\n\n  React.useEffect(() => {\n    if (!user) return\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setFilteredPicsFollowed(filterPicsFollowed(data.sort((a, b) => b.id - a.id)))\n        setFilteredPicsFavorited(filterPicsFavorited(data.sort((a, b) => b.id - a.id)))\n        // if (filterPics(data).length === 0) setPics(data.slice(0,12))\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[user])\n  \n\n\n  React.useEffect(() => {\n    if (!picCounter) return\n    const timer = setTimeout(()=>{\n      setPicCounter(picCounter + 1)\n    },80)\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [picCounter])\n\n  const mapPics = (pics, subclass) => {\n    if (picCounter <= pics.length){\n      setPicCounter(picCounter + 1)\n    }\n    return pics.filter(pic=>{\n      if (pics.indexOf(pic) <= picCounter) return pic\n    }).slice(0,24).map(pic=>{\n      return (\n        <div \n          className={`index index_float_up ${subclass}`}\n          key={pic.id}\n          // style={{\n          //   animationDelay: `${i * 0.05}s`\n          // }}\n        >  \n          <Link to={`/pics/${pic.id}/`}>\n            <img src={pic.image} alt={pic.title} className=\"bop\" />\n          </Link>\n          <div className=\"index_palette fade_in\">\n            {mapColorPalette(pic)}\n          </div>  \n        </div>  \n      )\n    })\n  }\n\n\n  return (\n\n    <>\n      {\n        !user ?\n          <div className=\"wrapper\">\n            <p className=\"blue\">please login</p>\n          </div>\n          :\n          null\n      }\n\n      {\n        filteredPicsFavorited && filteredPicsFavorited.length !== 0 ?\n          <>\n            <div className=\"feed_title fade_in\">\n              art favorited by {username}:\n            </div>\n            <main className=\"feed_wrapper\">\n              {mapPics(filteredPicsFavorited,'small')}\n            </main>\n          </>    \n          :\n          error ?\n            <p>hmm... error...</p>\n            :\n            null\n      \n      }\n      {\n        filteredPicsFollowed && filteredPicsFollowed.length !== 0 ?\n          <>\n            <div className=\"feed_title fade_in\">\n              art by artists followed by {username}:\n            </div>\n            <main className=\"feed_wrapper\">\n              {mapPics(filteredPicsFollowed,'small')}\n            </main>\n          </>    \n          :\n          error ?\n            <p>hmm... error...</p>\n            :\n            null \n      }\n\n    \n    </>  \n  )\n}\n\nexport default Feed","import React from 'react'\nimport { useParams, Link } from 'react-router-dom'\n\nimport FollowButton from './FollowButton'\nimport { getArtistPics } from '../lib/api'\nimport { getUserId } from '../lib/auth'\n\nimport Feed from './Feed'\n\nfunction ShowArtistPics (){\n  const { id } = useParams()\n  const [artistData,setArtistData] = React.useState(null)\n  const [error,setError] = React.useState(false)\n  const [followedNow, setFollowedNow]  = React.useState(null)\n  const [picCounter, setPicCounter] = React.useState(null)\n  let idN = 0\n\n  const userId = getUserId()\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getArtistPics(id)\n        setArtistData(data)\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id, followedNow])\n\n\n  const mapColorPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n  \n  React.useEffect(() => {\n    if (!picCounter) return\n    const timer = setTimeout(()=>{\n      setPicCounter(picCounter + 1)\n    },80)\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [picCounter])\n\n  const mapPics = (pics, subclass) => {\n    if (picCounter <= pics.length){\n      setPicCounter(picCounter + 1)\n    }\n    return pics.filter(pic=>{\n      if (pics.indexOf(pic) <= picCounter) return pic\n    }).slice(0,24).map(pic=>{\n      return (\n        <div \n          className={`index index_float_up ${subclass}`}\n          key={pic.id}\n          // style={{\n          //   animationDelay: `${i * 0.05}s`\n          // }}\n        >  \n          <Link to={`/pics/${pic.id}/`}>\n            <img src={pic.image} alt={pic.title} className=\"bop\" />\n          </Link>\n          <div className=\"index_palette fade_in\">\n            {mapColorPalette(pic)}\n          </div>  \n        </div>  \n      )\n    })\n  }\n\n\n\n  // if (artistData) console.log('pics',artistData.followedBy)\n\n  return (\n    <>\n      {\n        artistData ?\n          <div className=\"wrapper artist_profile\">\n            <div className=\"artist_info_wrapper\">\n              <div className=\"profile_image\">\n                <img src={artistData.profileImage} alt={artistData.username} />\n              </div>\n\n              <div className=\"artist_name\">\n                {artistData.username}\n                <FollowButton \n                  followed = {\n                    artistData.followedBy.filter(ele=>{\n                      return ele.id === userId\n                    }).length > 0 ? true : false\n                  }\n                  artistId = {id}\n                  artistData = {artistData}\n                  setFollowedNow={setFollowedNow}\n                />  \n              </div>  \n            </div>  \n            { artistData.createdPic.length !== 0 ?\n              <div className=\"feed_title fade_in\">\n                art by {artistData.username}:\n              </div>\n              :\n              null\n            }\n\n            <div className=\"feed_wrapper\">\n              {mapPics(artistData.createdPic,'')}\n            </div>  \n            \n            <Feed \n              username={artistData.username}\n              userId={artistData.id}\n              mapColorPalette={mapColorPalette}\n            />\n          </div>     \n          :\n          error ?\n            <div className=\"wrapper\">\n              <p>oops... error...</p>\n            </div>  \n            :\n            <div className=\"wrapper\">\n              <div className=\"loading_wrapper\">\n                <div className=\"blue_box\"></div>\n                <div className=\"gray_box\"></div>\n              </div>  \n            </div>\n      }   \n    </>\n\n  )\n}\n\nexport default ShowArtistPics\n\n\n// const mapPics = pics => {\n//   return pics.map(pic=>{\n//     return (\n//       <div \n//         key={pic.id}\n//         className=\"index\"\n//       >  \n//         <Link to={`/pics/${pic.id}/`}>\n//           <img src={pic.image} alt={pic.title} />\n//         </Link>\n//         <div className=\"index_palette\">\n//           {mapColorPalette(pic)}\n//         </div>  \n//       </div>  \n//     )\n//   })\n// }","import React from 'react'\nimport { useRef } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport { useHistory } from 'react-router-dom'\n\nimport { getSinglePic, getUserInfo, editPic } from '../lib/api'\nimport { getUserId } from '../lib/auth'\nimport { sortedByFrequencyDuplicatesAndBlankRemoved, rgbToHex } from '../lib/utils'\n\n\nimport { clickAnimation, drawIntoGrid, mapFromDots, explode } from '../lib/draw'\nimport cross from '../assets/cross.svg'\nimport useForm from '../hooks/useForm' \nimport ArtSubmitForm from './ArtSubmitForm'\n\nimport uploadIcon from '../assets/upload.svg'\nimport paletteIcon from '../assets/palette.svg'\nimport undoIcon from '../assets/undo.svg'\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\n\n\nfunction EditPic(){\n  const { id } = useParams()\n  const history = useHistory()\n  const { formdata, setFormdata, setErrors, errors, handleChange } = useForm({\n    title: '', \n    image: '', \n    dots: '', \n    colorPalette: '',\n    categories: [],\n    artist: '',\n    description: ''\n  })\n  const [drawSetting, setDrawSetting] = React.useState({\n    color: '#32d0fc'\n  }) \n  \n  const [user, setUser] = React.useState(null)\n  const [palette, setPalette] = React.useState(null)\n  const [displayPalette, setDisplayPalette] = React.useState(false)\n  const [uploadedImageBlobUrl, setUploadedImageBlobUrl] = React.useState(null)\n  const [dots, setDots] = React.useState(Array(256).fill(''))\n  const [draw, setDraw] = React.useState(false)\n  const drawOn = ()=> setDraw(true) \n  const drawOff = ()=> setDraw(false) \n  const submissionForm = useRef(null)\n  const submissionButton = useRef(null)\n  let ctx = null\n  const [drawingUrl, setDrawingUrl] = React.useState(null)\n\n  const canvas = useRef()\n  const drawingGrid = useRef()\n  const userId = getUserId()\n  const handleSettingChange = e => {\n    setDrawSetting({ ...drawSetting, [e.target.name]: e.target.value })\n  }\n\n  const historyLimit = 50\n  const [drawingHistory, setDrawingHistory] = React.useState(Array(historyLimit - 1).fill(Array(256).fill('')))\n  const [historyStep, setHistoryStep] = React.useState(historyLimit)\n\n\n  const recordHistory = arr =>{\n    let records = [...drawingHistory]\n    records.push([...arr])\n    if (records.length > historyLimit + 1) {\n      records = records.filter((record,i)=>{\n        if (i !== 0) return record\n      })\n    }\n    setDrawingHistory(records)\n  }\n\n  const setUpCanvas = () =>{\n    const canvasEle = canvas.current\n    canvasEle.width = canvasEle.clientWidth\n    canvasEle.height = canvasEle.clientHeight    \n    ctx = canvasEle.getContext('2d')\n  }\n\n  const mapFromImage = e => {\n    if (!e.target.files[0]) return\n    const uploadedImage = e.target.files[0]\n    const blobUrl = window.URL.createObjectURL(uploadedImage)\n    setUploadedImageBlobUrl(blobUrl)\n  }\n\n\n  const handleUpload = async e => { \n    e.preventDefault()\n    if ( e.target.classList.contains('deactivate')) return\n    e.target.classList.add('deactivate')\n    \n    const drawnDots = dots.filter(dot=> dot)\n    const dotsError = drawnDots.length === 0 ? 'your canvas is blank!' : ''\n    const titleError = formdata.title === '' ? 'please enter title' : ''\n    const selectError = formdata.categories.length === 0 ? 'please select atleast one' : ''\n    // const descriptionError = formdata.description === '' ? 'please enter description' : ''\n    setErrors({ \n      title: titleError, \n      categories: selectError, \n      // description: descriptionError,\n      dots: dotsError \n    })\n    if (dotsError || titleError || selectError) {     \n      submissionForm.current = e.target.parentNode.parentNode\n      submissionForm.current.classList.add('shake')\n      setTimeout(()=>{\n        submissionForm.current.classList.add('static')\n        submissionForm.current.classList.remove('shake') \n      },500)\n      e.target.classList.remove('deactivate')\n      return\n    }\n    setUpCanvas() //these ensure that canvas is rendered before upload\n    mapFromDots(dots,ctx)\n    let can = canvas.current.toDataURL('image/png')\n    can = can.replace('image/png', 'image/octet-stream')\n    const data = new FormData() \n    data.append('file', can)\n    data.append('upload_preset', uploadPreset)\n    const res = await axios.post(uploadUrl, data)\n    setDrawingUrl(res.data.url)\n    submissionButton.current = e.target\n  }\n\n\n  const handleSubmit = async () => {  \n    const palette = filterPalette(dots)\n    try {\n      await editPic(id,{ \n        title: formdata.title, \n        image: drawingUrl, \n        dots: JSON.stringify(dots), \n        colorPalette: JSON.stringify(palette),\n        categories: formdata.categories.map(ele=>{\n          if (!ele.id) return ele\n          return ele.id\n        }),\n        artist: userId,\n        description: formdata.description \n      })\n  \n      explode(drawingGrid)\n      setTimeout(()=>{\n        history.push(`/artistpage/${userId}`)\n      },1000)\n    } catch (err){\n      console.log(err)\n      submissionButton.current.classList.remove('deactivate')\n    }\n  }\n\n  React.useEffect(() => {\n    if (!drawingUrl) return\n    handleSubmit()\n  }, [drawingUrl])\n  \n\n\n  React.useEffect(() => {\n    if (!uploadedImageBlobUrl) return\n\n    setUpCanvas()\n    if (uploadedImageBlobUrl) {\n      const image = new Image()\n      image.onload = function() {    \n        const width = image.naturalWidth \n        const height = image.naturalHeight \n        if (width < height){\n          canvas.current.setAttribute('width', 320)\n          canvas.current.setAttribute('height', 320 * (height / width)) \n          ctx.drawImage(image, 0, 0, 320, 320 * (height / width))\n        } else {\n          canvas.current.setAttribute('width', 320 * (width / height))\n          canvas.current.setAttribute('height', 320) \n          ctx.drawImage(image, 0, 0, 320 * (width / height), 320)\n        }\n        const dotsFromImage = []\n\n        for (let i = 0; i < 256; i++) {\n          const y = Math.floor(i / 16) * 20\n          const x = i % 16 * 20\n          const c = ctx.getImageData(x + 5, y + 5, 1, 1).data\n          const hex = '#' + ('000000' + rgbToHex(c[0], c[1], c[2])).slice(-6)\n          dotsFromImage.push(hex)\n        }\n        setDots(dotsFromImage)\n        drawIntoGrid(dotsFromImage,drawingGrid)\n      }\n      image.src = uploadedImageBlobUrl\n    }\n  }, [uploadedImageBlobUrl])\n  \n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSinglePic(id)\n        setFormdata(data)\n        setDots(JSON.parse(data.dots))\n        drawIntoGrid(JSON.parse(data.dots),drawingGrid)\n\n        // const record = [...drawingHistory]\n        // record[0] = data.dots\n        // setDrawingHistory(record)\n      } catch (err) {\n        console.log('error test')\n      }\n    }\n    getData()\n  },[id])\n  \n  // React.useEffect(() => {\n  //   if (!formdata) return\n  //   const categoriesArray = formdata.categories.map(ele=>ele.name)\n  //   setFormdata({ ...formdata, categories: categoriesArray })\n  // },[formdata])\n\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getUserInfo()\n        setUser(data)\n      } catch (err) {\n        console.log('error')\n      }\n    }\n    getData()\n  },[])\n  \n\n  const drawDot = e =>{\n    if (!draw) return\n    e.target.style.backgroundColor = drawSetting.color\n    dots[e.target.id] = drawSetting.color  // record\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n\n  const drawDotClick = e =>{\n    const color = e.target.style.backgroundColor === '' ? drawSetting.color : ''\n    e.target.style.backgroundColor = color\n    dots[e.target.id] = color\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n\n  const mapGrid = () =>{    \n    const grids = []\n    for (let i = 0; i < (16 * 16); i++) grids.push(i)\n    return grids.map(grid=>{\n      return (\n        <div key={grid} \n          onClick={drawDotClick}\n          onMouseMove={drawDot}\n          id={grid}\n          className=\"grid\">\n        </div>\n      )\n    })\n  }\n\n  const filterPalette = arr =>{\n    const palette = Array(8).fill('')\n    for (let i = 0; i < 8; i++){\n      palette[i] = sortedByFrequencyDuplicatesAndBlankRemoved(arr)[i]\n    }\n    return palette\n  }\n\n  \n  let idN = 0\n  const mapPalette = arr =>{   \n    const palette = filterPalette(arr)\n    return palette.map(hex=>{\n      idN++\n      return (\n        <div key={idN} \n          onClick={handlePalettePick}\n          id={`p${idN}_${hex}`}\n          className=\"palette_block\"\n          style={{ backgroundColor: hex }}  \n        >  \n        </div>\n      )\n    })\n  }\n\n\n  const mapFavoritedPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          id = {idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n\n  const handlePalettePick = e =>{\n    if (e.target.id.split('_')[1] === 'undefined') return\n    setDrawSetting({ ...drawSetting, color: e.target.id.split('_')[1] })\n  }\n\n  const fork = forkedDots =>{\n    drawIntoGrid(JSON.parse(forkedDots),drawingGrid)\n    setDots(JSON.parse(forkedDots))\n  }\n\n  const mapOptions = arr =>{\n    return arr.favoritedPic.map(pic=>{\n      return (\n        <div key={`p${pic.id}`}\n          className=\"palette_wrapper\"\n        >\n          <img onClick ={()=>fork(pic.dots)}\n            src={pic.image} alt={pic.title}\n          />  \n          <div onClick={()=>{\n            setDisplayPalette(false)\n            setPalette(JSON.parse(pic.colorPalette))\n          }}\n          className=\"palette_option\"\n          >\n            {mapFavoritedPalette(pic)}\n          </div>  \n        </div>\n      )\n    }\n    )\n  }\n  \n  //! still a little buggy\n  const handleBack = () =>{\n    console.log('trig')\n    if (historyStep === 0 || !drawingHistory[historyStep]) return\n    drawIntoGrid(drawingHistory[historyStep],drawingGrid)\n    setDots(drawingHistory[historyStep - 1])\n    setHistoryStep(historyStep - 1)\n  }\n\n\n  return (\n    <>\n      {\n        !userId || userId !== formdata.artist.id ?\n          <div className=\"wrapper\">\n            <p>error</p>\n          </div>\n          :\n          <div className=\"wrapper no_height slide_in\">\n            <div className=\"inner_wrapper\">\n              <div className=\"grid_wrapper\"\n                onMouseDown={drawOn}\n                onMouseUp={drawOff}\n                ref={drawingGrid}\n              > \n                {mapGrid()}\n                <canvas \n                  ref={canvas}\n                  className=\"dots\" \n                />\n                <div className=\"color_background\">\n                </div>\n              </div>  \n  \n              <div className=\"color_palette\">\n                {mapPalette(dots)}\n              </div>  \n            </div>\n    \n            <div className=\"tool_box\">\n              <div \n                onClick={handleBack}\n                className=\"back\">\n                <img src={undoIcon} alt=\"undo\" />\n              </div>  \n        \n              <input type=\"color\" \n                className=\"color pinkfocus\"\n                name=\"color\"\n                onChange={handleSettingChange}\n                value={drawSetting.color}\n              />\n\n              <img src={paletteIcon}\n                className=\"palette_icon\"\n                onClick={()=>{ \n                  setDisplayPalette(!displayPalette) \n                }}\n              />  \n              <div className=\"image_upload_wrapper\">\n                <label htmlFor=\"upload\" > \n                  <img src={uploadIcon} alt=\"upload button\" />\n                </label>\n                <input\n                  id=\"upload\"\n                  type=\"file\"\n                  onChange={mapFromImage}\n                />\n              </div>  \n            </div>\n            <div \n              onMouseLeave={()=>setDisplayPalette(false)}\n              className={`palette_choice_menu ${displayPalette && 'open'}`}\n            >\n              <div className=\"cross\">\n                <img src={cross} alt=\"cross\" \n                  onClick={()=>setDisplayPalette(false)}\n                />\n              </div>\n              {\n                user &&\n            <>\n\n              <div>\n                {mapOptions(user)}  \n              </div>  \n            </>   \n              }\n            </div>  \n            {\n              palette ?\n                <div className=\"palette_option\">\n                  {mapPalette(palette)}\n                </div>\n                :\n                null\n            }\n\n            <ArtSubmitForm \n              handleUpload={handleUpload}\n              formdata={formdata}\n              handleChange={handleChange}\n              errors={errors}\n            />\n          </div>\n      }\n    </>\n  )\n}\n\nexport default EditPic","import React from 'react'\n\nfunction PaginationLinks({ page, pics, filterPics, prevPage, nextPage, goToPage, noOfPicsToDisplay }){\n  \n\n  function mapPageLinks(maxvalue){\n    const pages = []\n    for (let i = 1; i <= maxvalue; i++ ){\n      switch (i) {\n        case 1: pages.push(i)\n          break\n        case Number(page): pages.push(i)\n          break    \n        case (Number(page) - 1): \n          pages.push(i)\n          break\n        case (Number(page) + 1): \n          pages.push(i)\n          break  \n        case maxvalue - 1: \n          pages.push('...+')\n          break  \n        case maxvalue: pages.push(i)\n          break\n        default: pages.push('...')\n      }\n    } \n    // console.log('pages',pages)\n    const buttonsToDisplay =  [...new Set(pages)]\n    // console.log(buttonsToDisplay)\n    return buttonsToDisplay.map(eachPage=>{\n      return (\n        <button className={`${eachPage === Number(page) ? 'current' : ''} ${eachPage[0] === '.' ? 'null' : ''}`} key={`page${eachPage}` } alt=\"button\" onClick={()=>{\n          goToPage(eachPage)\n        }}>{eachPage === '...+' ? '...' : eachPage}</button>\n      )\n    })\n  }\n\n\n  return (\n    <div className=\"pagination_wrapper\">\n      <div className=\"pagination_inner_wrapper\">\n        {\n          Number(page) !== 1 &&\n      <button onClick={prevPage}>\n        &#60;\n      </button>\n        }\n        { \n          mapPageLinks(Math.ceil(filterPics(pics).length / noOfPicsToDisplay))\n        \n        }\n        {\n          Number(page) !== Math.ceil(filterPics(pics).length / noOfPicsToDisplay) &&\n        <button onClick={nextPage}>   \n          &#62;\n        </button>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default PaginationLinks","import React from 'react'\nimport { useParams, useHistory, Link } from 'react-router-dom'\n\nimport PaginationLinks from './PaginationLinks'\nimport { getAllPics } from '../lib/api'\n// import { dynamicSort } from '../lib/utils'\n\nfunction ShowFilteredPics(){\n  const history = useHistory()\n  // const { pathname } = useLocation()\n  const { category, page } = useParams()\n  const [error, setError] = React.useState(false)\n  const [pics, setPics] = React.useState(null)\n  const [picCounter, setPicCounter] = React.useState(0)\n  const [filteredPics, setFilteredPics] = React.useState([])\n  let idN = 0\n\n\n  const filterPics = pics => {\n    if (category === 'all') return pics\n    const categoryCheck = pics.map(pic=>{\n      return pic.categories.filter(cat=>{\n        return cat.name === category\n      })\n    })\n    const result = pics.filter((_pic,i) =>{\n      return categoryCheck[i].length !== 0\n    }) \n    return result\n  }\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setPics(data)\n        setFilteredPics(filterPics(data).sort((a, b) => b.id - a.id).slice(firstPic,page * noOfPicsToDisplay))\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[page])\n\n  // React.useEffect(() => {\n  //   window.scrollTo(0, 0)\n  // }, [pathname])\n\n  React.useEffect(() => {\n    window.scrollTo(0, 0)\n    setPicCounter(0)\n  }, [filteredPics])\n\n\n\n  const noOfPicsToDisplay = 12\n  const firstPic = (page - 1) * noOfPicsToDisplay\n\n  function prevPage(){\n    history.push(`/pics/${category}/${Number(page) - 1}`)\n  }\n  function nextPage(){ \n    history.push(`/pics/${category}/${Number(page) + 1}`)\n  }\n\n  function goToPage(pageNo){\n    if (pageNo === '...' || pageNo === '...+' ) return\n    history.push(`/pics/${category}/${pageNo}`)\n  }\n\n  const mapColorPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n\n  const mapPics = pics => {\n    if (picCounter <= pics.length){\n      setTimeout(()=>{\n        setPicCounter(picCounter + 1)\n      },70)\n    }\n    return pics.filter(pic=>{\n      if (pics.indexOf(pic) <= picCounter) return pic\n    }).map(pic=>{\n      return (\n        <div \n          key={pic.id}\n          className=\"index index_float_up\"\n        >  \n          <Link to={`/pics/${pic.id}/`}>\n            <img \n              className=\"bop\"\n              src={pic.image} \n              alt={pic.title} \n            />\n          </Link>\n          <div className=\"index_palette fade_in\">\n            {mapColorPalette(pic)}\n          </div>  \n        </div>  \n      )\n    })\n  }\n\n\n  //prevent memmory leak\n  const [didMount, setDidMount] = React.useState(false)\n  React.useEffect(() => {\n    setDidMount(true)\n    return () => setDidMount(false)\n  }, [])\n  if (!didMount) return null\n\n\n\n\n  return (\n    <div className=\"wrapper\">\n      {\n        filteredPics && pics ?\n          <>\n            <main className=\"index_wrapper\">\n\n              <div className=\"category_label fade_in\">\n                {category !== 'all' && `${category}/` }\n              </div> \n\n              {mapPics(filteredPics)}\n\n              <PaginationLinks \n                page={page} \n                pics={pics} \n                filterPics={filterPics}\n                prevPage={prevPage}\n                nextPage={nextPage} \n                goToPage={goToPage}\n                noOfPicsToDisplay={noOfPicsToDisplay}\n              />\n            </main>\n            \n          </>\n          :\n          error ?\n            <p> hmmm... error?...</p>\n            :\n            <div className=\"loading_wrapper\">\n              <div className=\"blue_box\"></div>\n              <div className=\"gray_box\"></div>\n            </div>  \n      }\n    </div>  \n  )\n}\n\nexport default ShowFilteredPics\n\n\n// <div className=\"pagination_wrapper\">\n// <div className=\"inner_wrapper\">\n//   {\n//     Number(page) !== 1 &&\n//   <button onClick={prevPage}>\n//     &#60;\n//   </button>\n//   }\n//   { \n//     mapPageLinks(Math.ceil(filterPics(pics).length / noOfPicsToDisplay))\n    \n//   }\n//   {\n//     Number(page) !== Math.ceil(filterPics(pics).length / noOfPicsToDisplay) &&\n//     <button onClick={nextPage}>   \n//       &#62;\n//     </button>\n//   }\n// </div>\n// </div> ","import React from 'react'\nimport { useParams, Link, useHistory } from 'react-router-dom'\n\nimport { getArtistPics, getAllPics } from '../lib/api'\n\nfunction Followers(){\n  const history = useHistory()\n  const { id } = useParams()\n  const [artistData,setArtistData] = React.useState(null)\n  const [pics, setPics] = React.useState(null)\n  const [error, setError] = React.useState(false)\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getArtistPics(id)\n        setArtistData(data)\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setPics(data.sort((a, b) => b.id - a.id))\n      } catch (err) {\n        console.log('error')\n        // setError(true)\n      }\n    }\n    getData()\n  },[artistData])\n\n  const mapPics = userId => {\n    return (\n      pics.filter(pic=>{\n        return pic.artist.id === userId\n      }).slice(0,4).map(pic=>{\n        return (\n          <div \n            key={pic.id}\n            className=\"index\"\n          >  \n            <Link to={`/pics/${pic.id}/`}>\n              <img \n                src={pic.image} \n                alt={pic.title} \n              />\n            </Link>\n          </div>  \n        )\n      })\n    )\n  }\n\n  const mapUserData = () =>{\n    return artistData.followedBy.map(follower=>{\n      return (\n        <div \n          className=\"user_list\"\n          key={follower.id}\n        >\n          <div \n            className=\"user_index\"\n          > \n            <img src={follower.profileImage} alt={follower.username}\n              onClick={()=> history.push(`/artistpage/${follower.id}` )}\n            />\n            <div\n              onClick={()=> history.push(`/artistpage/${follower.id}` )}\n            >\n              {follower.username}\n            </div>  \n          </div>  \n          <div className=\"user_index_container\">\n            {\n              pics &&\n            \n                mapPics(follower.id)\n            }\n          </div>  \n        </div>  \n      )\n    })\n  }\n\n\n  return (\n    <>\n      { \n        error ?\n          <div className=\"wrapper\">\n            <p>oops... something went wrong...</p>\n          </div>  \n          :  \n          artistData ?\n            artistData.followedBy.length !== 0 ?\n              \n              <div className=\"wrapper artist_profile slide in\">\n                <div className=\"feed_title follow_feed\">\n                  {`${artistData.username}'s followers:`}\n                </div>\n                {mapUserData()}\n              </div>  \n              :\n              <div className=\"wrapper\">\n                <p>{artistData.username} has no followers &#40;yet&#41;</p>  \n              </div>  \n            :\n            <div className=\"wrapper\">\n              <div className=\"loading_wrapper\">\n                <div className=\"blue_box\"></div>\n                <div className=\"gray_box\"></div>\n              </div>  \n            </div>    \n      }\n    </>\n  )\n}\n\nexport default Followers","import React from 'react'\nimport { useParams, Link, useHistory } from 'react-router-dom'\n\nimport { getArtistPics, getAllPics } from '../lib/api'\n\nfunction Following(){\n  const history = useHistory()\n  const { id } = useParams()\n  const [artistData,setArtistData] = React.useState(null)\n  const [pics, setPics] = React.useState(null)\n  const [error, setError] = React.useState(false)\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getArtistPics(id)\n        setArtistData(data)\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setPics(data.sort((a, b) => b.id - a.id))\n      } catch (err) {\n        console.log('error')\n        // setError(true)\n      }\n    }\n    getData()\n  },[artistData])\n\n  const mapPics = userId => {\n    return (\n      pics.filter(pic=>{\n        return pic.artist.id === userId\n      }).slice(0,4).map(pic=>{\n        return (\n          <div \n            key={pic.id}\n            className=\"index\"\n          >  \n            <Link to={`/pics/${pic.id}/`}>\n              <img \n                src={pic.image} \n                alt={pic.title} \n              />\n            </Link>\n          </div>  \n        )\n      })\n    )\n  }\n\n  const mapUserData = () =>{\n    return artistData.following.map(artist=>{\n      return (\n        <div \n          className=\"user_list\"\n          key={artist.id}\n        >\n          <div \n            className=\"user_index\"\n          > \n            <img src={artist.profileImage} alt={artist.username}\n              onClick={()=> history.push(`/artistpage/${artist.id}` )}\n            />\n            <div\n              onClick={()=> history.push(`/artistpage/${artist.id}` )}\n            >\n              {artist.username}\n            </div>  \n          </div>  \n          <div className=\"user_index_container\">\n            {\n              pics && \n                mapPics(artist.id)\n            }\n          </div>\n        </div>  \n      )\n    })\n  }\n\n\n  return (\n    <>\n      { \n        error ?\n          <div className=\"wrapper\">\n            <p>oops... something went wrong...</p>\n          </div>  \n          :  \n          artistData ?\n            artistData.following.length !== 0 ?\n              \n              <div className=\"wrapper artist_profile slide_in\">\n                <div className=\"feed_title follow_feed\">\n                  {`artists followed by ${artistData.username}:`}\n                </div>\n                {mapUserData()}\n              </div>  \n              :\n              <div className=\"wrapper\">\n                <p>{artistData.username} isn&apos;t following anyone &#40;yet&#41;</p>  \n              </div>  \n            :\n            <div className=\"loading_wrapper\">\n              <div className=\"blue_box\"></div>\n              <div className=\"gray_box\"></div>\n            </div>  \n      }\n    </>\n  )\n}\n\nexport default Following","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Home from './common/Home'\nimport Nav from './common/Nav'\nimport ShowPic from './components/ShowPic'\nimport CreatePic from './components/CreatePic'\nimport Login from './auth/Login'\nimport SignUp from './auth/SignUp'\nimport ShowArtistPics from './components/ShowArtistPics'\nimport EditPic from './components/EditPic'\nimport ShowFilteredPics from './components/ShowFilteredPics'\nimport Followers from './components/Followers'\nimport Following from './components/Following'\n\nfunction App() {\n\n  return (\n    <BrowserRouter>\n      <Nav/>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/followers/:id\" component={Followers} />\n        <Route path=\"/following/:id\" component={Following} />\n        <Route path=\"/pics/:id/edit\" component={EditPic} />\n        <Route path=\"/pics/:category/:page\" component={ShowFilteredPics} />\n        <Route exact path=\"/pics/new\" component={CreatePic} />\n        <Route path=\"/pics/:id\" component={ShowPic} />\n        <Route path=\"/artistpage/:id\" component={ShowArtistPics} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/signup\" component={SignUp} />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React from 'react'\n\n// class App extends React.Component {\n//   async componentDidMount() {\n//     try {\n//       const response = await fetch('/api/pics')\n//       const data = await response.json()\n//       console.log(data)\n//     } catch (err) {\n//       console.log(err)\n//     }\n//   }\n\n//   render() {\n//     return null\n//   }\n// }\n\n// export default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}