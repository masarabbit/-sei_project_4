(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(18),i=a.n(s),o=(a(44),a(7)),l=a(9);var f=function(){var e=JSON.parse('["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#b2eaf9","#222082","#ffffff","#b2eaf9","#000000","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#000000","#000000","#fd74b9","#ffffff","#b2eaf9","#000000","#fd74b9","#222082","#000000","#000000","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#000000","#000000","#fd74b9","#b2eaf9","#000000","#fd74b9","#ffffff","#222082","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#ffffff","#b2eaf9","#000000","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#000000","#222082","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#fd74b9","#ffffff","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#222082","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#222082","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#222082","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#222082","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#b2eaf9","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#222082","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#fd74b9","#ffffff","#ffffff","#b2eaf9","#000000","#000000","#000000","#000000","#fd74b9","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"]'),t=Object(r.useRef)(null),a=Object(r.useRef)();c.a.useEffect((function(){if(t){var e=setInterval((function(){Math.random()<.3?s(t):i(t)}),2e3),a=setInterval((function(){Math.random()<.4?l(t):o(t)}),800);return function(){clearInterval(e),clearInterval(a)}}}),[t]);var s=function(e){if(t){for(var n=0;n<256;n++)e.current.children[n].style.top=0,e.current.children[n].style.left=0,e.current.children[n].classList.add("show_black");a.current.classList.add("hide")}},i=function(e){if(t){for(var n=0;n<256;n++)e.current.children[n].style.top="".concat(Math.ceil(110*Math.random())-50,"vh"),e.current.children[n].style.left="".concat(Math.ceil(110*Math.random())-50,"vw"),e.current.children[n].classList.remove("show_black");a.current.classList.remove("hide")}},o=function(a){if(t)for(var n=["#b2eaf9","#fd74b9","#222082","transparent"],r=0;r<256;r++)Math.random()<.09?a.current.children[r].style.backgroundColor=n[Math.floor(Math.random()*n.length)]:a.current.children[r].style.backgroundColor=e[r]},l=function(a){if(t)for(var n=0;n<256;n++)a.current.children[n].style.backgroundColor=e[n]};return Object(n.jsxs)("div",{className:"wrapper overflow_hidden",children:[function(){for(var a=[],r=0;r<256;r++)a.push(r);return Object(n.jsx)("div",{className:"logo_grid",ref:t,children:a.map((function(t){return Object(n.jsx)("div",{id:t,className:e[t].replace("#","b"),style:{backgroundColor:e[t],top:"".concat(Math.ceil(110*Math.random())-50,"vh"),left:"".concat(Math.ceil(110*Math.random())-50,"vw")}},t)}))})}(),Object(n.jsx)("div",{ref:a,className:"slogan_container fade_in_slow",children:"draw + share pixel art"})]})},u=a(3),d=a.n(u),p=a(6),j=a(2),b=a(8),m=a.n(b);function h(e){return m.a.post("/api/auth/register/",e)}function v(e){return m.a.post("/api/auth/login/",e)}function g(){return window.localStorage.getItem("token")}function O(){var e=g();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1])).sub}function x(){var e=function(){var e=g();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))}();return!!e&&Math.round(Date.now()/1e3)<e.exp}var N="/api";function w(){return{headers:{Authorization:"Bearer ".concat(g())}}}function _(e){return m.a.get("".concat(N,"/pics/").concat(e,"/"))}function A(e){return m.a.delete("".concat(N,"/pics/").concat(e,"/"),w())}function k(){return m.a.get("".concat(N,"/pics/"))}function C(e){return m.a.post("".concat(N,"/pics/"),e)}function y(e,t){return m.a.put("".concat(N,"/pics/").concat(e,"/"),t,w())}function S(){return m.a.get("".concat(N,"/auth/profile/"),w())}function E(e){return m.a.get("".concat(N,"/auth/").concat(e,"/artist_profile/"))}function I(e){return m.a.post("".concat(N,"/comments/"),e,w())}function M(e){return m.a.delete("".concat(N,"/comments/").concat(e,"/"),w())}var L=function(){var e=x(),t=Object(l.g)().pathname,a=Object(l.f)(),r=c.a.useState(null),s=Object(j.a)(r,2),i=s[0],f=s[1];return c.a.useEffect((function(){e&&function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,a=t.data,f(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.jsxs)("nav",{children:[Object(n.jsx)(o.b,{to:"/".concat(i?"pics/all/1":""),children:Object(n.jsx)("img",{className:"logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAAolBMVEX/////cLex6vkdICEiIIL/d7638f+y6vn9dLkAAAD++/ygSXVxlp8cG4Cv7vwoEh3Yr9n6crbB7/sLCg9dXV3+fL3S8/z9lMnq+v7+udxwPpa9vcQjIYcREED+h8Py8fGKqb6bzNlDV12koqRbdn5bKUIyODq/WYz+ptOAgIBverdEUJ7ioNBANY7JzOF8OVtVVJ9+O13/l8yPoqgPDj9IN2RUhmRLAAAEuElEQVR42u3dfVvaVhjAYRZ5EwWsVETdLFRLrW11ttv3/2qzbruqeY7bQSIiuX9A/9PE+3qIXpwmaTQkSZIkSZIkSZJeS728QN023o9938prfhqqIWDRKUq1d7fzGr7plgMIcHHAcgABAgQIECBAgAABAgQIECBAgAABAtzQJoN2KBuw2yq34dMWlz/G08+xy5NE09jucDgvPer2di3al/3YZXpSfzwePGdxKOt3vLvsN8ulAe++tih+PjsdgHcTuAjgwwAuPIEATaAJNIEmEKAJNIEm0AQCNIEm0ASaQBMI0ASuDnAQyv9EOi6drNUn0pNx7OptxZ19ie2dnExPHrymJ1eJnZm9T7QTejnAIjSYbVfcTuuX0NGPrffuvW7/HSd2Zrrmq3KTeLpG8QyAYR33b8D/35n2dM3XheM+J4/RAP8DMOeX3MoAw29rgPmAvUni70WAJvAlAU2gCXQMNIGOgQBNoGOgCXQMBGgCHQNN4IYDJtY/0oDhA+5G4myI6afMvhzF3q074F5c/pjMzhNd35S73ok/byOxRtUf5e5f95Elh7UGHJS3XAxSZyoND8L6Ryt1qbFm4GvmA2a+Q9YMMO9cuWH82m4SMBHA7e0RQBNoAk2gCQRoAk2gCTSBAE2gCTSBJhCgCTSBJrA6wLzTMJYFjB+Z77Wzrp01GiY+bl8J4CR2dRb7vpvoQ6KqzxM5S2z3PLHdm4vY0QoA9wbxlIvsi6PFVYjWwRK3kemlzlQ6T2z4Q2L941vmRqoHrPR2Hd1lAJPnyiUBE8e7Q4CvFrAk2AH4hL8Sin8ey15hs7aAVV2iFCBAgAABAgQIECBAgAABAgS4boBL/S/9zQEMdXM/kU7cXeNz/QA/JkrdY+Qq1EisUXW26gaY2yi+WxvxsludAuBjgPH3RSMubwMECBAgQIAAAQIECBAgQIAAAQIECBAgwBoC7nfCTdZ3t5boa2izAf89X+Tes9FbotQ3rwPgswYQIECAAAECBAgQIECAAAECBAgQIECAAF8lYKJ3VZf7Wf0rBNwexUfl3ZwehC42BXAV3SR2GuACXQMECBAgQIAAAQIECBAgQIAAAQIECBAgwCcDvgG4QL/Fk2W+Hp/GLgA+Avhrs9/s3382+8eJH+QQ4KOA5VKAXYAAAQIECBAgQIAAAQIECBAgQIAAAQIEuMGAo9z7oqSaJprXDHDYbZUf+TepH7cH4fG+boDLnCu3X9zdWPvn63bDABcFLG0YIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAE+L2ArtsCVi2J1AxztJDrLbDdR3a6dtZIAAgQIECBAgAABAgQIECBAgAABAgQIEODGABbl1gvwj2Y/dNxdoztc74fG03lmVWMN58PQn7/HLr8dhl7qHutHmdudJBbRZlUD7iSW+XJ3sLHugEWn/FbvPAPg03fwFQB2igePDsBFAcsBBAgQIECAAAECBAgQIECAAAECBAjweQH3E8238vp4GssGTGx3tlVxy+xgfr34zC35zZ664cYCG17NDkqSJEmSJEmSKuwvuG1gHLHPSUoAAAAASUVORK5CYII=",alt:"logo"})}),Object(n.jsx)("div",{className:"link_menu",children:i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("img",{className:"small_artist_icon",src:i.profileImage,alt:"profile image",onClick:function(){return a.push("/artistpage/".concat(i.id))}}),Object(n.jsx)("button",{className:"nav logout",onClick:function(){window.localStorage.removeItem("token"),a.push("/login"),f(null)},children:"logout"}),Object(n.jsx)(o.b,{to:"/pics/new",children:Object(n.jsx)("button",{className:"nav draw",children:"draw"})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o.b,{to:"/signup",children:Object(n.jsx)("button",{className:"nav sign_up",children:"sign up"})}),Object(n.jsx)(o.b,{to:"/login",children:Object(n.jsx)("button",{className:"nav login",children:"login"})})]})})]})},B=a(5),Q=a.p+"static/media/comment_icon.f5777408.svg",P=a.p+"static/media/score_icon.9003a9e1.svg",J=a.p+"static/media/cross.7b5950ad.svg",F=a(15);function R(e){var t=c.a.useState(e),a=Object(j.a)(t,2),n=a[0],r=a[1],s=c.a.useState(e),i=Object(j.a)(s,2),o=i[0],l=i[1];return{formdata:n,setFormdata:r,handleChange:function(e){r(Object(B.a)(Object(B.a)({},n),{},Object(F.a)({},e.target.name,e.target.value))),l(Object(B.a)(Object(B.a)({},o),{},Object(F.a)({},e.target.name,"")))},errors:o,setErrors:l}}var D=function(e){var t=e.displayComment,a=e.setDisplayComment,r=e.pic,s=e.userId,i=c.a.useState(null),o=Object(j.a)(i,2),l=o[0],f=o[1],u=R({text:"",rating:50,pic:""}),b=u.formdata,m=u.setFormdata,h=u.errors,v=u.handleChange,g=u.setErrors,O=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b.owner){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,I(b);case 6:w(t.target),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(3),g(e.t0.response.data),t.target.classList.remove("comment"),t.target.classList.add("shake"),setTimeout((function(){t.target.classList.add("static"),t.target.classList.remove("shake")}),500);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return f(e.target.name)},N=function(){return f(null)};c.a.useEffect((function(){r&&m(Object(B.a)(Object(B.a)({},b),{},{pic:r.id,owner:s}))}),[r]);var w=function(e){e.classList.add("accepted"),setTimeout((function(){a(!1),e.classList.remove("accepted")}),1e3)};return Object(n.jsx)("div",{className:"comment_menu_wrapper ".concat(t?"display":""),children:Object(n.jsxs)("form",{className:"comment",onSubmit:O,children:[Object(n.jsx)("div",{className:"cross",children:Object(n.jsx)("img",{src:J,alt:"cross",onClick:function(e){w(e.target.parentNode.parentNode)}})}),Object(n.jsxs)("div",{className:"input_box",onMouseEnter:x,onMouseLeave:N,children:[Object(n.jsx)("img",{src:Q,className:"".concat("text"===l?"hover":""),alt:"comment"}),Object(n.jsx)("textarea",{name:"text",onChange:v,value:b.text,placeholder:"comment"})]}),h.text&&Object(n.jsx)("div",{className:"error comment",children:Object(n.jsx)("p",{children:h.text})}),Object(n.jsxs)("div",{className:"input_box twenty_px_bottom_margin",onMouseEnter:x,onMouseLeave:N,children:[Object(n.jsx)("img",{src:P,className:"range ".concat("rating"===l?"hover":""),alt:"score"}),Object(n.jsxs)("div",{className:"rating_wrapper",children:[Object(n.jsx)("label",{children:"score"}),Object(n.jsxs)("div",{className:"rating_inner_wrapper",children:[Object(n.jsx)("input",{type:"range",name:"rating",onChange:v,value:b.rating}),Object(n.jsx)("div",{className:"range_display",children:b.rating})]})]})]}),Object(n.jsx)("div",{className:"button_wrapper",children:Object(n.jsx)("button",{className:"submit",children:"submit"})})]})})};var T=function(e){var t=e.pic,a=e.liked,r=e.star,s=e.userId,i=e.setLikedNow,o=c.a.useState(a),l=Object(j.a)(o,2),f=l[0],u=l[1],b=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=t.id,m.a.post("".concat(N,"/pics/").concat(n,"/favorite/"),null,w());case 3:u(!f),i(!0),a.target.parentNode.classList.add("inflate"),setTimeout((function(){a.target.parentNode.classList.remove("inflate")}),400),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("fav error",e.t0.response);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=t.id,m.a.delete("".concat(N,"/pics/").concat(a,"/favorite/"),w());case 3:u(!f),i(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("fav error",e.t0.response);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[s?f?Object(n.jsx)("div",{className:"menu_button clicked",onClick:h,children:Object(n.jsx)("img",{src:r,alt:"star"})}):Object(n.jsx)("div",{className:"menu_button",onClick:b,children:Object(n.jsx)("img",{src:r,alt:"star"})}):Object(n.jsx)("div",{className:"menu_button inactive",children:Object(n.jsx)("img",{src:r,alt:"star"})}),Object(n.jsx)("div",{className:"stats",children:t.favoritedBy.length})]})},z=a.p+"static/media/star.4665b34a.svg",U=a.p+"static/media/comment.e74e3903.svg";var G=function(e){var t,a=e.pic,r=e.userId,c=e.displayCommentForm,s=e.setLikedNow,i=Object(l.f)();return Object(n.jsxs)("div",{className:"interaction_menu",children:[Object(n.jsx)("div",{className:"artist_icon",onClick:function(){return i.push("/artistpage/".concat(a.artist.id))},children:Object(n.jsx)("img",{src:a.artist.profileImage,alt:a.artist.username})}),Object(n.jsxs)("div",{className:"artist_name",children:[Object(n.jsx)("span",{children:"by"}),Object(n.jsx)("span",{className:"name",onClick:function(){return i.push("/artistpage/".concat(a.artist.id))},children:a.artist.username})]}),!r||(t=a,t.comments.filter((function(e){return e.owner.id===r})).length>0)?Object(n.jsx)("div",{className:"menu_button inactive",children:Object(n.jsx)("img",{src:U,alt:"speech bubble"})}):Object(n.jsx)("div",{className:"menu_button",onClick:c,children:Object(n.jsx)("img",{src:U,alt:"speech bubble"})}),Object(n.jsx)("div",{className:"stats",children:a.comments.length}),Object(n.jsx)(T,{liked:a.favoritedBy.filter((function(e){return e.id===r})).length>0,userId:r,star:z,pic:a,setLikedNow:s})]})};var H=function(){for(var e=Object(l.f)(),t=Object(l.h)().id,a=c.a.useState(null),r=Object(j.a)(a,2),s=r[0],i=r[1],o=c.a.useState(!1),f=Object(j.a)(o,2),u=f[0],b=f[1],m=c.a.useState(!1),h=Object(j.a)(m,2),v=h[0],g=h[1],x=c.a.useState(!1),N=Object(j.a)(x,2),w=N[0],k=N[1],C=O(),y=c.a.useState(!1),S=Object(j.a)(y,2),E=S[0],I=S[1],L=c.a.useState(!1),B=Object(j.a)(L,2),Q=B[0],P=B[1],J=c.a.useState(!1),F=Object(j.a)(J,2),R=F[0],T=F[1],z=[],U=0;U<256;U++)z.push("".concat(Math.ceil(110*Math.random())-100,"vh"));for(var H=[],Y=0;Y<256;Y++)H.push("".concat(Math.ceil(110*Math.random())-100,"vw"));c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t);case 3:a=e.sent,n=a.data,i(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error"),g(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t,w,Q,R]);var V,q=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t);case 3:a.target.parentNode.parentNode.classList.add("slide_out"),setTimeout((function(){P(t)}),500),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(s.id);case 3:a.target.parentNode.parentNode.parentNode.classList.add("delete"),setTimeout((function(){e.push("/artistpage/".concat(C))}),1e3),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("fav error",t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D,{displayComment:w,setDisplayComment:k,pic:s,userId:C}),s?Object(n.jsxs)("div",{className:"wrapper non_center",children:[Object(n.jsx)("div",{className:"dot_wrapper ".concat(u&&"assemble"),children:function(e){for(var t=[],a=0;a<256;a++)t.push(a);return setTimeout((function(){b(!0)}),10),t.map((function(t){return Object(n.jsx)("div",{className:"dot",id:t,style:{top:z[t],left:H[t],backgroundColor:JSON.parse(e.dots)[t]}},t)}))}(s)}),Object(n.jsxs)("div",{className:"pic_info",children:[Object(n.jsxs)("div",{className:"title",children:[s.title,Object(n.jsxs)("span",{children:[function(e){var t=0;return e.comments.forEach((function(e){t+=e.rating})),t?(t/=e.comments.length).toFixed(1):0}(s),"pts"]})]}),Object(n.jsx)("div",{className:"description",children:s.description}),Object(n.jsx)("div",{className:"categories",children:s.categories.map((function(t){return Object(n.jsx)("span",{onClick:function(){return e.push("/pics/".concat(t.name,"/1"))},children:"".concat(t.name).concat(s.categories[s.categories.length-1].name!==t.name?", ":"")},t.name)}))}),s.artist.id===C&&Object(n.jsxs)("div",{className:"pic_show_user_menu",children:[Object(n.jsx)("button",{className:"edit",onClick:function(){return e.push("/pics/".concat(s.id,"/edit/"))},children:"edit"}),Object(n.jsx)("button",{className:"delete",onClick:function(){return I(!0)},children:"delete"})]}),E?Object(n.jsxs)("div",{className:"delete_menu",children:["are you sure you want to delete?",Object(n.jsx)("button",{className:"yes",onClick:X,children:"yes"}),Object(n.jsx)("button",{className:"no",onClick:function(){return I(!1)},children:"no"})]}):null]}),Object(n.jsx)(G,{pic:s,userId:C,displayCommentForm:function(){return k(!0)},setLikedNow:T}),(V=s.comments,V.map((function(t,a){return Object(n.jsxs)("div",{className:"user_comments ".concat(0===a?"first":""),children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"small_artist_icon",src:t.owner.profileImage,alt:t.owner.username,onClick:function(){return e.push("/artistpage/".concat(t.owner.id))}}),Object(n.jsx)("span",{className:"artist_name_link",onClick:function(){return e.push("/artistpage/".concat(t.owner.id))},children:t.owner.username}),Object(n.jsxs)("span",{children:[t.rating,"pts"]})]}),Object(n.jsx)("div",{children:t.text}),C===t.owner.id&&Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(e){return q(t.id,e)},className:"delete",children:"delete"})})]},t.id)}))),Object(n.jsx)("div",{className:"used_colors",children:function(e){var t=0;return JSON.parse(e.colorPalette).map((function(e){return t++,Object(n.jsx)("div",{style:{backgroundColor:e}},"".concat(t,"-").concat(e))}))}(s)})]}):v?Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("p",{children:" can't find it ..."})}):Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("div",{className:"loading_wrapper",children:[Object(n.jsx)("div",{className:"blue_box"}),Object(n.jsx)("div",{className:"gray_box"})]})})]})},Y=a(14),V=a(81),q=function(e){var t=e.filter((function(e){return""!==e&&e})),a=t.map((function(e){return"".concat(e,"_").concat((a=e,t.reduce((function(e,t){return t===a?e+1:e}),0)));var a})).sort((function(e,t){return t.split("_")[1]-e.split("_")[1]}));return Object(Y.a)(new Set(a.map((function(e){return e.split("_")[0]}))))},X=function(e,t,a){if(e>255||t>255||a>255)throw"Invalid color component";return(e<<16|t<<8|a).toString(16)},W=function(e){var t=null;clearInterval(t),e.target.classList.add("clicked"),t=setTimeout((function(){e.target.classList.remove("clicked")}),500)},Z=function(e,t){e.forEach((function(e,a){t.current.children[a].style.backgroundColor=e}))},K=function(e){for(var t=function(t){e.current.children[t].style.top="".concat(Math.ceil(110*Math.random())-50,"vh"),e.current.children[t].style.left="".concat(Math.ceil(110*Math.random())-50,"vw"),setTimeout((function(){e.current.children[t].classList.add("explode")}),100)},a=0;a<256;a++)t(a)},$=function(e,t){for(var a=0;a<256;a++){var n=a%16*20,r=20*Math.floor(a/16);t.fillStyle=e[a]?e[a]:"transparent",t.fillRect(n,r,20,20)}},ee=a(38),te=a.p+"static/media/title_icon.28ae5457.svg",ae=a.p+"static/media/category_icon.09ed3314.svg",ne=a.p+"static/media/description_icon.4f89bb2c.svg",re=[{value:1,label:"abstract"},{value:2,label:"animal"},{value:3,label:"architecture"},{value:4,label:"fan art"},{value:5,label:"film and tv show"},{value:6,label:"food"},{value:7,label:"game"},{value:8,label:"music"},{value:9,label:"plant"},{value:10,label:"portrait"},{value:11,label:"scenery"},{value:12,label:"sport"},{value:13,label:"transport"},{value:14,label:"travel"},{value:15,label:"other"}],ce=["abstract","animal","architecture","fan art","film and tv show","food","game","music","plant","portrait","scenery","sport","transport","travel","other"],se={container:function(e){return Object(B.a)(Object(B.a)({},e),{},{fontSize:13,width:"100%"})},placeholder:function(e){return Object(B.a)(Object(B.a)({},e),{},{color:"rgb(123, 135, 146)",textTransform:"lowercase"})},option:function(e,t){return Object(B.a)(Object(B.a)({},e),{},{color:t.isSelected?"#b2eaf9":"black",borderRadius:0,backgroundColor:t.isFocused?"#b2eaf9":"",":active":{backgroundColor:"#b2eaf9"}})},menu:function(e){return Object(B.a)(Object(B.a)({},e),{},{borderColor:"#b2eaf9",borderRadius:0,boxShadow:"none",border:"#b2eaf9 solid 1px"})},dropdownIndicator:function(e){return Object(B.a)(Object(B.a)({},e),{},{color:"black"})},indicatorSeparator:function(){return null},valueContainer:function(e){return Object(B.a)(Object(B.a)({},e),{},{marginLeft:-2})},control:function(e,t){return Object(B.a)(Object(B.a)({},e),{},{boxShadow:t.isFocused?"0 0 0 2px rgb(253, 116, 185)":"",backgroundColor:"white",borderRadius:0,borderColor:"transparent",boxSizing:"border-box",borderBottom:t.isFocused?"":"2px solid black",":hover":{borderColor:"transparent"}})},multiValue:function(e){return Object(B.a)(Object(B.a)({},e),{},{backgroundColor:"black",fontSize:15,borderRadius:0,padding:2})},multiValueLabel:function(e){return Object(B.a)(Object(B.a)({},e),{},{color:"white"})},multiValueRemove:function(e){return Object(B.a)(Object(B.a)({},e),{},{color:"white",borderRadius:0,":hover":{backgroundColor:"white",color:"black"}})}};var ie=function(e){var t=e.formdata,a=e.handleChange,r=e.handleUpload,s=e.errors,i=c.a.useState(null),o=Object(j.a)(i,2),l=o[0],f=o[1],u=function(e){return f(e.target.name)},d=function(){return f(null)};return Object(n.jsxs)("form",{className:"art_submission_menu",children:[s.dots&&Object(n.jsx)("div",{className:"error center",children:Object(n.jsx)("p",{children:s.dots})}),Object(n.jsxs)("div",{className:"input_box",children:[Object(n.jsx)("img",{src:te,className:"".concat("title"===l?"hover":""),alt:"title"}),Object(n.jsx)("input",{type:"title",name:"title",onChange:a,onMouseEnter:u,onMouseLeave:d,value:t.title,placeholder:"title",className:"pinkfocus"})]}),s.title&&Object(n.jsx)("div",{className:"error sign_up",children:Object(n.jsx)("p",{children:s.title})}),Object(n.jsxs)("div",{className:"input_box",onMouseEnter:function(){return f("categories")},onMouseLeave:d,children:[Object(n.jsx)("img",{src:ae,className:"".concat("categories"===l?"hover":""),alt:"category",onMouseEnter:d}),Object(n.jsx)(ee.a,{styles:se,options:re,isMulti:!0,name:"categories",onChange:function(e){return function(e,t){console.log("selected",e);var n=e?e.map((function(e){return e.value})):[];a({target:{name:t,value:n}})}(e,"categories")},value:t.categories.map((function(e){return e.id?{value:e.id,label:ce[e.id-1]}:{value:e,label:ce[e-1]}}))})]}),s.categories&&Object(n.jsx)("div",{className:"error sign_up",children:Object(n.jsx)("p",{children:s.categories})}),Object(n.jsxs)("div",{className:"input_box",children:[Object(n.jsx)("img",{src:ne,className:"".concat("description"===l?"hover":""),alt:"description"}),Object(n.jsx)("textarea",{type:"description",name:"description",onChange:a,onMouseEnter:u,onMouseLeave:d,value:t.description,placeholder:"description",className:"twenty_px_bottom_margin"})]}),s.description&&Object(n.jsx)("div",{className:"error sign_up margin_adjusted_twenty",children:Object(n.jsx)("p",{children:s.description})}),Object(n.jsx)("div",{className:"button_wrapper",children:Object(n.jsx)("button",{onClick:r,className:"submit_art",children:"submit"})})]})},oe=a.p+"static/media/upload.7a8fabce.svg",le=a.p+"static/media/palette.4de6f000.svg",fe=a.p+"static/media/undo.5ce6f111.svg";var ue=function(){var e=Object(l.f)(),t=c.a.useState(null),a=Object(j.a)(t,2),s=a[0],i=a[1],o=c.a.useState(!1),f=Object(j.a)(o,2),u=f[0],b=f[1],h=c.a.useState(null),v=Object(j.a)(h,2),g=v[0],x=v[1],N=c.a.useState(null),w=Object(j.a)(N,2),_=w[0],A=w[1],k=c.a.useState(null),y=Object(j.a)(k,2),E=y[0],I=y[1],M=c.a.useState({color:"#32d0fc"}),L=Object(j.a)(M,2),Q=L[0],P=L[1],D=R({title:"",image:"",dots:"",colorPalette:"",categories:[],artist:"",description:""}),T=D.formdata,z=D.handleChange,U=D.setErrors,G=D.errors,H=c.a.useState(Array(256).fill("")),ee=Object(j.a)(H,2),te=ee[0],ae=ee[1],ne=c.a.useState(!1),re=Object(j.a)(ne,2),ce=re[0],se=re[1],ue=Object(r.useRef)(),de=Object(r.useRef)(),pe=Object(r.useRef)(null),je=Object(r.useRef)(null),be=null,me=O(),he=c.a.useState(Array(49).fill(Array(256).fill(""))),ve=Object(j.a)(he,2),ge=ve[0],Oe=ve[1],xe=c.a.useState(50),Ne=Object(j.a)(xe,2),we=Ne[0],_e=Ne[1],Ae=function(e){var t=Object(Y.a)(ge);t.push(Object(Y.a)(e)),t.length>51&&(t=t.filter((function(e,t){if(0!==t)return e}))),Oe(t)};c.a.useEffect((function(){if(_&&(ke(),_)){var e=new Image;e.onload=function(){be.drawImage(e,0,0);for(var t=[],a=[],n=0;n<256;n++)t.push(n);t.forEach((function(t){var n=20*Math.floor(t/16),r=t%16*20;be.drawImage(e,r,n,20,20,r,n,20,20);var c=be.getImageData(r+5,n+5,1,1).data,s="#"+("000000"+X(c[0],c[1],c[2])).slice(-6);a.push(s)})),ae(a),Z(a,de)},e.src=_}}),[_]);var ke=function(){var e=ue.current;e.width=e.clientWidth,e.height=e.clientHeight,be=e.getContext("2d")},Ce=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,c,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!t.target.classList.contains("deactivate")){e.next=3;break}return e.abrupt("return");case 3:if(t.target.classList.add("deactivate"),a=te.filter((function(e){return e})),n=0===a.length?"your canvas is blank!":"",r=""===T.title?"please enter title":"",c=0===T.categories.length?"please select atleast one":"",U({title:r,categories:c,dots:n}),!(n||r||c)){e.next=15;break}return pe.current=t.target.parentNode.parentNode,pe.current.classList.add("shake"),setTimeout((function(){pe.current.classList.add("static"),pe.current.classList.remove("shake")}),500),t.target.classList.remove("deactivate"),e.abrupt("return");case 15:return ke(),$(te,be),s=(s=ue.current.toDataURL("image/png")).replace("image/png","image/octet-stream"),(i=new FormData).append("file",s),i.append("upload_preset","khyj99kb"),e.next=24,m.a.post("https://api.cloudinary.com/v1_1/dcwxp0m8g/image/upload",i);case 24:o=e.sent,I(o.data.url),je.current=t.target;case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var t=Object(p.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Ie(te),t.prev=1,t.next=4,C({title:T.title,image:E,dots:JSON.stringify(te),colorPalette:JSON.stringify(a),categories:T.categories,artist:me,description:T.description});case 4:K(de),setTimeout((function(){e.push("/artistpage/".concat(me))}),1e3),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),je.current.classList.remove("deactivate");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();c.a.useEffect((function(){E&&ye()}),[E]);var Se=function(e){ce&&(e.target.style.backgroundColor=Q.color,te[e.target.id]=Q.color,ae(te),W(e),U(Object(B.a)(Object(B.a)({},G),{},{dots:""})),Ae(te),_e(50))},Ee=function(e){var t=""===e.target.style.backgroundColor?Q.color:"";e.target.style.backgroundColor=t,te[e.target.id]=t,ae(te),W(e),U(Object(B.a)(Object(B.a)({},G),{},{dots:""})),Ae(te),_e(50)},Ie=function(e){for(var t=Array(8).fill(""),a=0;a<8;a++)t[a]=q(e)[a];return t},Me=function(e){return Ie(e).map((function(e){var t=Object(V.a)();return Object(n.jsx)("div",{onClick:Le,id:"p".concat(t,"_").concat(e),className:"palette_block",style:{backgroundColor:e}},t)}))},Le=function(e){"undefined"!==e.target.id.split("_")[1]&&(console.log(e.target.style.backgroundColor),P(Object(B.a)(Object(B.a)({},Q),{},{color:e.target.id.split("_")[1]})))};c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,a=t.data,i(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var Be,Qe=0,Pe=function(e){return JSON.parse(e.colorPalette).map((function(e){return Qe++,Object(n.jsx)("div",{id:Qe,style:{backgroundColor:e}},Qe)}))};return Object(n.jsx)(n.Fragment,{children:me?Object(n.jsxs)("div",{className:"wrapper no_height slide_in",children:[Object(n.jsxs)("div",{className:"inner_wrapper",children:[Object(n.jsxs)("div",{className:"grid_wrapper",onMouseDown:function(){return se(!0)},onMouseUp:function(){return se(!1)},ref:de,children:[function(){for(var e=[],t=0;t<256;t++)e.push(t);return e.map((function(e){return Object(n.jsx)("div",{onClick:Ee,onMouseMove:Se,id:e,className:"grid"},e)}))}(),Object(n.jsx)("canvas",{ref:ue,className:"dots"}),Object(n.jsx)("div",{className:"color_background"})]}),Object(n.jsx)("div",{className:"color_palette",children:Me(te)})]}),Object(n.jsxs)("div",{className:"tool_box",children:[Object(n.jsx)("div",{onClick:function(){0!==we&&ge[we]&&(Z(ge[we],de),ae(ge[we-1]),_e(we-1))},className:"back",children:Object(n.jsx)("img",{src:fe,alt:"undo"})}),Object(n.jsx)("input",{type:"color",className:"color pinkfocus",name:"color",onChange:function(e){P(Object(B.a)(Object(B.a)({},Q),{},Object(F.a)({},e.target.name,e.target.value)))},value:Q.color}),Object(n.jsx)("img",{src:le,className:"palette_icon",onClick:function(){b(!u)}}),Object(n.jsxs)("div",{className:"image_upload_wrapper",children:[Object(n.jsx)("label",{htmlFor:"upload",children:Object(n.jsx)("img",{src:oe,alt:"upload button"})}),Object(n.jsx)("input",{id:"upload",type:"file",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0],a=window.URL.createObjectURL(t);A(a)}}})]})]}),Object(n.jsxs)("div",{onMouseLeave:function(){return b(!1)},className:"palette_choice_menu ".concat(u&&"open"),children:[Object(n.jsx)("div",{className:"cross",children:Object(n.jsx)("img",{src:J,alt:"cross",onClick:function(){return b(!1)}})}),s&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"favorited_palettes",children:(Be=s,Be.favoritedPic.map((function(e){return Object(n.jsxs)("div",{className:"palette_wrapper",children:[Object(n.jsx)("img",{onClick:function(){return t=e.dots,Z(JSON.parse(t),de),void ae(JSON.parse(t));var t},src:e.image,alt:e.title}),Object(n.jsx)("div",{onClick:function(){b(!1),x(JSON.parse(e.colorPalette))},className:"palette_option",children:Pe(e)})]},"p".concat(e.id))})))})})]}),g?Object(n.jsx)("div",{className:"palette_option",children:Me(g)}):null,Object(n.jsx)(ie,{handleUpload:Ce,formdata:T,handleChange:z,errors:G})]}):Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("p",{children:"please log in"})})})},de=a.p+"static/media/email_icon.6e6a1ef3.svg",pe=a.p+"static/media/pass_icon.837d96c9.svg";var je=function(){for(var e=0,t=[],a=["rgb(250, 181, 227)","#b2eaf9","#b2eaf9"],r=0;r<10;r++)t.push(a[Math.floor(Math.random()*a.length)]);return t.map((function(t){return e++,Object(n.jsx)("div",{className:"color_block_container",style:{position:"fixed",top:"".concat(Math.ceil(80*Math.random()),"%"),left:"".concat(Math.ceil(80*Math.random()),"%")},children:Object(n.jsx)("div",{className:"color_block",style:{backgroundColor:t}})},e)}))};var be=function(){var e=Object(l.f)(),t=c.a.useState(null),a=Object(j.a)(t,2),r=a[0],s=a[1],i=c.a.useState(!1),o=Object(j.a)(i,2),f=o[0],u=o[1],b=c.a.useState(!1),m=Object(j.a)(b,2),h=m[0],g=m[1],O=R({email:"",password:""}),x=O.formdata,N=O.handleChange,w=function(e){return s(e.target.name)},_=function(){return s(null)},A=function(){var t=Object(p.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,v(x);case 4:n=t.sent,r=n.data,a.target.classList.remove("sign_in"),a.target.classList.add("accepted"),u(!0),setTimeout((function(){var t;t=r.token,window.localStorage.setItem("token",t),e.push("/pics/all/1")}),1e3),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(1),g(!0),a.target.classList.remove("sign_in"),a.target.classList.add("shake"),setTimeout((function(){a.target.classList.add("static"),a.target.classList.remove("shake")}),500);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"wrapper ".concat(f?"animate":""),children:[Object(n.jsx)(je,{}),Object(n.jsxs)("form",{onSubmit:A,className:"sign_in",children:[Object(n.jsxs)("div",{className:"input_box",onMouseEnter:w,onMouseLeave:_,children:[Object(n.jsx)("img",{src:de,className:"".concat("email"===r?"hover":""),alt:"email"}),Object(n.jsx)("input",{placeholder:"email",onChange:N,name:"email",type:"text",value:x.email,className:"pinkfocus"})]}),Object(n.jsxs)("div",{className:"input_box thirty_px_bottom_margin",onMouseEnter:w,onMouseLeave:_,children:[Object(n.jsx)("img",{src:pe,className:"".concat("password"===r?"hover":""),alt:"password"}),Object(n.jsx)("input",{placeholder:"password",type:"password",onChange:N,name:"password",value:x.password,className:"pinkfocus"})]}),h&&Object(n.jsx)("div",{className:"error",children:Object(n.jsx)("p",{children:"hmm, username and/or password is incorrect..."})}),Object(n.jsx)("div",{className:"button_wrapper",children:Object(n.jsx)("button",{className:"sign_in",children:"sign in"})})]})]})};var me=function(e){var t=e.value,a=e.name,r=e.onChange,s=e.defaultProfImage,i=c.a.useState(!1),o=Object(j.a)(i,2),l=o[0],f=o[1],u=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","khyj99kb"),e.next=5,m.a.post("https://api.cloudinary.com/v1_1/dcwxp0m8g/image/upload",n);case 5:c=e.sent,r({target:{name:a,value:c.data.url}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){f(!l)};return Object(n.jsx)(n.Fragment,{children:t&&t!==s?Object(n.jsx)("div",{className:"profile_preview",children:Object(n.jsx)("img",{src:t,alt:"profileImage",style:{width:"100%",height:"auto"}})}):Object(n.jsx)("div",{className:"upload_button_wrapper",children:Object(n.jsxs)("div",{className:"input_wrapper",onMouseEnter:b,onMouseLeave:b,children:[Object(n.jsx)("label",{className:"upload_button ".concat(l?"hover":""),htmlFor:"upload",children:"upload profile image"}),Object(n.jsx)("input",{id:"upload",type:"file",accept:"jpg",onChange:u,name:a})]})})})},he=a.p+"static/media/profile_icon.e00fda7b.svg";var ve=function(){var e="https://res.cloudinary.com/dcwxp0m8g/image/upload/v1612090815/image_upload_test/wuzrwkwj1e4qs24n2bg0.png",t=Object(l.f)(),a=c.a.useState(null),r=Object(j.a)(a,2),s=r[0],i=r[1],o=c.a.useState(!1),f=Object(j.a)(o,2),u=f[0],b=f[1],m=R({username:"",email:"",password:"",passwordConfirmation:"",profileImage:e}),v=m.formdata,g=m.errors,O=m.handleChange,x=m.setErrors,N=function(e){return i(e.target.name)},w=function(){return i(null)},_=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,h(v);case 4:a.target.classList.remove("sign_up"),a.target.classList.add("accepted"),b(!0),setTimeout((function(){t.push("/login")}),1e3),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),x(e.t0.response.data),a.target.classList.remove("sign_up"),a.target.classList.add("shake"),setTimeout((function(){a.target.classList.add("static"),a.target.classList.remove("shake")}),500);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"wrapper ".concat(u?"animate":""),children:[Object(n.jsx)(je,{}),Object(n.jsxs)("form",{onSubmit:_,className:"sign_up",children:[Object(n.jsxs)("div",{className:"input_box column",children:[Object(n.jsx)(me,{value:v.profileImage,defaultProfImage:e,name:"profileImage",onChange:O}),g.username&&Object(n.jsx)("p",{children:g.profileImage})]}),Object(n.jsxs)("div",{className:"input_box",onMouseEnter:N,onMouseLeave:w,children:[Object(n.jsx)("img",{src:he,className:"".concat("username"===s?"hover":""),alt:"username"}),Object(n.jsx)("input",{placeholder:"username",onChange:O,name:"username",type:"text",value:v.username,className:"pinkfocus"})]}),g.username&&Object(n.jsx)("div",{className:"error sign_up",children:Object(n.jsx)("p",{children:g.username})}),Object(n.jsxs)("div",{className:"input_box",onMouseEnter:N,onMouseLeave:w,children:[Object(n.jsx)("img",{src:de,className:"".concat("email"===s?"hover":""),alt:"email"}),Object(n.jsx)("input",{placeholder:"email",type:"text",onChange:O,name:"email",value:v.email,className:"pinkfocus"})]}),g.email&&Object(n.jsx)("div",{className:"error sign_up",children:Object(n.jsx)("p",{children:g.email})}),Object(n.jsxs)("div",{className:"input_box",onMouseEnter:N,onMouseLeave:w,children:[Object(n.jsx)("img",{src:pe,className:"".concat("password"===s?"hover":""),alt:"password"}),Object(n.jsx)("input",{placeholder:"password",type:"password",onChange:O,name:"password",value:v.password,className:"pinkfocus"})]}),g.password&&Object(n.jsx)("div",{className:"error sign_up",children:Object(n.jsx)("p",{children:g.password})}),Object(n.jsxs)("div",{className:"input_box forty_px_bottom_margin",onMouseEnter:N,onMouseLeave:w,children:[Object(n.jsx)("img",{src:pe,className:"".concat("passwordConfirmation"===s?"hover":""),alt:"password confirmation"}),Object(n.jsx)("input",{placeholder:"confirm your password",type:"password",onChange:O,name:"passwordConfirmation",value:v.passwordConfirmation,className:"pinkfocus"})]}),g.passwordConfirmation&&Object(n.jsx)("div",{className:"error sign_up margin_adjusted_forty",children:Object(n.jsx)("p",{children:g.passwordConfirmation})}),Object(n.jsx)("div",{className:"button_wrapper",children:Object(n.jsx)("button",{className:"sign_up",children:"sign up"})})]})]})};var ge=function(e){var t=e.followed,a=e.artistData,r=e.setFollowedNow,s=e.artistId,i=c.a.useState(t),o=Object(j.a)(i,2),f=o[0],u=o[1],b=O(),h=Object(l.f)(),v=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=a.id,m.a.post("".concat(N,"/auth/").concat(t,"/follow/"),null,w());case 3:u(!f),r(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("fav error",e.t0.response);case 10:case"end":return e.stop()}var t}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=a.id,m.a.delete("".concat(N,"/auth/").concat(t,"/follow/"),w());case 3:u(!f),r(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("fav error",e.t0.response);case 10:case"end":return e.stop()}var t}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"followers_following",children:[a.following.length,Object(n.jsx)("span",{onClick:function(){return h.push("/following/".concat(s))},children:"following"}),a.followedBy.length,Object(n.jsx)("span",{onClick:function(){return h.push("/followers/".concat(s))},children:"followers"}),b&&b!==a.id?f?Object(n.jsx)("button",{onClick:g,className:"unfollow",children:"unfollow"}):Object(n.jsx)("button",{onClick:v,className:"follow",children:"follow"}):null]})};var Oe=function(e){var t=e.username,a=e.userId,r=e.mapPics,s=c.a.useState(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],f=c.a.useState([]),u=Object(j.a)(f,2),b=u[0],m=u[1],h=c.a.useState([]),v=Object(j.a)(h,2),g=v[0],O=v[1],x=a,N=function(e){var t=e.map((function(e){return e.artist.followedBy.filter((function(e){return e===x}))}));return e.filter((function(e,a){return 0!==t[a].length}))},w=function(e){var t=e.map((function(e){return e.favoritedBy.filter((function(e){return e.id===x}))}));return e.filter((function(e,a){return 0!==t[a].length}))};return c.a.useEffect((function(){x&&function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,a=t.data,m(N(a.sort((function(e,t){return t.id-e.id})))),O(w(a.sort((function(e,t){return t.id-e.id})))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error"),l(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[x]),Object(n.jsxs)(n.Fragment,{children:[x?null:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("p",{className:"blue",children:"please login"})}),g&&0!==g.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"feed_title fade_in",children:["art favorited by ",t,":"]}),Object(n.jsx)("main",{className:"feed_wrapper",children:r(g,"small")})]}):o?Object(n.jsx)("p",{children:"hmm... error..."}):null,b&&0!==b.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"feed_title fade_in",children:["art by artists followed by ",t,":"]}),Object(n.jsx)("main",{className:"feed_wrapper",children:r(b,"small")})]}):o?Object(n.jsx)("p",{children:"hmm... error..."}):null]})};var xe=function(){var e=Object(l.h)().id,t=c.a.useState(null),a=Object(j.a)(t,2),r=a[0],s=a[1],i=c.a.useState(!1),f=Object(j.a)(i,2),u=f[0],b=f[1],m=c.a.useState(!1),h=Object(j.a)(m,2),v=h[0],g=h[1],x=c.a.useState(0),N=Object(j.a)(x,2),w=N[0],_=N[1],A=0,k=O();c.a.useEffect((function(){(function(){var t=Object(p.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:a=t.sent,n=a.data,s(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error"),b(!0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e,v]);var C=function(e){return JSON.parse(e.colorPalette).map((function(e){return A++,Object(n.jsx)("div",{style:{backgroundColor:e}},A)}))},y=function(e,t){return w<=e.length&&setTimeout((function(){_(w+1)}),80),e.filter((function(t){if(e.indexOf(t)<=w)return t})).slice(0,24).map((function(e){return Object(n.jsxs)("div",{className:"index index_float_up ".concat(t),children:[Object(n.jsx)(o.b,{to:"/pics/".concat(e.id,"/"),children:Object(n.jsx)("img",{src:e.image,alt:e.title,className:"bop"})}),Object(n.jsx)("div",{className:"index_palette fade_in",children:C(e)})]},e.id)}))};return Object(n.jsx)(n.Fragment,{children:r?Object(n.jsxs)("div",{className:"wrapper artist_profile",children:[Object(n.jsxs)("div",{className:"artist_info_wrapper",children:[Object(n.jsx)("div",{className:"profile_image",children:Object(n.jsx)("img",{src:r.profileImage,alt:r.username})}),Object(n.jsxs)("div",{className:"artist_name",children:[r.username,Object(n.jsx)(ge,{followed:r.followedBy.filter((function(e){return e.id===k})).length>0,artistId:e,artistData:r,setFollowedNow:g})]})]}),0!==r.createdPic.length?Object(n.jsxs)("div",{className:"feed_title fade_in",children:["art by ",r.username,":"]}):null,Object(n.jsx)("div",{className:"feed_wrapper",children:y(r.createdPic,"")}),Object(n.jsx)(Oe,{username:r.username,userId:r.id,mapPics:y})]}):u?Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("p",{children:"oops... error..."})}):Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("div",{className:"loading_wrapper",children:[Object(n.jsx)("div",{className:"blue_box"}),Object(n.jsx)("div",{className:"gray_box"})]})})})};var Ne=function(){var e=Object(l.h)().id,t=Object(l.f)(),a=R({title:"",image:"",dots:"",colorPalette:"",categories:[],artist:"",description:""}),s=a.formdata,i=a.setFormdata,o=a.setErrors,f=a.errors,u=a.handleChange,b=c.a.useState({color:"#32d0fc"}),h=Object(j.a)(b,2),v=h[0],g=h[1],x=c.a.useState(null),N=Object(j.a)(x,2),w=N[0],A=N[1],k=c.a.useState(null),C=Object(j.a)(k,2),E=C[0],I=C[1],M=c.a.useState(!1),L=Object(j.a)(M,2),Q=L[0],P=L[1],D=c.a.useState(null),T=Object(j.a)(D,2),z=T[0],U=T[1],G=c.a.useState(Array(256).fill("")),H=Object(j.a)(G,2),V=H[0],ee=H[1],te=c.a.useState(!1),ae=Object(j.a)(te,2),ne=ae[0],re=ae[1],ce=Object(r.useRef)(null),se=Object(r.useRef)(null),ue=null,de=c.a.useState(null),pe=Object(j.a)(de,2),je=pe[0],be=pe[1],me=Object(r.useRef)(),he=Object(r.useRef)(),ve=O(),ge=c.a.useState(Array(49).fill(Array(256).fill(""))),Oe=Object(j.a)(ge,2),xe=Oe[0],Ne=Oe[1],we=c.a.useState(50),_e=Object(j.a)(we,2),Ae=_e[0],ke=_e[1],Ce=function(e){var t=Object(Y.a)(xe);t.push(Object(Y.a)(e)),t.length>51&&(t=t.filter((function(e,t){if(0!==t)return e}))),Ne(t)},ye=function(){var e=me.current;e.width=e.clientWidth,e.height=e.clientHeight,ue=e.getContext("2d")},Se=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,c,i,l,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!t.target.classList.contains("deactivate")){e.next=3;break}return e.abrupt("return");case 3:if(t.target.classList.add("deactivate"),a=V.filter((function(e){return e})),n=0===a.length?"your canvas is blank!":"",r=""===s.title?"please enter title":"",c=0===s.categories.length?"please select atleast one":"",o({title:r,categories:c,dots:n}),!(n||r||c)){e.next=15;break}return ce.current=t.target.parentNode.parentNode,ce.current.classList.add("shake"),setTimeout((function(){ce.current.classList.add("static"),ce.current.classList.remove("shake")}),500),t.target.classList.remove("deactivate"),e.abrupt("return");case 15:return ye(),$(V,ue),i=(i=me.current.toDataURL("image/png")).replace("image/png","image/octet-stream"),(l=new FormData).append("file",i),l.append("upload_preset","khyj99kb"),e.next=24,m.a.post("https://api.cloudinary.com/v1_1/dcwxp0m8g/image/upload",l);case 24:f=e.sent,be(f.data.url),se.current=t.target;case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var a=Object(p.a)(d.a.mark((function a(){var n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Be(V),a.prev=1,a.next=4,y(e,{title:s.title,image:je,dots:JSON.stringify(V),colorPalette:JSON.stringify(n),categories:s.categories.map((function(e){return e.id?e.id:e})),artist:ve,description:s.description});case 4:K(he),setTimeout((function(){t.push("/artistpage/".concat(ve))}),1e3),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0),se.current.classList.remove("deactivate");case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}();c.a.useEffect((function(){je&&Ee()}),[je]),c.a.useEffect((function(){if(z&&(ye(),z)){var e=new Image;e.onload=function(){ue.drawImage(e,0,0);for(var t=[],a=[],n=0;n<256;n++)t.push(n);t.forEach((function(t){var n=20*Math.floor(t/16),r=t%16*20;ue.drawImage(e,r,n,20,20,r,n,20,20);var c=ue.getImageData(r+5,n+5,1,1).data,s="#"+("000000"+X(c[0],c[1],c[2])).slice(-6);a.push(s)})),ee(a),Z(a,he)},e.src=z}}),[z]),c.a.useEffect((function(){(function(){var t=Object(p.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:a=t.sent,n=a.data,i(n),ee(JSON.parse(n.dots)),Z(JSON.parse(n.dots),he),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error test");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,a=t.data,A(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var Ie,Me=function(e){ne&&(e.target.style.backgroundColor=v.color,V[e.target.id]=v.color,ee(V),W(e),o(Object(B.a)(Object(B.a)({},f),{},{dots:""})),Ce(V),ke(50))},Le=function(e){var t=""===e.target.style.backgroundColor?v.color:"";e.target.style.backgroundColor=t,V[e.target.id]=t,ee(V),W(e),o(Object(B.a)(Object(B.a)({},f),{},{dots:""})),Ce(V),ke(50)},Be=function(e){for(var t=Array(8).fill(""),a=0;a<8;a++)t[a]=q(e)[a];return t},Qe=0,Pe=function(e){return Be(e).map((function(e){return Qe++,Object(n.jsx)("div",{onClick:Fe,id:"p".concat(Qe,"_").concat(e),className:"palette_block",style:{backgroundColor:e}},Qe)}))},Je=function(e){return JSON.parse(e.colorPalette).map((function(e){return Qe++,Object(n.jsx)("div",{id:Qe,style:{backgroundColor:e}},Qe)}))},Fe=function(e){"undefined"!==e.target.id.split("_")[1]&&g(Object(B.a)(Object(B.a)({},v),{},{color:e.target.id.split("_")[1]}))};return Object(n.jsx)(n.Fragment,{children:ve&&ve===s.artist.id?Object(n.jsxs)("div",{className:"wrapper no_height slide_in",children:[Object(n.jsxs)("div",{className:"inner_wrapper",children:[Object(n.jsxs)("div",{className:"grid_wrapper",onMouseDown:function(){return re(!0)},onMouseUp:function(){return re(!1)},ref:he,children:[function(){for(var e=[],t=0;t<256;t++)e.push(t);return e.map((function(e){return Object(n.jsx)("div",{onClick:Le,onMouseMove:Me,id:e,className:"grid"},e)}))}(),Object(n.jsx)("canvas",{ref:me,className:"dots"}),Object(n.jsx)("div",{className:"color_background"})]}),Object(n.jsx)("div",{className:"color_palette",children:Pe(V)})]}),Object(n.jsxs)("div",{className:"tool_box",children:[Object(n.jsx)("div",{onClick:function(){console.log("trig"),0!==Ae&&xe[Ae]&&(Z(xe[Ae],he),ee(xe[Ae-1]),ke(Ae-1))},className:"back",children:Object(n.jsx)("img",{src:fe,alt:"undo"})}),Object(n.jsx)("input",{type:"color",className:"color pinkfocus",name:"color",onChange:function(e){g(Object(B.a)(Object(B.a)({},v),{},Object(F.a)({},e.target.name,e.target.value)))},value:v.color}),Object(n.jsx)("img",{src:le,className:"palette_icon",onClick:function(){P(!Q)}}),Object(n.jsxs)("div",{className:"image_upload_wrapper",children:[Object(n.jsx)("label",{htmlFor:"upload",children:Object(n.jsx)("img",{src:oe,alt:"upload button"})}),Object(n.jsx)("input",{id:"upload",type:"file",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0],a=window.URL.createObjectURL(t);U(a)}}})]})]}),Object(n.jsxs)("div",{onMouseLeave:function(){return P(!1)},className:"palette_choice_menu ".concat(Q&&"open"),children:[Object(n.jsx)("div",{className:"cross",children:Object(n.jsx)("img",{src:J,alt:"cross",onClick:function(){return P(!1)}})}),w&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:(Ie=w,Ie.favoritedPic.map((function(e){return Object(n.jsxs)("div",{className:"palette_wrapper",children:[Object(n.jsx)("img",{onClick:function(){return t=e.dots,Z(JSON.parse(t),he),void ee(JSON.parse(t));var t},src:e.image,alt:e.title}),Object(n.jsx)("div",{onClick:function(){P(!1),I(JSON.parse(e.colorPalette))},className:"palette_option",children:Je(e)})]},"p".concat(e.id))})))})})]}),E?Object(n.jsx)("div",{className:"palette_option",children:Pe(E)}):null,Object(n.jsx)(ie,{handleUpload:Se,formdata:s,handleChange:u,errors:f})]}):Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("p",{children:"error"})})})};var we=function(e){var t=e.page,a=e.pics,r=e.filterPics,c=e.prevPage,s=e.nextPage,i=e.goToPage,o=e.noOfPicsToDisplay;return Object(n.jsx)("div",{className:"pagination_wrapper",children:Object(n.jsxs)("div",{className:"pagination_inner_wrapper",children:[1!==Number(t)&&Object(n.jsx)("button",{onClick:c,children:"<"}),function(e){for(var a=[],r=1;r<=e;r++)switch(r){case 1:case Number(t):case Number(t)-1:case Number(t)+1:a.push(r);break;case e-1:a.push("...+");break;case e:a.push(r);break;default:a.push("...")}return Object(Y.a)(new Set(a)).map((function(e){return Object(n.jsx)("button",{className:"".concat(e===Number(t)?"current":""," ").concat("."===e[0]?"null":""),alt:"button",onClick:function(){i(e)},children:"...+"===e?"...":e},"page".concat(e))}))}(Math.ceil(r(a).length/o)),Number(t)!==Math.ceil(r(a).length/o)&&Object(n.jsx)("button",{onClick:s,children:">"})]})})};var _e=function(){var e=Object(l.f)(),t=Object(l.h)(),a=t.category,r=t.page,s=c.a.useState(!1),i=Object(j.a)(s,2),f=i[0],u=i[1],b=c.a.useState(null),m=Object(j.a)(b,2),h=m[0],v=m[1],g=c.a.useState(0),O=Object(j.a)(g,2),x=O[0],N=O[1],w=c.a.useState([]),_=Object(j.a)(w,2),A=_[0],C=_[1],y=0,S=function(e){if("all"===a)return e;var t=e.map((function(e){return e.categories.filter((function(e){return e.name===a}))}));return e.filter((function(e,a){return 0!==t[a].length}))};c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,a=t.data,v(a),C(S(a).sort((function(e,t){return t.id-e.id})).slice(I,r*E)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error"),u(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[r]),c.a.useEffect((function(){window.scrollTo(0,0),N(0)}),[A]);var E=12,I=(r-1)*E,M=function(e){return JSON.parse(e.colorPalette).map((function(e){return y++,Object(n.jsx)("div",{style:{backgroundColor:e}},y)}))},L=c.a.useState(!1),B=Object(j.a)(L,2),Q=B[0],P=B[1];return c.a.useEffect((function(){return P(!0),function(){return P(!1)}}),[]),Q?Object(n.jsx)("div",{className:"wrapper",children:A&&h?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("main",{className:"index_wrapper",children:[Object(n.jsx)("div",{className:"category_label fade_in",children:"all"!==a&&"".concat(a,"/")}),function(e){return x<=e.length&&setTimeout((function(){N(x+1)}),70),e.filter((function(t){if(e.indexOf(t)<=x)return t})).map((function(e){return Object(n.jsxs)("div",{className:"index index_float_up",children:[Object(n.jsx)(o.b,{to:"/pics/".concat(e.id,"/"),children:Object(n.jsx)("img",{className:"bop",src:e.image,alt:e.title})}),Object(n.jsx)("div",{className:"index_palette fade_in",children:M(e)})]},e.id)}))}(A),Object(n.jsx)(we,{page:r,pics:h,filterPics:S,prevPage:function(){e.push("/pics/".concat(a,"/").concat(Number(r)-1))},nextPage:function(){e.push("/pics/".concat(a,"/").concat(Number(r)+1))},goToPage:function(t){"..."!==t&&"...+"!==t&&e.push("/pics/".concat(a,"/").concat(t))},noOfPicsToDisplay:E})]})}):f?Object(n.jsx)("p",{children:" hmmm... error?..."}):Object(n.jsxs)("div",{className:"loading_wrapper",children:[Object(n.jsx)("div",{className:"blue_box"}),Object(n.jsx)("div",{className:"gray_box"})]})}):null};var Ae=function(){var e=Object(l.f)(),t=Object(l.h)().id,a=c.a.useState(null),r=Object(j.a)(a,2),s=r[0],i=r[1],f=c.a.useState(null),u=Object(j.a)(f,2),b=u[0],m=u[1],h=c.a.useState(!1),v=Object(j.a)(h,2),g=v[0],O=v[1];return c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:a=e.sent,n=a.data,i(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error"),O(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,a=t.data,m(a.sort((function(e,t){return t.id-e.id}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(n.jsx)(n.Fragment,{children:g?Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("p",{children:"oops... something gone wrong..."})}):s?0!==s.followedBy.length?Object(n.jsxs)("div",{className:"wrapper artist_profile slide in",children:[Object(n.jsx)("div",{className:"feed_title",children:"".concat(s.username,"'s followers:")}),s.followedBy.map((function(t){return Object(n.jsxs)("div",{className:"user_list",children:[Object(n.jsxs)("div",{className:"user_index",children:[Object(n.jsx)("img",{src:t.profileImage,alt:t.username,onClick:function(){return e.push("/artistpage/".concat(t.id))}}),Object(n.jsx)("div",{onClick:function(){return e.push("/artistpage/".concat(t.id))},children:t.username})]}),b&&(a=t.id,b.filter((function(e){return e.artist.id===a})).slice(0,4).map((function(e){return Object(n.jsx)("div",{className:"index",children:Object(n.jsx)(o.b,{to:"/pics/".concat(e.id,"/"),children:Object(n.jsx)("img",{src:e.image,alt:e.title})})},e.id)})))]},t.id);var a}))]}):Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("p",{children:[s.username," has no followers (yet)"]})}):Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("div",{className:"loading_wrapper",children:[Object(n.jsx)("div",{className:"blue_box"}),Object(n.jsx)("div",{className:"gray_box"})]})})})};var ke=function(){var e=Object(l.f)(),t=Object(l.h)().id,a=c.a.useState(null),r=Object(j.a)(a,2),s=r[0],i=r[1],f=c.a.useState(null),u=Object(j.a)(f,2),b=u[0],m=u[1],h=c.a.useState(!1),v=Object(j.a)(h,2),g=v[0],O=v[1];return c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:a=e.sent,n=a.data,i(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error"),O(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),c.a.useEffect((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,a=t.data,m(a.sort((function(e,t){return t.id-e.id}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(n.jsx)(n.Fragment,{children:g?Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("p",{children:"oops... something gone wrong..."})}):s?0!==s.following.length?Object(n.jsxs)("div",{className:"wrapper artist_profile slide_in",children:[Object(n.jsx)("div",{className:"feed_title",children:"artists followed by ".concat(s.username,":")}),s.following.map((function(t){return Object(n.jsxs)("div",{className:"user_list",children:[Object(n.jsxs)("div",{className:"user_index",children:[Object(n.jsx)("img",{src:t.profileImage,alt:t.username,onClick:function(){return e.push("/artistpage/".concat(t.id))}}),Object(n.jsx)("div",{onClick:function(){return e.push("/artistpage/".concat(t.id))},children:t.username})]}),b&&(a=t.id,b.filter((function(e){return e.artist.id===a})).slice(0,4).map((function(e){return Object(n.jsx)("div",{className:"index",children:Object(n.jsx)(o.b,{to:"/pics/".concat(e.id,"/"),children:Object(n.jsx)("img",{src:e.image,alt:e.title})})},e.id)})))]},t.id);var a}))]}):Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("p",{children:[s.username," isn't following anyone (yet)"]})}):Object(n.jsxs)("div",{className:"loading_wrapper",children:[Object(n.jsx)("div",{className:"blue_box"}),Object(n.jsx)("div",{className:"gray_box"})]})})};var Ce=function(){return Object(n.jsxs)(o.a,{children:[Object(n.jsx)(L,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:f}),Object(n.jsx)(l.a,{path:"/followers/:id",component:Ae}),Object(n.jsx)(l.a,{path:"/following/:id",component:ke}),Object(n.jsx)(l.a,{path:"/pics/:id/edit",component:Ne}),Object(n.jsx)(l.a,{path:"/pics/:category/:page",component:_e}),Object(n.jsx)(l.a,{exact:!0,path:"/pics/new",component:ue}),Object(n.jsx)(l.a,{path:"/pics/:id",component:H}),Object(n.jsx)(l.a,{path:"/artistpage/:id",component:xe}),Object(n.jsx)(l.a,{exact:!0,path:"/login",component:be}),Object(n.jsx)(l.a,{exact:!0,path:"/signup",component:ve})]})]})};i.a.render(Object(n.jsx)(Ce,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.1f0abbf7.chunk.js.map