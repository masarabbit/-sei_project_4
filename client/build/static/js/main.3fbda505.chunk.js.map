{"version":3,"sources":["common/Home.js","assets/logoDots.js","lib/auth.js","lib/api.js","common/Nav.js","assets/16.png","assets/comment_icon.svg","assets/score_icon.svg","assets/cross.svg","hooks/useForm.js","components/CommentForm.js","components/FavButton.js","assets/star.svg","assets/comment.svg","components/InteractionMenu.js","components/ShowPic.js","lib/utils.js","lib/draw.js","assets/title_icon.svg","assets/category_icon.svg","assets/description_icon.svg","components/select/selectOptions.js","components/select/customStyles.js","components/ArtSubmitForm.js","assets/upload.svg","assets/palette.svg","assets/undo.svg","components/CreatePic.js","assets/email_icon.svg","assets/pass_icon.svg","components/RandomBlocks.js","auth/Login.js","auth/ImageUploadField.js","assets/profile_icon.svg","auth/SignUp.js","components/FollowButton.js","components/Feed.js","components/ShowArtistPics.js","components/EditPic.js","components/PaginationLinks.js","components/ShowFilteredPics.js","components/Followers.js","components/Following.js","components/DashbBoard.js","App.js","index.js"],"names":["Home","logoDotsArray","JSON","parse","logoGrid","useRef","sloganContainer","React","useEffect","cluster","setInterval","Math","random","gather","disperse","timer","correctColor","changeColor","clearInterval","targetGrid","i","current","children","style","top","left","classList","add","ceil","remove","color","backgroundColor","floor","length","className","grids","push","ref","map","grid","id","replace","mapGrid","signUpUser","formdata","axios","post","loginUser","getToken","window","localStorage","getItem","getUserId","token","parts","split","atob","sub","isAuthenticated","payload","getPayload","round","Date","now","exp","baseUrl","headers","Authorization","getSinglePic","get","deletePic","delete","getAllPics","createPic","editPic","picId","put","getUserInfo","getArtistPics","createComment","deleteComment","Nav","loggedIn","pathname","useLocation","history","useHistory","useState","userData","setUserData","a","data","console","log","getData","to","src","alt","profileImage","onClick","removeItem","useForm","initialState","setFormdata","errors","setErrors","handleChange","e","target","name","value","CommentForm","displayComment","setDisplayComment","pic","userId","hover","setHover","text","rating","handleSubmit","preventDefault","owner","commentFormCloseEffect","response","setTimeout","handleHover","removeHover","onSubmit","cross","parentNode","onMouseEnter","onMouseLeave","commentIcon","onChange","placeholder","scoreIcon","type","FavButton","liked","star","setLikedNow","like","setLike","handleFavorite","handleUnFavorite","favoritedBy","InteractionMenu","arr","displayCommentForm","artist","username","comments","filter","comment","ele","ShowPic","useParams","setPic","setGather","error","setError","displayDelete","setDisplayDelete","commentDeleted","setCommentDeleted","likedNow","vertPos","horiPos","handleDeleteComment","deleteArt","dots","mapDots","title","points","forEach","toFixed","averagePoint","description","categories","category","idN","colorPalette","hex","mapColorPalette","sortedByFrequencyDuplicatesAndBlankRemoved","array","blankRemoved","dot","orderedByFrequency","val","reduce","v","sort","b","Set","rgbToHex","r","g","toString","clickAnimation","clear","drawIntoGrid","sourceDots","explode","mapFromDots","ctx","x","y","fillStyle","fillRect","selectOptions","label","customStyles","container","provided","fontSize","width","textTransform","option","state","isSelected","borderRadius","isFocused","menu","borderColor","boxShadow","border","dropdownIndicator","indicatorSeparator","valueContainer","marginLeft","control","styles","boxSizing","borderBottom","multiValue","padding","multiValueLabel","multiValueRemove","ArtSubmitForm","handleUpload","titleIcon","categoryIcon","options","isMulti","selected","item","handleMultiChange","descriptionIcon","CreatePic","user","setUser","displayPalette","setDisplayPalette","palette","setPalette","uploadedImageBlobUrl","setUploadedImageBlobUrl","drawingUrl","setDrawingUrl","drawSetting","setDrawSetting","image","Array","fill","setDots","draw","setDraw","canvas","drawingGrid","submissionForm","submissionButton","historyLimit","drawingHistory","setDrawingHistory","historyStep","setHistoryStep","recordHistory","records","record","setUpCanvas","Image","onload","drawImage","dotsFromImage","c","getImageData","slice","canvasEle","clientWidth","height","clientHeight","getContext","contains","drawnDots","dotsError","titleError","selectError","can","toDataURL","FormData","append","process","res","url","filterPalette","stringify","drawDot","drawDotClick","mapPalette","uuidv4","handlePalettePick","mapFavoritedPalette","onMouseDown","onMouseUp","onMouseMove","undoIcon","paletteIcon","htmlFor","uploadIcon","files","uploadedImage","blobUrl","URL","createObjectURL","favoritedPic","forkedDots","RandomBlocks","blocks","colors","block","position","Login","animate","setAnimate","email","password","setItem","emailIcon","passIcon","ImageUploadField","defaultProfImage","accept","SignUp","passwordConfirmation","profileIcon","FollowButton","followed","artistData","setFollowedNow","artistId","follow","setFollow","handleFollow","handleUnfollow","following","followedBy","Feed","mapPics","filteredPicsFollowed","setFilteredPicsFollowed","filteredPicsFavorited","setFilteredPicsFavorited","filterPicsFollowed","pics","artistCheck","follower","_pic","filterPicsFavorited","ShowArtistPics","setArtistData","followedNow","picCounter","setPicCounter","subclass","indexOf","createdPic","EditPic","descriptionError","PaginationLinks","page","filterPics","prevPage","nextPage","goToPage","noOfPicsToDisplay","Number","maxvalue","pages","eachPage","mapPageLinks","ShowFilteredPics","setPics","filteredPics","setFilteredPics","categoryCheck","cat","firstPic","scrollTo","didMount","setDidMount","pageNo","Followers","Following","DashBoard","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3fbda505.chunk.js","sourcesContent":["import React from 'react'\nimport { useRef } from 'react'\n// import { Link } from 'react-router-dom'\n\n// import { getAllPics } from '../lib/api'\n// import { getUserId } from '../lib/auth'\nimport { logoDots } from '../assets/logoDots'\n\n\nfunction Home(){\n  \n  const logoDotsArray = JSON.parse(logoDots)\n  const logoGrid = useRef(null)\n  const sloganContainer = useRef()\n\n  const mapGrid = () =>{    \n    \n    const grids = []\n    for (let i = 0; i < (16 * 16); i++) grids.push(i)\n    return (\n      <div \n        className=\"logo_grid\"\n        ref={logoGrid}\n      >\n        {\n          grids.map(grid=>{\n            return (\n              <div key={grid} \n                id={grid}\n                className={logoDotsArray[grid].replace('#','b')}\n                style={{\n                  backgroundColor: logoDotsArray[grid],\n                  top: `${Math.ceil(Math.random() * 110) - 50}vh`,\n                  left: `${Math.ceil(Math.random() * 110) - 50}vw`\n                }}\n              >\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  }\n\n  React.useEffect(() => {\n    if (!logoGrid) return\n    const cluster = setInterval(()=>{\n      Math.random() < 0.3 ?\n        gather(logoGrid)\n        :\n        disperse(logoGrid)\n    }, 2000)\n    const timer = setInterval(()=>{\n      Math.random() < 0.4 ?\n        correctColor(logoGrid)\n        :\n        changeColor(logoGrid)\n    }, 800)\n    return () => {\n      clearInterval(cluster)\n      clearInterval(timer)\n    }\n  }, [logoGrid])\n\n  const gather = targetGrid =>{\n    if (!logoGrid) return\n    for (let i = 0; i < (16 * 16); i++) {\n      targetGrid.current.children[i].style.top = 0\n      targetGrid.current.children[i].style.left = 0\n      targetGrid.current.children[i].classList.add('show_black')\n    }\n    sloganContainer.current.classList.add('hide')\n  }\n\n  \n  const disperse = targetGrid =>{\n    if (!logoGrid) return\n    for (let i = 0; i < (16 * 16); i++) {\n      targetGrid.current.children[i].style.top = `${Math.ceil(Math.random() * 110) - 50}vh`\n      targetGrid.current.children[i].style.left = `${Math.ceil(Math.random() * 110) - 50}vw`\n      targetGrid.current.children[i].classList.remove('show_black')\n    }\n    sloganContainer.current.classList.remove('hide')\n  }\n  \n  const changeColor = targetGrid =>{\n    if (!logoGrid) return\n    const color = ['#b2eaf9','#fd74b9','#222082','transparent']  \n    for (let i = 0; i < (16 * 16); i++) {\n      Math.random() < 0.09 ?\n        targetGrid.current.children[i].style.backgroundColor = color[Math.floor(Math.random() * color.length)]\n        :\n        targetGrid.current.children[i].style.backgroundColor = logoDotsArray[i]\n    }\n  }\n\n  const correctColor = targetGrid =>{\n    if (!logoGrid) return\n    for (let i = 0; i < (16 * 16); i++) {\n      targetGrid.current.children[i].style.backgroundColor = logoDotsArray[i]\n    }\n  }\n\n\n\n\n\n  return (\n    <div className=\"wrapper overflow_hidden\">\n      {mapGrid()}\n      <div \n        ref={sloganContainer}\n        className=\"slogan_container fade_in_slow\"\n      >\n        draw &#43; share pixel art\n      </div>  \n    </div>  \n  )\n}\n\nexport default Home\n\n\n\n\n// const [ indexLimit, setIndexLimit ] = React.useState(12)\n// const [ scrolling, setScrolling ] = React.useState(false)\n\n// window.addEventListener('scroll', function() {\n//   if (scrolling) return\n//   setScrolling(true)\n//   setTimeout(()=>{\n//     setScrolling(false)\n//   },1000)\n\n//   if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n//     console.log('you\\'re at the bottom of the page')\n//     // Show loading spinner and make fetch request to api\n//     setIndexLimit(indexLimit + 1)\n//     console.log('i', indexLimit)\n//   }\n// })","export const logoDots = '[\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#222082\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#fd74b9\",\"#222082\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#222082\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#222082\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#222082\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#b2eaf9\",\"#000000\",\"#000000\",\"#000000\",\"#000000\",\"#fd74b9\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\",\"#ffffff\"]'\n\n\n","import axios from 'axios'\n\nexport function signUpUser(formdata) {\n  return axios.post('/api/auth/register/', formdata)\n}\n\nexport function loginUser(formdata) {\n  return axios.post('/api/auth/login/', formdata)\n}\n\nexport function setToken(token) {\n  window.localStorage.setItem('token', token) \n}\n\nexport function getToken() {\n  return  window.localStorage.getItem('token')\n}\n\nexport function logout() {\n  return  window.localStorage.removeItem('token')  \n}\n\n\n\n\nfunction getPayload() {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.') \n  if (parts.length < 3) return false \n  return JSON.parse(atob(parts[1])) \n}\n\nexport function getUserId() {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.') \n  if (parts.length < 3) return false \n  // console.log('payload',JSON.parse(atob(parts[1])).sub)\n  return JSON.parse(atob(parts[1])).sub \n}\n\n\nexport function isAuthenticated() {\n  const payload = getPayload()\n  if (!payload) return false \n  const now = Math.round(Date.now() / 1000) \n  // console.log(payload.exp)\n  // console.log(now)\n  // console.log(now < payload.exp)\n  return now < payload.exp\n\n}","import axios from 'axios'\n\nimport { getToken } from './auth'\n\nconst baseUrl = '/api'\n\nfunction headers() {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\n\n\n//* pic\nexport function getSinglePic(id) {\n  return axios.get(`${baseUrl}/pics/${id}/`)\n}\n\nexport function deletePic(id) {\n  return axios.delete(`${baseUrl}/pics/${id}/`, headers() )\n}\n\nexport function getAllPics(){\n  return axios.get(`${baseUrl}/pics/`)\n}\n\nexport function createPic(formdata){\n  return axios.post(`${baseUrl}/pics/`,formdata)\n}\n\nexport function editPic(picId,formdata){\n  return axios.put(`${baseUrl}/pics/${picId}/`,formdata, headers())\n}\n\n\n\n\n\n//* user\n\nexport function getUserInfo() {\n  return axios.get(`${baseUrl}/auth/profile/`, headers())\n} \n\nexport function getArtistPics(id) {\n  return axios.get(`${baseUrl}/auth/${id}/artist_profile/`)\n}\n\n\n\n\n\n//* user interaction\n\nexport function createComment(formdata) {\n  return axios.post(`${baseUrl}/comments/`, formdata, headers() )\n}\n\nexport function deleteComment(id) {\n  return axios.delete(`${baseUrl}/comments/${id}/`, headers() )\n}\n\n\nexport function favorite(picId) {\n  return axios.post(`${baseUrl}/pics/${picId}/favorite/`, null, headers() )\n}\n\nexport function unFavorite(picId) {\n  return axios.delete(`${baseUrl}/pics/${picId}/favorite/`, headers() )\n}\n\nexport function followArtist(id) {\n  return axios.post(`${baseUrl}/auth/${id}/follow/`, null, headers() )\n}\n\nexport function unfollowArtist(id) {\n  return axios.delete(`${baseUrl}/auth/${id}/follow/`, headers() )\n}\n\n\n\n","import React from 'react'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\n\nimport { getUserInfo } from '../lib/api'\nimport { logout, isAuthenticated } from '../lib/auth'\nimport logo from '../assets/16.png'\n\nfunction Nav(){\n  const loggedIn = isAuthenticated()\n  const { pathname } = useLocation()\n  const history = useHistory()\n  const [userData, setUserData] = React.useState(null)\n\n  React.useEffect(() => {\n    if (!loggedIn) return\n    const getData = async () => {\n      try {\n        const { data } = await getUserInfo()\n        setUserData(data)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getData()\n  }, [pathname])\n\n  const handleLogout = () => {\n    logout()\n    history.push('/login')\n    setUserData(null)\n    // setuserMenuDisplay(false)\n    // window.location.reload()\n  }\n\n  // if (userData) console.log(userData)\n\n  return (\n    <nav>\n      <Link to={`/${ userData ? 'pics/all/1' : ''}`}>\n        <img className=\"logo\" src={logo} alt=\"logo\" />\n      </Link>\n      <div className=\"link_menu\">\n        {\n          userData ?\n            <>\n              <img \n                className=\"small_artist_icon\"\n                src={userData.profileImage} \n                alt=\"profile image\" \n                onClick={()=>history.push(`/artistpage/${userData.id}`)}\n              />\n              <button className=\"nav logout\" onClick={handleLogout}>\n                logout\n              </button>\n\n              <Link to=\"/pics/new\">\n                <button className=\"nav draw\">\n                  draw\n                </button>  \n              </Link>\n            </>\n            :\n            <>\n              <Link to=\"/signup\">\n                <button className=\"nav sign_up\">\n                  sign up\n                </button>\n              </Link>\n              <Link to=\"/login\">\n                <button className=\"nav login\">\n                  login\n                </button>\n              </Link>\n            </>\n        }\n    \n        \n      </div>\n    </nav>\n  )\n}\n\nexport default Nav","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAAolBMVEX/////cLex6vkdICEiIIL/d7638f+y6vn9dLkAAAD++/ygSXVxlp8cG4Cv7vwoEh3Yr9n6crbB7/sLCg9dXV3+fL3S8/z9lMnq+v7+udxwPpa9vcQjIYcREED+h8Py8fGKqb6bzNlDV12koqRbdn5bKUIyODq/WYz+ptOAgIBverdEUJ7ioNBANY7JzOF8OVtVVJ9+O13/l8yPoqgPDj9IN2RUhmRLAAAEuElEQVR42u3dfVvaVhjAYRZ5EwWsVETdLFRLrW11ttv3/2qzbruqeY7bQSIiuX9A/9PE+3qIXpwmaTQkSZIkSZIkSZJeS728QN023o9938prfhqqIWDRKUq1d7fzGr7plgMIcHHAcgABAgQIECBAgAABAgQIECBAgAABAtzQJoN2KBuw2yq34dMWlz/G08+xy5NE09jucDgvPer2di3al/3YZXpSfzwePGdxKOt3vLvsN8ulAe++tih+PjsdgHcTuAjgwwAuPIEATaAJNIEmEKAJNIEm0AQCNIEm0ASaQBMI0ASuDnAQyv9EOi6drNUn0pNx7OptxZ19ie2dnExPHrymJ1eJnZm9T7QTejnAIjSYbVfcTuuX0NGPrffuvW7/HSd2Zrrmq3KTeLpG8QyAYR33b8D/35n2dM3XheM+J4/RAP8DMOeX3MoAw29rgPmAvUni70WAJvAlAU2gCXQMNIGOgQBNoGOgCXQMBGgCHQNN4IYDJtY/0oDhA+5G4myI6afMvhzF3q074F5c/pjMzhNd35S73ok/byOxRtUf5e5f95Elh7UGHJS3XAxSZyoND8L6Ryt1qbFm4GvmA2a+Q9YMMO9cuWH82m4SMBHA7e0RQBNoAk2gCQRoAk2gCTSBAE2gCTSBJhCgCTSBJrA6wLzTMJYFjB+Z77Wzrp01GiY+bl8J4CR2dRb7vpvoQ6KqzxM5S2z3PLHdm4vY0QoA9wbxlIvsi6PFVYjWwRK3kemlzlQ6T2z4Q2L941vmRqoHrPR2Hd1lAJPnyiUBE8e7Q4CvFrAk2AH4hL8Sin8ey15hs7aAVV2iFCBAgAABAgQIECBAgAABAgS4boBL/S/9zQEMdXM/kU7cXeNz/QA/JkrdY+Qq1EisUXW26gaY2yi+WxvxsludAuBjgPH3RSMubwMECBAgQIAAAQIECBAgQIAAAQIECBAgwBoC7nfCTdZ3t5boa2izAf89X+Tes9FbotQ3rwPgswYQIECAAAECBAgQIECAAAECBAgQIECAAF8lYKJ3VZf7Wf0rBNwexUfl3ZwehC42BXAV3SR2GuACXQMECBAgQIAAAQIECBAgQIAAAQIECBAgwCcDvgG4QL/Fk2W+Hp/GLgA+Avhrs9/s3382+8eJH+QQ4KOA5VKAXYAAAQIECBAgQIAAAQIECBAgQIAAAQIEuMGAo9z7oqSaJprXDHDYbZUf+TepH7cH4fG+boDLnCu3X9zdWPvn63bDABcFLG0YIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAE+L2ArtsCVi2J1AxztJDrLbDdR3a6dtZIAAgQIECBAgAABAgQIECBAgAABAgQIEODGABbl1gvwj2Y/dNxdoztc74fG03lmVWMN58PQn7/HLr8dhl7qHutHmdudJBbRZlUD7iSW+XJ3sLHugEWn/FbvPAPg03fwFQB2igePDsBFAcsBBAgQIECAAAECBAgQIECAAAECBAjweQH3E8238vp4GssGTGx3tlVxy+xgfr34zC35zZ664cYCG17NDkqSJEmSJEmSKuwvuG1gHLHPSUoAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/comment_icon.f5777408.svg\";","export default __webpack_public_path__ + \"static/media/score_icon.9003a9e1.svg\";","export default __webpack_public_path__ + \"static/media/cross.7b5950ad.svg\";","import React from 'react'\n\nexport default function useForm(initialState){\n  const [ formdata, setFormdata ] = React.useState(initialState)\n  const [ errors, setErrors ] = React.useState(initialState)\n\n\n  const handleChange = e => {\n    setFormdata({ ...formdata, [e.target.name]: e.target.value })\n    setErrors({ ...errors, [e.target.name]: '' })\n  }\n\n\n \n  \n  return {\n    formdata,\n    setFormdata,\n    handleChange,\n    errors,\n    setErrors\n  }\n}\n\n","import React from 'react'\n\nimport commentIcon from '../assets/comment_icon.svg'\nimport scoreIcon from '../assets/score_icon.svg'\nimport cross from '../assets/cross.svg'\n\nimport useForm from '../hooks/useForm'\nimport { createComment } from '../lib/api'\n\n\nfunction CommentForm ( { displayComment, setDisplayComment, pic, userId }){\n\n  const [hover, setHover] = React.useState(null)\n  const { formdata, setFormdata, errors, handleChange, setErrors } = useForm({\n    text: '',\n    rating: 50,\n    pic: ''\n  })\n\n  const handleSubmit = async e => {\n    e.preventDefault()\n\n    if (!formdata.owner) return  //! stop making it possible to comment without logging in\n\n    try {\n      await createComment(formdata)\n      commentFormCloseEffect(e.target)\n      // setTimeout(()=>{\n      //   history.push(`/pics/${id}/c`) //? pathname used to trigger rerender.\n      // },1000)\n    } catch (err) {\n      setErrors(err.response.data)\n\n      e.target.classList.remove('comment')\n      e.target.classList.add('shake')\n      setTimeout(()=>{\n        e.target.classList.add('static')\n        e.target.classList.remove('shake') \n      },500)\n    }\n  }\n\n  const addUserAndArtistIdToFormData = () =>{\n    setFormdata({ ...formdata, pic: pic.id, owner: userId })\n  }\n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n\n\n  React.useEffect(() => {\n    if (!pic) return\n    addUserAndArtistIdToFormData()\n  }, [pic])\n\n  const closeCommentForm = e =>{\n    commentFormCloseEffect(e.target.parentNode.parentNode)\n  }\n\n  const commentFormCloseEffect = target => {\n    target.classList.add('accepted')\n    setTimeout(()=>{\n      setDisplayComment(false)\n      target.classList.remove('accepted')\n    },1000)\n  }\n  \n  return (\n    <div \n      className={`comment_menu_wrapper ${displayComment ? 'display' : ''}`}\n    >\n      <form className=\"comment\" onSubmit={handleSubmit}>\n        <div className=\"cross\">\n          <img src={cross} alt=\"cross\" \n            onClick={closeCommentForm}\n          />\n        </div>  \n        <div className=\"input_box\" onMouseEnter={handleHover} onMouseLeave={removeHover}>\n          <img src={commentIcon} \n            className={`${hover === 'text' ? 'hover' : ''}`}\n            alt=\"comment\" />\n          <textarea \n            name=\"text\"\n            onChange={handleChange}\n            value={formdata.text}\n            placeholder='comment'\n          />\n        </div>  \n        { errors.text && \n          <div className=\"error comment\"><p>{errors.text}</p></div>\n        }\n\n        \n        <div className=\"input_box twenty_px_bottom_margin\" \n          onMouseEnter={handleHover} onMouseLeave={removeHover}>\n          <img src={scoreIcon} \n            className={`range ${hover === 'rating' ? 'hover' : ''}`}\n            alt=\"score\" />\n          \n          <div className=\"rating_wrapper\">\n            <label>\n              score\n            </label> \n            \n            <div className=\"rating_inner_wrapper\">\n              <input\n                type=\"range\"\n                name=\"rating\"\n                onChange={handleChange}\n                value={formdata.rating}\n                // className=\"pinkfocus\"\n              /> \n              <div className=\"range_display\">\n                {formdata.rating}\n              </div>  \n            </div>\n          </div>\n        </div>  \n        \n        <div className=\"button_wrapper\">\n          <button className=\"submit\">\n          submit\n          </button>  \n        </div>\n      </form>  \n    </div>\n  )\n\n}\n\nexport default CommentForm","import React from 'react'\nimport { favorite, unFavorite } from '../lib/api'\n\n\n\nfunction FavButton ({ pic, liked, star, userId, setLikedNow }){\n  const [like, setLike] = React.useState(liked)\n\n  \n\n  const handleFavorite = async e => {\n    try {\n      await favorite(pic.id)\n      setLike(!like)\n      setLikedNow(true)\n      e.target.parentNode.classList.add('inflate')\n      setTimeout(()=>{\n        e.target.parentNode.classList.remove('inflate')\n      },400)\n      \n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n\n  const handleUnFavorite = async ()=>{\n    try {\n      await unFavorite(pic.id)\n      setLike(!like)  \n      setLikedNow(false)\n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n  \n\n  \n  return (\n    <>\n      {\n        !userId ?\n          <div \n            className=\"menu_button inactive\"\n          >\n            <img src={star} alt=\"star\" />\n          </div>  \n          : \n          !like ?\n            <div \n              className=\"menu_button\"\n              onClick={handleFavorite}\n            >\n              <img src={star} alt=\"star\" />\n            </div>  \n            :\n            <div \n              className=\"menu_button clicked\"\n              onClick={handleUnFavorite}\n            >\n              <img src={star} alt=\"star\" />\n            </div>  \n      }\n\n      <div className=\"stats\">  \n        {/* {pic.favoritedBy.length + likedNow} */}\n        {pic.favoritedBy.length}\n      </div>  \n    </>  \n  )\n}\n\nexport default FavButton\n\n\n\n","export default __webpack_public_path__ + \"static/media/star.4665b34a.svg\";","export default __webpack_public_path__ + \"static/media/comment.e74e3903.svg\";","import React from 'react'\n\nimport FavButton from './FavButton'\n\nimport star from '../assets/star.svg'\nimport comment from '../assets/comment.svg'\nimport { useHistory } from 'react-router-dom'\n\n\nfunction InteractionMenu({ pic, userId, displayCommentForm, setLikedNow }){\n  const history = useHistory()\n  \n  const commentedByUser = arr => {\n    return arr.comments.filter(comment=>{\n      return comment.owner.id === userId\n    }).length > 0\n  }\n\n\n  return (\n    <div className=\"interaction_menu\">\n      <div className=\"artist_icon\" onClick={()=> history.push(`/artistpage/${pic.artist.id}` )}>\n        <img src={pic.artist.profileImage} alt={pic.artist.username} />\n      </div>\n      <div className=\"artist_name\">\n        <span>by</span>\n        <span \n          className=\"name\"\n          onClick={()=> history.push(`/artistpage/${pic.artist.id}` )}>\n          {pic.artist.username}\n        </span>  \n      </div>\n      {!userId || commentedByUser(pic) ?\n        <div className=\"menu_button inactive\">\n          <img src={comment} alt=\"speech bubble\" />\n        </div> \n        :\n        <div className=\"menu_button\"\n          onClick = {displayCommentForm}\n        >\n          <img src={comment} alt=\"speech bubble\" />\n        </div> \n      }                \n      <div className=\"stats\">\n        {pic.comments.length}\n      </div>  \n\n      <FavButton \n        liked = {\n          pic.favoritedBy.filter(ele=>{\n            return ele.id === userId\n          }).length > 0 ? true : false\n        }\n        userId = {userId}\n        star={star}\n        pic={pic}\n        setLikedNow={setLikedNow}\n      />\n    </div>\n  )\n}\n\nexport default InteractionMenu","import React from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { getSinglePic, deletePic } from '../lib/api'\n\nimport { getUserId } from '../lib/auth'\nimport { deleteComment } from '../lib/api'\nimport CommentForm from './CommentForm'\n\nimport InteractionMenu from './InteractionMenu'\n\n\nfunction ShowPic(){\n  const history = useHistory()\n  const { id } = useParams()\n  // const history = useHistory()\n  // const { pathname } = useLocation()\n  const [pic,setPic] = React.useState(null)\n  const [gather,setGather] = React.useState(false)\n  const [error,setError] = React.useState(false)\n  const [displayComment,setDisplayComment] = React.useState(false)\n  const userId = getUserId()\n\n  const [displayDelete, setDisplayDelete] = React.useState(false)\n  const [commentDeleted, setCommentDeleted] = React.useState(false)\n  const [likedNow, setLikedNow]  = React.useState(false)\n\n\n  const vertPos = []\n  for (let i = 0; i < (16 * 16); i++) vertPos.push(`${Math.ceil(Math.random() * 110) - 100}vh`)\n\n  const horiPos = []\n  for (let i = 0; i < (16 * 16); i++) horiPos.push(`${Math.ceil(Math.random() * 110) - 100}vw`)\n\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSinglePic(id)\n        setPic(data)\n\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id, displayComment, commentDeleted, likedNow])\n\n\n  const mapDots = (data)=>{\n    const grids = []\n    for (let i = 0; i < (16 * 16); i++){\n      grids.push(i)\n    }\n    \n    setTimeout(()=>{\n      setGather(true)\n    },10)\n    \n    return grids.map(grid=>{\n      return (\n        <div className=\"dot\" \n          key={grid} \n          id={grid} \n          style={{ \n            top: vertPos[grid], \n            left: horiPos[grid], \n            backgroundColor: JSON.parse(data.dots)[grid] \n          }}>\n        </div>\n      )\n    })\n  }\n\n  // if (formdata) console.log('form',formdata)\n\n  const mapColorPalette = pic =>{\n    let idN = 0\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div key={`${idN}-${hex}`} style={{ backgroundColor: hex }}>\n        </div>  \n      )\n    })\n  }\n\n  const displayCommentForm = () => setDisplayComment(true)\n\n  \n  const handleDeleteComment = async (id, e) =>{\n    try {\n      await deleteComment(id)\n      e.target.parentNode.parentNode.classList.add('slide_out')\n      setTimeout(()=>{\n        setCommentDeleted(id)\n      },500)\n    } catch (err) {\n      console.log(err.response)\n    }\n\n  }\n\n  const mapComments = arr =>{\n    return arr.map((comment, i)=>{\n      return (\n        <div \n          className={`user_comments ${i === 0 ? 'first' : ''}`}\n          key={comment.id}\n        > \n          <div>\n            <img \n              className=\"small_artist_icon\"\n              src={comment.owner.profileImage} alt={comment.owner.username} \n              onClick={()=>history.push(`/artistpage/${comment.owner.id}`)}\n            />\n            <span\n              className=\"artist_name_link\"\n              onClick={()=>history.push(`/artistpage/${comment.owner.id}`)}\n            >\n              {comment.owner.username}\n            </span>\n            <span>\n              {comment.rating}pts\n            </span>\n          </div>       \n          <div>\n            {comment.text}\n          </div>\n          { userId === comment.owner.id &&\n            <div>         \n              <button onClick={(e)=>handleDeleteComment(comment.id, e)} className=\"delete\">\n                delete\n              </button>\n            </div>\n          }\n        </div>  \n      )\n    })\n  }\n\n\n\n  const deleteArt = async e =>{\n    try {\n      await deletePic(pic.id)\n      e.target.parentNode.parentNode.parentNode.classList.add('delete')\n      setTimeout(()=>{\n        // history.push('/')\n        history.push(`/artistpage/${userId}`)\n      },1000) \n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n  \n\n  const averagePoint = arr => {\n    let points = 0\n    arr.comments.forEach(comments=>{\n      points += comments.rating\n    })\n    if (!points) return 0\n    points /= arr.comments.length\n    return points.toFixed(1)\n  }\n    \n\n  return (\n\n    <>\n      <CommentForm \n        // history ={history}\n        displayComment={displayComment}\n        setDisplayComment={setDisplayComment}\n        pic={pic} \n        // id={id}\n        userId={userId}\n      />\n\n \n      {pic ? \n        <div className=\"wrapper non_center\">\n          <div className={ `dot_wrapper ${gather && 'assemble'}`}>\n            {mapDots(pic)}\n          </div>\n          <div className=\"pic_info\">\n            <div className=\"title\">\n              {pic.title}\n              <span>\n                {averagePoint(pic)}pts\n              </span>\n            </div>\n            <div className=\"description\">\n              {pic.description}\n            </div>\n            <div className=\"categories\">\n              {pic.categories.map(category=>{\n                return (\n                  <span key={category.name}\n                    onClick={()=>history.push(`/pics/${category.name}/1`)}\n                  >\n                    {`${category.name}${pic.categories[pic.categories.length - 1].name !== category.name ? ', ' : ''}`}\n                  </span>  \n                )\n              })}\n            </div>  \n            {pic.artist.id === userId &&\n                <div className=\"pic_show_user_menu\">\n                  <button \n                    className=\"edit\"\n                    onClick={()=>history.push(`/pics/${pic.id}/edit/`)}>\n                      edit\n                  </button>  \n                  <button \n                    className=\"delete\"\n                    onClick={()=>setDisplayDelete(true)}>\n                      delete\n                  </button>  \n                </div>  \n    \n            }\n            { \n              !displayDelete ?\n                null\n                :\n                <div className=\"delete_menu\">\n                      are you sure you want to delete?\n                  <button \n                    className=\"yes\"\n                    onClick={deleteArt}>\n                      yes\n                  </button>\n                  <button \n                    className=\"no\"\n                    onClick={()=>setDisplayDelete(false)}>\n                      no\n                  </button>\n                </div>\n            }\n          </div>  \n\n          <InteractionMenu \n            pic = {pic} \n            userId = {userId} \n            displayCommentForm = {displayCommentForm}\n            setLikedNow={setLikedNow}\n          />\n            \n          {mapComments(pic.comments)}\n\n          <div className=\"used_colors\">\n            {mapColorPalette(pic)}\n          </div> \n        </div> \n        :\n        error ?\n          <div className=\"wrapper\">\n            <p> can&#39;t find it ...</p>\n          </div>\n          :\n          <div className=\"wrapper\">\n            <div className=\"loading_wrapper\">\n              <div className=\"blue_box\"></div>\n              <div className=\"gray_box\"></div>\n            </div>  \n          </div>\n      }\n    </>\n  )\n}\n\nexport default ShowPic","\nexport const sortedByFrequencyDuplicatesAndBlankRemoved = array =>{  \n\n  const countOccurrences = (arr, val) => arr.reduce((a, v) => (v === val ? a + 1 : a), 0)\n  const blankRemoved = array.filter(dot=> dot !== '' && dot)\n  const orderedByFrequency = blankRemoved.map(ele=>{  \n    return `${ele}_${countOccurrences(blankRemoved,ele)}`\n  }).sort((a, b) => b.split('_')[1] - a.split('_')[1])  \n  return [ ...new Set(orderedByFrequency.map(ele=>ele.split('_')[0]))]\n}\n\n\nexport const rgbToHex = (r, g, b) => {\n  if (r > 255 || g > 255 || b > 255)\n    throw 'Invalid color component'\n  return ((r << 16) | (g << 8) | b).toString(16)\n}\n\n\nexport const dynamicSort = property => {\n  let sortOrder = 1\n\n  if (property[0] === '-') {\n    sortOrder = -1\n    property = property.substr(1)\n  }\n\n  return function (a,b) {\n    if (sortOrder === -1){\n      return b[property].localeCompare(a[property])\n    } else {\n      return a[property].localeCompare(b[property])\n    }        \n  }\n}","export const clickAnimation = e => {\n  let clear = null  \n  clearInterval(clear)\n  e.target.classList.add('clicked') \n  clear = setTimeout(()=>{\n    e.target.classList.remove('clicked')\n  },500)\n}\n\nexport const drawIntoGrid = (sourceDots, target) =>{\n  sourceDots.forEach((dot, i)=>{\n    target.current.children[i].style.backgroundColor = dot\n  })\n}\n\nexport const explode = targetGrid =>{\n  for (let i = 0; i < (16 * 16); i++) {\n    targetGrid.current.children[i].style.top = `${Math.ceil(Math.random() * 110) - 50}vh`\n    targetGrid.current.children[i].style.left = `${Math.ceil(Math.random() * 110) - 50}vw`\n    setTimeout(()=>{\n      targetGrid.current.children[i].classList.add('explode')\n    },100)\n  }\n}\n\nexport const mapFromDots = (dots, ctx) => {\n  for (let i = 0; i < (16 * 16); i++){\n    const x = i % 16 * 20\n    const y = Math.floor(i / 16) * 20\n    ctx.fillStyle = dots[i] ? dots[i] : 'transparent'\n    ctx.fillRect(x, y, 20, 20)\n  }\n}\n\n\n","export default __webpack_public_path__ + \"static/media/title_icon.28ae5457.svg\";","export default __webpack_public_path__ + \"static/media/category_icon.09ed3314.svg\";","export default __webpack_public_path__ + \"static/media/description_icon.4f89bb2c.svg\";","export const selectOptions = [\n  { value: '1', label: 'abstract' },\n  { value: '2', label: 'animal' },\n  { value: '3', label: 'architecture' },\n  { value: '4', label: 'fan art' },\n  { value: '5', label: 'film and tv show' },\n  { value: '6', label: 'food' },\n  { value: '7', label: 'game' },\n  { value: '8', label: 'music' },\n  { value: '9', label: 'plant' },\n  { value: '10', label: 'portrait' },\n  { value: '11', label: 'scenery' },\n  { value: '12', label: 'sport' },\n  { value: '13', label: 'transport' },\n  { value: '14', label: 'travel' },\n  { value: '15', label: 'other' }\n]\n\n\n","\nexport const customStyles = {\n  container: (provided) => ({\n    ...provided,\n    fontSize: 13,\n    width: '100%'\n  }),\n  placeholder: (provided) => ({\n    ...provided,\n    color: 'rgb(123, 135, 146)',\n    textTransform: 'lowercase'\n  }),\n  option: (provided, state) => ({\n    ...provided,\n    color: state.isSelected ? '#b2eaf9' : 'black',\n    borderRadius: 0,\n    backgroundColor: state.isFocused ? '#b2eaf9' : '',\n    ':active': {\n      backgroundColor: '#b2eaf9'\n    }\n  }),\n  menu: (provided) => ({\n    ...provided,\n    borderColor: '#b2eaf9',\n    borderRadius: 0,\n    boxShadow: 'none',\n    border: '#b2eaf9 solid 1px'\n    // marginTop: -1\n  }),\n  dropdownIndicator: (provided) => ({\n    ...provided,\n    color: 'black'\n  }),\n  indicatorSeparator: () => null,\n  valueContainer: (provided) => ({\n    ...provided,\n    marginLeft: -2\n  }),\n  control: (styles, state) => ({ \n    ...styles, \n    boxShadow: state.isFocused ? '0 0 0 2px rgb(253, 116, 185)' : '',\n    backgroundColor: 'white',\n    borderRadius: 0,\n    borderColor: 'transparent',\n    boxSizing: 'border-box',\n    borderBottom: state.isFocused ? '' : '2px solid black',\n    ':hover': {\n      borderColor: 'transparent'\n      // borderBottom: '2px solid rgb(253, 116, 185)'\n    }\n  }),\n  multiValue: (styles) => {\n    return {\n      ...styles,\n      backgroundColor: 'black',\n      fontSize: 15,\n      borderRadius: 0,\n      padding: 2\n    }\n  },\n  multiValueLabel: (styles) => ({\n    ...styles,\n    color: 'white'\n  }),\n  multiValueRemove: (styles) => ({\n    ...styles,\n    color: 'white',\n    borderRadius: 0,\n    ':hover': {\n      backgroundColor: 'white',\n      color: 'black'\n    }\n  })\n}","import React from 'react'\n\nimport Select from 'react-select'\nimport titleIcon from '../assets/title_icon.svg'\nimport categoryIcon from '../assets/category_icon.svg'\nimport descriptionIcon from '../assets/description_icon.svg'\n\nimport { selectOptions } from './select/selectOptions.js'\nimport { customStyles } from './select/customStyles.js'\n\n\n\n\nfunction ArtSubmitForm({ formdata, handleChange, handleUpload, errors }){\n  const [hover, setHover] = React.useState(null)\n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n  const handleHoverSelect = () => setHover('categories')\n\n  const handleMultiChange = (selected, name) => {\n    const value = selected ? selected.map(item=> item.value) : []\n    handleChange({\n      target: { name, value }\n    })\n  }\n\n\n\n  return (\n\n    <form className=\"art_submission_menu\"\n      // ref={submissionForm}\n    > \n      { errors.dots && \n          <div className=\"error center\"><p>{errors.dots}</p></div>\n      }\n        \n      <div className=\"input_box\">\n        <img src={titleIcon} \n          className={`${hover === 'title' ? 'hover' : ''}`}\n          alt=\"title\" />\n        <input type=\"title\" \n          name=\"title\"\n          onChange={handleChange}\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n          value={formdata.title}\n          placeholder=\"title\"\n          className=\"pinkfocus\"\n        />\n      </div>\n      { errors.title && \n          <div className=\"error sign_up\"><p>{errors.title}</p></div>\n      }\n\n      <div className=\"input_box\"\n        onMouseEnter={handleHoverSelect}\n        onMouseLeave={removeHover}\n      >\n        <img src={categoryIcon} \n          className={`${hover === 'categories' ? 'hover' : ''}`}\n          alt=\"category\" \n          onMouseEnter={removeHover}\n        />\n        <Select\n          styles={customStyles}\n          options={selectOptions}\n          isMulti\n          name='categories'\n          onChange = {(selected) => handleMultiChange(selected, 'categories')} \n        />\n      </div>  \n      { errors.categories && \n          <div className=\"error sign_up\"><p>{errors.categories}</p></div>\n      }\n\n      <div className=\"input_box\">\n        <img src={descriptionIcon} \n          className={`${hover === 'description' ? 'hover' : ''}`}\n          alt=\"description\" />\n        <textarea type=\"description\" \n          name=\"description\"\n          onChange={handleChange}\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n          value={formdata.description}\n          placeholder=\"description\"\n          className=\"twenty_px_bottom_margin\"\n        />\n      </div>  \n      { errors.description && \n          <div className=\"error sign_up margin_adjusted_twenty\"><p>{errors.description}</p></div>\n      }\n\n      <div className=\"button_wrapper\">\n        <button \n          onClick={handleUpload}\n          className=\"submit_art\"\n        >\n        submit\n        </button>  \n      </div>\n    </form>\n\n  )\n}\n\nexport default ArtSubmitForm","export default __webpack_public_path__ + \"static/media/upload.7a8fabce.svg\";","export default __webpack_public_path__ + \"static/media/palette.4de6f000.svg\";","export default __webpack_public_path__ + \"static/media/undo.5ce6f111.svg\";","import React from 'react'\nimport { useRef } from 'react'\nimport axios from 'axios'\nimport { v4 as uuidv4 } from 'uuid'\nimport { useHistory } from 'react-router-dom'\n\nimport { getUserId } from '../lib/auth'\nimport { createPic, getUserInfo } from '../lib/api'\nimport { sortedByFrequencyDuplicatesAndBlankRemoved, rgbToHex } from '../lib/utils'\nimport { clickAnimation, drawIntoGrid, explode, mapFromDots } from '../lib/draw'\nimport ArtSubmitForm from './ArtSubmitForm'\nimport cross from '../assets/cross.svg'\nimport useForm from '../hooks/useForm' \n\nimport uploadIcon from '../assets/upload.svg'\nimport paletteIcon from '../assets/palette.svg'\nimport undoIcon from '../assets/undo.svg'\n\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\n\n\nfunction CreatePic(){\n  const history = useHistory()\n  const [user, setUser] = React.useState(null)\n  const [displayPalette, setDisplayPalette] = React.useState(false)\n  const [palette, setPalette] = React.useState(null)\n  const [uploadedImageBlobUrl, setUploadedImageBlobUrl] = React.useState(null)\n\n  const [drawingUrl, setDrawingUrl] = React.useState(null)\n  const [drawSetting, setDrawSetting] = React.useState({\n    color: '#32d0fc'\n  }) \n  const { formdata,  handleChange, setErrors, errors } = useForm({\n    title: '', \n    image: '', \n    dots: '', \n    colorPalette: '',\n    categories: [],\n    artist: '',\n    description: ''\n  })\n\n  const [dots, setDots] = React.useState(Array(256).fill(''))\n  const [draw, setDraw] = React.useState(false)\n  const drawOn = ()=> setDraw(true) \n  const drawOff = ()=> setDraw(false) \n  const canvas = useRef()\n  const drawingGrid = useRef()\n  const submissionForm = useRef(null)\n  const submissionButton = useRef(null)\n  let ctx = null\n  \n  const userId = getUserId()\n\n  const mapFromImage = e => {\n    if (!e.target.files[0]) return\n    const uploadedImage = e.target.files[0]\n    const blobUrl = window.URL.createObjectURL(uploadedImage)\n    setUploadedImageBlobUrl(blobUrl)\n  }\n  \n  const historyLimit = 50\n  const [drawingHistory, setDrawingHistory] = React.useState(Array(historyLimit - 1).fill(Array(256).fill('')))\n  const [historyStep, setHistoryStep] = React.useState(historyLimit)\n\n\n  const recordHistory = arr =>{\n    let records = [...drawingHistory]\n    records.push([...arr])\n    if (records.length > historyLimit + 1) {\n      records = records.filter((record,i)=>{\n        if (i !== 0) return record\n      })\n    }\n    setDrawingHistory(records)\n  }\n\n  React.useEffect(() => {\n    if (!uploadedImageBlobUrl) return\n\n    setUpCanvas()\n    if (uploadedImageBlobUrl) {\n      const image = new Image()\n      image.onload = function() {    \n        ctx.drawImage(image, 0, 0)\n        const arr = []\n        const dotsFromImage = []\n        for (let i = 0; i < 256; i++) arr.push(i)\n\n        arr.forEach(ele=>{\n          const y = Math.floor(ele / 16) * 20\n          const x = ele % 16 * 20\n          ctx.drawImage(image, x, y, 20, 20, x, y, 20, 20)\n          const c = ctx.getImageData(x + 5, y + 5, 1, 1).data\n          const hex = '#' + ('000000' + rgbToHex(c[0], c[1], c[2])).slice(-6)\n          dotsFromImage.push(hex)\n        })\n        setDots(dotsFromImage)\n        drawIntoGrid(dotsFromImage,drawingGrid)\n      }\n      image.src = uploadedImageBlobUrl\n    }\n  }, [uploadedImageBlobUrl])\n  \n\n  const setUpCanvas = () =>{\n    const canvasEle = canvas.current\n    canvasEle.width = canvasEle.clientWidth\n    canvasEle.height = canvasEle.clientHeight    \n    ctx = canvasEle.getContext('2d')\n  }\n  \n  const handleSettingChange = e => {\n    setDrawSetting({ ...drawSetting, [e.target.name]: e.target.value })\n  }\n\n  const handleUpload = async e => { \n    e.preventDefault()\n    if ( e.target.classList.contains('deactivate')) return\n    e.target.classList.add('deactivate')\n\n    const drawnDots = dots.filter(dot=> dot)\n    const dotsError = drawnDots.length === 0 ? 'your canvas is blank!' : ''\n    const titleError = formdata.title === '' ? 'please enter title' : ''\n    const selectError = formdata.categories.length === 0 ? 'please select atleast one' : ''\n    // const descriptionError = formdata.description === '' ? 'please enter description' : ''\n    setErrors({ \n      title: titleError, \n      categories: selectError, \n      // description: descriptionError,\n      dots: dotsError \n    })\n    if (dotsError || titleError || selectError) {     \n      submissionForm.current = e.target.parentNode.parentNode\n      submissionForm.current.classList.add('shake')\n      setTimeout(()=>{\n        submissionForm.current.classList.add('static')\n        submissionForm.current.classList.remove('shake') \n      },500)\n      e.target.classList.remove('deactivate')\n      return\n    }\n\n    setUpCanvas() //these ensure that canvas is rendered before upload\n    mapFromDots(dots,ctx)\n    let can = canvas.current.toDataURL('image/png')\n    can = can.replace('image/png', 'image/octet-stream')\n    const data = new FormData() \n    data.append('file', can)\n    data.append('upload_preset', uploadPreset)\n    const res = await axios.post(uploadUrl, data)\n    setDrawingUrl(res.data.url)\n    submissionButton.current = e.target \n  }\n  \n  const handleSubmit = async () => {  \n    const palette = filterPalette(dots)\n    try {\n      await createPic({ \n        title: formdata.title, \n        image: drawingUrl, \n        dots: JSON.stringify(dots), \n        colorPalette: JSON.stringify(palette),\n        categories: formdata.categories,\n        artist: userId,\n        description: formdata.description \n      })\n      explode(drawingGrid)\n      setTimeout(()=>{\n        history.push(`/artistpage/${userId}`)\n      },1000)\n    } catch (err){\n      console.log(err)\n      submissionButton.current.classList.remove('deactivate')\n    }\n  }\n\n  React.useEffect(() => {\n    if (!drawingUrl) return\n    handleSubmit()\n  }, [drawingUrl])\n  \n\n  const drawDot = e =>{\n    if (!draw) return\n    e.target.style.backgroundColor = drawSetting.color\n    dots[e.target.id] = drawSetting.color  // record\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n\n  const drawDotClick = e =>{\n    const color = e.target.style.backgroundColor === '' ? drawSetting.color : ''\n    e.target.style.backgroundColor = color\n    dots[e.target.id] = color\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n  \n  const filterPalette = arr =>{\n    const palette = Array(8).fill('')\n    for (let i = 0; i < 8; i++){\n      palette[i] = sortedByFrequencyDuplicatesAndBlankRemoved(arr)[i]\n    }\n    return palette\n  }\n\n  //! don't need uuid? to be considered\n  const mapPalette = arr =>{   \n    const palette = filterPalette(arr)\n    return palette.map(hex=>{\n      const idN = uuidv4()\n      return (\n        <div key={idN} \n          onClick={handlePalettePick}\n          id={`p${idN}_${hex}`}\n          className=\"palette_block\"\n          style={{ backgroundColor: hex }}  \n        >  \n        </div>\n      )\n    })\n  }\n\n  const handlePalettePick = e =>{\n    if (e.target.id.split('_')[1] === 'undefined') return\n    console.log(e.target.style.backgroundColor)\n    setDrawSetting({ ...drawSetting, color: e.target.id.split('_')[1] })\n  }\n\n\n  const mapGrid = () =>{    \n    const grids = []\n    for (let i = 0; i < (16 * 16); i++) grids.push(i)\n    return grids.map(grid=>{\n      return (\n        <div key={grid} \n          onClick={drawDotClick}\n          onMouseMove={drawDot}\n          id={grid}\n          className=\"grid\">\n        </div>\n      )\n    })\n  }\n  \n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getUserInfo()\n        setUser(data)\n      } catch (err) {\n        console.log('error')\n      }\n    }\n    getData()\n  },[])\n  \n\n  \n  let idN = 0\n  const mapFavoritedPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          id = {idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n  \n  const fork = forkedDots =>{\n    drawIntoGrid(JSON.parse(forkedDots),drawingGrid)\n    setDots(JSON.parse(forkedDots))\n  }\n\n  const mapOptions = arr =>{\n    return arr.favoritedPic.map(pic=>{\n      return (\n        <div key={`p${pic.id}`}\n          className=\"palette_wrapper\"\n        >\n          <img onClick ={()=>fork(pic.dots)}\n            src={pic.image} alt={pic.title}\n          />  \n          <div onClick={()=>{\n            setDisplayPalette(false)\n            setPalette(JSON.parse(pic.colorPalette))\n          }}\n          className=\"palette_option\"\n          >\n            {mapFavoritedPalette(pic)}\n          </div>  \n        </div>\n      )\n    }\n    )\n  }\n  \n  //! still a little buggy\n  const handleBack = () =>{\n    if (historyStep === 0 || !drawingHistory[historyStep]) return\n    drawIntoGrid(drawingHistory[historyStep],drawingGrid)\n    setDots(drawingHistory[historyStep - 1])\n    setHistoryStep(historyStep - 1)\n  }\n\n  return (\n    <>\n      {\n        !userId ?\n          <div className=\"wrapper\">\n            <p>please log in</p>\n          </div>\n          :\n          <div className=\"wrapper no_height slide_in\">\n            <div className=\"inner_wrapper\">\n              <div className=\"grid_wrapper\"\n                onMouseDown={drawOn}\n                onMouseUp={drawOff}\n                ref={drawingGrid}\n              > \n                {mapGrid()}\n                <canvas \n                  ref={canvas}\n                  className=\"dots\" \n                />\n                <div className=\"color_background\">\n                </div>\n              </div>  \n    \n              <div className=\"color_palette\">\n                {mapPalette(dots)}\n              </div>  \n            </div>\n      \n            <div className=\"tool_box\">\n              <div \n                onClick={handleBack}\n                className=\"back\">\n                <img src={undoIcon} alt=\"undo\" />\n              </div>  \n          \n              <input type=\"color\" \n                className=\"color pinkfocus\"\n                name=\"color\"\n                onChange={handleSettingChange}\n                value={drawSetting.color}\n              />\n\n              <img src={paletteIcon}\n                className=\"palette_icon\"\n                onClick={()=>{ \n                  setDisplayPalette(!displayPalette) \n                }}\n              /> \n\n              <div className=\"image_upload_wrapper\">\n                <label htmlFor=\"upload\" > \n                  <img src={uploadIcon} alt=\"upload button\" />\n                </label>\n                <input\n                  id=\"upload\"\n                  type=\"file\"\n                  onChange={mapFromImage}\n                />\n              </div>  \n            </div>\n            <div \n              onMouseLeave={()=>setDisplayPalette(false)}\n              className={`palette_choice_menu ${displayPalette && 'open'}`}\n            >\n              <div className=\"cross\">\n                <img src={cross} alt=\"cross\" \n                  onClick={()=>setDisplayPalette(false)}\n                />\n              </div>\n              {\n                user &&\n            <>\n              <div className=\"favorited_palettes\">\n                {mapOptions(user)}  \n              </div>  \n            </>   \n              }\n            </div>  \n            {\n              palette ?\n                <div className=\"palette_option\">\n                  {mapPalette(palette)}\n                </div>\n                :\n                null\n            }\n  \n            <ArtSubmitForm \n              handleUpload={handleUpload}\n              formdata={formdata}\n              handleChange={handleChange}\n              errors={errors}\n            />\n          </div>\n      }\n    </>\n  )\n}\n\nexport default CreatePic\n\n\n// React.useEffect(() => {\n//   if (!uploadedImageBlobUrl) return\n\n//   setUpCanvas()\n//   if (uploadedImageBlobUrl) {\n//     const image = new Image()\n//     image.onload = function() {    \n//       ctx.drawImage(image, 0, 0)\n//       const arr = []\n//       const dotsFromImage = []\n//       for (let i = 0; i < 256; i++) arr.push(i)\n\n//       arr.forEach(ele=>{\n//         const y = Math.floor(ele / 16) * 20\n//         const x = ele % 16 * 20\n//         ctx.drawImage(image, x, y, 20, 20, x, y, 20, 20)\n//         const c = ctx.getImageData(x + 5, y + 5, 1, 1).data\n//         const hex = '#' + ('000000' + rgbToHex(c[0], c[1], c[2])).slice(-6)\n//         dotsFromImage.push(hex)\n//       })\n//       setDots(dotsFromImage)\n//       drawIntoGrid(dotsFromImage,drawingGrid)\n//     }\n//     image.src = uploadedImageBlobUrl\n//   }\n// }, [uploadedImageBlobUrl])\n\n\n","export default __webpack_public_path__ + \"static/media/email_icon.6e6a1ef3.svg\";","export default __webpack_public_path__ + \"static/media/pass_icon.837d96c9.svg\";","import React from 'react'\n\n\nfunction RandomBlocks(){\n\n  let idN = 0\n  const blocks = []\n  const colors = [ 'rgb(250, 181, 227)','#b2eaf9','#b2eaf9']\n  for (let i = 0; i < 10; i++){\n    blocks.push(colors[Math.floor(Math.random() * colors.length)])\n  }\n\n\n  return blocks.map(block=>{\n    idN++\n    return (\n      <div \n        key={idN}\n        className=\"color_block_container\"\n        style={{ position: 'fixed', top: `${Math.ceil(Math.random() * 80)}%`, left: `${Math.ceil(Math.random() * 80)}%`   }}\n      >\n        <div \n          className=\"color_block\" \n          style={{ backgroundColor: block }}\n        >\n        </div>  \n      </div>  \n    )\n  })\n}\n\nexport default RandomBlocks","import React from 'react'\nimport { loginUser, setToken } from '../lib/auth'\nimport { useHistory } from 'react-router-dom'\nimport useForm from '../hooks/useForm'\n\nimport emailIcon from '../assets/email_icon.svg'\nimport passIcon from '../assets/pass_icon.svg'\nimport RandomBlocks from '../components/RandomBlocks'\n\n\n\nfunction Login (){\n  const history = useHistory()\n  const [hover, setHover] = React.useState(null)\n  const [animate, setAnimate] = React.useState(false)\n  const [error, setError] = React.useState(false)\n  const { formdata, handleChange } = useForm({\n    email: '',\n    password: ''\n  })\n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n\n\n  const handleSubmit = async e => { \n    e.preventDefault()\n    try {\n      const { data } = await loginUser(formdata)\n\n      e.target.classList.remove('sign_in')\n      e.target.classList.add('accepted')\n      setAnimate(true)\n      setTimeout(()=>{\n        setToken(data.token)\n        history.push('/pics/all/1')\n        // history.push(`/artistpage/${getUserId()}`)\n      },1000)\n    } catch (err) {\n      setError(true)\n\n      e.target.classList.remove('sign_in')\n      e.target.classList.add('shake')\n      setTimeout(()=>{\n        e.target.classList.add('static')\n        e.target.classList.remove('shake') \n\n      },500)\n    }\n  }  \n\n  return (\n    <div className={`wrapper ${animate ? 'animate' : '' }`}>\n      <RandomBlocks />\n      <form\n        onSubmit={handleSubmit}\n        className=\"sign_in\"\n      >\n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={emailIcon} \n            className={`${hover === 'email' ? 'hover' : ''}`}\n            alt=\"email\" />\n          <input \n            placeholder=\"email\"\n            onChange={handleChange}\n            name=\"email\"\n            type=\"text\"\n            value={formdata.email}\n            className=\"pinkfocus\"\n          />\n        </div>\n        \n        <div className=\"input_box thirty_px_bottom_margin\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={passIcon} \n            className={`${hover === 'password' ? 'hover' : ''}`}\n            alt=\"password\" />\n          <input \n            placeholder=\"password\"\n            type=\"password\"\n            onChange={handleChange}\n            name=\"password\"\n            value={formdata.password}\n            className=\"pinkfocus\"\n          />\n        </div>\n        {error && \n          <div className=\"error\">\n            <p>hmm, username and/or password is incorrect...</p>\n          </div>\n        }\n\n        <div className=\"button_wrapper\">\n          <button \n            className=\"sign_in\"\n          >\n            sign in\n          </button>  \n        </div>\n      </form>\n    </div> \n\n  )\n}\n\nexport default Login","import React from 'react'\nimport axios from 'axios'\n\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\n\nfunction ImageUploadField( { value, name, onChange, defaultProfImage } ) {\n  const [ hover, setHover] = React.useState(false)\n\n\n  const handleUpload = async e => {\n    const data = new FormData()  \n    data.append('file', e.target.files[0])\n    data.append('upload_preset', uploadPreset)\n    const res = await axios.post(uploadUrl, data)\n    onChange({ target: { name, value: res.data.url } }) //* handleChange triggered\n  }\n  \n  const handleHover = () =>{\n    setHover(!hover)\n  }\n\n\n\n  return (\n    <>\n      {\n        value && value !== defaultProfImage ?\n          <div className=\"profile_preview\">\n            <img src={value} alt=\"profileImage\" style={{ width: '100%', height: 'auto' }}/>\n          </div>\n          :\n          <div className=\"upload_button_wrapper\">\n            <div className=\"input_wrapper\" onMouseEnter={handleHover} onMouseLeave={handleHover}>\n              <label className={`upload_button ${hover ? 'hover' : ''}`} htmlFor=\"upload\" > \n                upload profile image\n              </label>\n              <input\n                id=\"upload\"\n                type=\"file\"\n                accept=\"jpg\"\n                onChange={handleUpload}\n                name={name}\n              />\n            </div>  \n          </div>\n      }\n\n      \n    </>\n  )\n}\n\nexport default ImageUploadField","export default __webpack_public_path__ + \"static/media/profile_icon.e00fda7b.svg\";","import React from 'react'\nimport { signUpUser } from '../lib/auth'\nimport { useHistory } from 'react-router-dom'\n\nimport useForm from '../hooks/useForm'\nimport ImageUploadField from './ImageUploadField'\nimport profileIcon from '../assets/profile_icon.svg'\nimport emailIcon from '../assets/email_icon.svg'\nimport passIcon from '../assets/pass_icon.svg'\nimport RandomBlocks from '../components/RandomBlocks'\n\nfunction SignUp(){\n  const defaultProfImage = 'https://res.cloudinary.com/dcwxp0m8g/image/upload/v1612090815/image_upload_test/wuzrwkwj1e4qs24n2bg0.png'\n  const history = useHistory()\n  const [hover, setHover] = React.useState(null)\n  const [animate, setAnimate] = React.useState(false)\n  const { formdata, errors, handleChange, setErrors } = useForm({\n    username: '',\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    profileImage: defaultProfImage\n  })\n  \n\n  const handleHover = e => setHover(e.target.name)\n  const removeHover = () => setHover(null)\n\n\n  const handleSubmit = async e => { \n    e.preventDefault()\n    try {\n      await signUpUser(formdata)\n      e.target.classList.remove('sign_up')\n      e.target.classList.add('accepted')\n      setAnimate(true)\n      setTimeout(()=>{\n        history.push('/login')\n      },1000)\n    } catch (err) {\n      setErrors(err.response.data)\n    \n      e.target.classList.remove('sign_up')\n      e.target.classList.add('shake')\n      setTimeout(()=>{\n        e.target.classList.add('static')\n        e.target.classList.remove('shake') \n      },500)\n    }\n  }  \n\n\n\n  return (\n    <div className={`wrapper ${animate ? 'animate' : '' }`}>\n      <RandomBlocks />\n      <form\n        onSubmit={handleSubmit}\n        className=\"sign_up\"\n      > \n        <div className=\"input_box column\">\n          <ImageUploadField \n            value={formdata.profileImage}\n            defaultProfImage={defaultProfImage}\n            name=\"profileImage\"\n            onChange={handleChange}\n          />\n          {errors.username && <p>{errors.profileImage}</p>}\n        </div>\n\n\n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={profileIcon} \n            className={`${hover === 'username' ? 'hover' : ''}`}\n            alt=\"username\" />\n          <input \n            placeholder=\"username\"\n            onChange={handleChange}\n            name=\"username\"\n            type=\"text\"\n            value={formdata.username}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.username && \n          <div className=\"error sign_up\"><p>{errors.username}</p></div>\n        }\n\n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={emailIcon} \n            className={`${hover === 'email' ? 'hover' : ''}`}\n            alt=\"email\" />\n          <input \n            placeholder=\"email\"\n            type=\"text\"\n            onChange={handleChange}\n            name=\"email\"\n            value={formdata.email}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.email && \n          <div className=\"error sign_up\"><p>{errors.email}</p></div>\n        }\n        \n        <div className=\"input_box\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={passIcon} \n            className={`${hover === 'password' ? 'hover' : ''}`}\n            alt=\"password\" />\n          <input \n            placeholder=\"password\"\n            type=\"password\"\n            onChange={handleChange}\n            name=\"password\"\n            value={formdata.password}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.password && \n          <div className=\"error sign_up\"><p>{errors.password}</p></div>\n        }\n        \n\n        <div className=\"input_box forty_px_bottom_margin\"\n          onMouseEnter={handleHover} \n          onMouseLeave={removeHover}\n        >\n          <img src={passIcon} \n            className={`${hover === 'passwordConfirmation' ? 'hover' : ''}`}\n            alt=\"password confirmation\" />\n          <input \n            placeholder=\"confirm your password\"\n            type=\"password\"\n            onChange={handleChange}\n            name=\"passwordConfirmation\"\n            value={formdata.passwordConfirmation}\n            className=\"pinkfocus\"\n          />\n        </div>\n        { errors.passwordConfirmation && \n          <div className=\"error sign_up margin_adjusted_forty\"><p>{errors.passwordConfirmation}</p></div>\n        }\n        \n\n        <div className=\"button_wrapper\">\n          <button \n            className=\"sign_up\"\n          >\n            sign up\n          </button>  \n        </div>\n      </form>\n    </div> \n\n  )\n}\n\nexport default SignUp","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { followArtist, unfollowArtist } from '../lib/api'\nimport { getUserId } from '../lib/auth'\n\nfunction FollowButton ({ followed, artistData, setFollowedNow, artistId }){\n  const [follow, setFollow] = React.useState(followed)\n  const userId = getUserId()\n  const history = useHistory()\n\n  const handleFollow = async () => {\n    try {\n      await followArtist(artistData.id)\n      setFollow(!follow)\n      setFollowedNow(true)\n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n\n  const handleUnfollow = async () => {\n    try {\n      await unfollowArtist(artistData.id)\n      setFollow(!follow)\n      setFollowedNow(false)\n    } catch (err) {\n      console.log('fav error', err.response)\n    }\n  }\n\n\n  return (\n    <div className=\"followers_following\">\n      {artistData.following.length} \n      <span\n        onClick={()=> history.push(`/following/${artistId}`)}\n      >following</span> \n      {artistData.followedBy.length} \n      <span\n        onClick={()=> history.push(`/followers/${artistId}`)}\n      >followers</span>\n\n      {\n        !userId || userId === artistData.id ?\n          null\n          :\n          !follow ?\n            <button \n              onClick ={handleFollow}\n              className=\"follow\">\n            follow\n            </button>\n            :\n            <button \n              onClick ={handleUnfollow}\n              className=\"unfollow\">\n            unfollow\n            </button>\n      }\n\n  \n    </div>\n  )\n}\n\nexport default FollowButton","import React from 'react'\n// import { Link } from 'react-router-dom'\n\nimport { getAllPics } from '../lib/api'\n// import { getUserId } from '../lib/auth'\n\nfunction Feed({ username, userId, mapPics }){\n  const [error, setError] = React.useState(false)\n  // const [picCounter, setPicCounter] = React.useState(0)\n  // const [pics, setPics] = React.useState(null)\n  const [filteredPicsFollowed, setFilteredPicsFollowed] = React.useState([])\n  const [filteredPicsFavorited, setFilteredPicsFavorited] = React.useState([])\n  const user = userId\n  // let idN = 0\n\n  const filterPicsFollowed = pics => {\n    const artistCheck = pics.map(pic=>{\n      return pic.artist.followedBy.filter(follower=>{\n        return follower === user\n      })\n    })\n    const result = pics.filter((_pic,i) =>{\n      return artistCheck[i].length !== 0\n    }) \n    return result\n  }\n\n  const filterPicsFavorited = pics => {\n    const artistCheck = pics.map(pic=>{\n      return pic.favoritedBy.filter(follower=>{\n        return follower.id === user\n      })\n    })\n    const result = pics.filter((_pic,i) =>{\n      return artistCheck[i].length !== 0\n    }) \n    return result\n  }\n\n\n  React.useEffect(() => {\n    if (!user) return\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setFilteredPicsFollowed(filterPicsFollowed(data.sort((a, b) => b.id - a.id)))\n        setFilteredPicsFavorited(filterPicsFavorited(data.sort((a, b) => b.id - a.id)))\n        // if (filterPics(data).length === 0) setPics(data.slice(0,12))\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[user])\n\n\n\n  return (\n\n    <>\n      {\n        !user ?\n          <div className=\"wrapper\">\n            <p className=\"blue\">please login</p>\n          </div>\n          :\n          null\n      }\n\n      {\n        filteredPicsFavorited && filteredPicsFavorited.length !== 0 ?\n          <>\n            <div className=\"feed_title fade_in\">\n              art favorited by {username}:\n            </div>\n            <main className=\"feed_wrapper\">\n              {mapPics(filteredPicsFavorited,'small')}\n            </main>\n          </>    \n          :\n          error ?\n            <p>hmm... error...</p>\n            :\n            null\n      \n      }\n      {\n        filteredPicsFollowed && filteredPicsFollowed.length !== 0 ?\n          <>\n            <div className=\"feed_title fade_in\">\n              art by artists followed by {username}:\n            </div>\n            <main className=\"feed_wrapper\">\n              {mapPics(filteredPicsFollowed,'small')}\n            </main>\n          </>    \n          :\n          error ?\n            <p>hmm... error...</p>\n            :\n            null\n      \n      }\n\n    \n    </>  \n  )\n}\n\nexport default Feed","import React from 'react'\nimport { useParams, Link } from 'react-router-dom'\n\nimport FollowButton from './FollowButton'\nimport { getArtistPics } from '../lib/api'\nimport { getUserId } from '../lib/auth'\n\nimport Feed from './Feed'\n\nfunction ShowArtistPics (){\n  const { id } = useParams()\n  const [artistData,setArtistData] = React.useState(null)\n  const [error,setError] = React.useState(false)\n  const [followedNow, setFollowedNow]  = React.useState(false)\n  const [picCounter, setPicCounter] = React.useState(0)\n  let idN = 0\n\n  const userId = getUserId()\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getArtistPics(id)\n        setArtistData(data)\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id, followedNow])\n\n\n  const mapColorPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n\n\n  const mapPics = (pics, subclass) => {\n    if (picCounter <= pics.length){\n      setTimeout(()=>{\n        setPicCounter(picCounter + 1)\n      },80)\n    }\n    return pics.filter(pic=>{\n      if (pics.indexOf(pic) <= picCounter) return pic\n    }).slice(0,24).map(pic=>{\n      return (\n        <div \n          key={pic.id}\n          className={`index index_float_up ${subclass}`}\n        >  \n          <Link to={`/pics/${pic.id}/`}>\n            <img src={pic.image} alt={pic.title} className=\"bop\" />\n          </Link>\n          <div className=\"index_palette fade_in\">\n            {mapColorPalette(pic)}\n          </div>  \n        </div>  \n      )\n    })\n  }\n\n\n\n  // if (artistData) console.log('pics',artistData.followedBy)\n\n  return (\n    <>\n      {\n        artistData ?\n          <div className=\"wrapper artist_profile\">\n            <div className=\"artist_info_wrapper\">\n              <div className=\"profile_image\">\n                <img src={artistData.profileImage} alt={artistData.username} />\n              </div>\n\n              <div className=\"artist_name\">\n                {artistData.username}\n                <FollowButton \n                  followed = {\n                    artistData.followedBy.filter(ele=>{\n                      return ele.id === userId\n                    }).length > 0 ? true : false\n                  }\n                  artistId = {id}\n                  artistData = {artistData}\n                  setFollowedNow={setFollowedNow}\n                />  \n              </div>  \n            </div>  \n            { artistData.createdPic.length !== 0 ?\n              <div className=\"feed_title fade_in\">\n                art by {artistData.username}:\n              </div>\n              :\n              null\n            }\n\n            <div className=\"feed_wrapper\">\n              {mapPics(artistData.createdPic,'')}\n            </div>  \n\n            <Feed \n              username={artistData.username}\n              userId={artistData.id}\n              mapPics={mapPics}\n            />\n          </div>     \n          :\n          error ?\n            <div className=\"wrapper\">\n              <p>oops... error...</p>\n            </div>  \n            :\n            <div className=\"wrapper\">\n              <div className=\"loading_wrapper\">\n                <div className=\"blue_box\"></div>\n                <div className=\"gray_box\"></div>\n              </div>  \n            </div>\n      }   \n    </>\n\n  )\n}\n\nexport default ShowArtistPics\n\n\n// const mapPics = pics => {\n//   return pics.map(pic=>{\n//     return (\n//       <div \n//         key={pic.id}\n//         className=\"index\"\n//       >  \n//         <Link to={`/pics/${pic.id}/`}>\n//           <img src={pic.image} alt={pic.title} />\n//         </Link>\n//         <div className=\"index_palette\">\n//           {mapColorPalette(pic)}\n//         </div>  \n//       </div>  \n//     )\n//   })\n// }","import React from 'react'\nimport { useRef } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport { useHistory } from 'react-router-dom'\n\nimport { getSinglePic, getUserInfo, editPic } from '../lib/api'\nimport { getUserId } from '../lib/auth'\nimport { sortedByFrequencyDuplicatesAndBlankRemoved, rgbToHex } from '../lib/utils'\n\n\nimport { clickAnimation, drawIntoGrid, mapFromDots, explode } from '../lib/draw'\nimport cross from '../assets/cross.svg'\nimport useForm from '../hooks/useForm' \nimport ArtSubmitForm from './ArtSubmitForm'\n\nimport uploadIcon from '../assets/upload.svg'\nimport paletteIcon from '../assets/palette.svg'\nimport undoIcon from '../assets/undo.svg'\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\n\n\nfunction EditPic(){\n  const { id } = useParams()\n  const history = useHistory()\n  const { formdata, setFormdata, setErrors, errors, handleChange } = useForm({\n    title: '', \n    image: '', \n    dots: '', \n    colorPalette: '',\n    categories: [],\n    artist: '',\n    description: ''\n  })\n  const [drawSetting, setDrawSetting] = React.useState({\n    color: '#32d0fc'\n  }) \n  \n  const [user, setUser] = React.useState(null)\n  const [palette, setPalette] = React.useState(null)\n  const [displayPalette, setDisplayPalette] = React.useState(false)\n  const [uploadedImageBlobUrl, setUploadedImageBlobUrl] = React.useState(null)\n  const [dots, setDots] = React.useState(Array(256).fill(''))\n  const [draw, setDraw] = React.useState(false)\n  const drawOn = ()=> setDraw(true) \n  const drawOff = ()=> setDraw(false) \n  const submissionForm = useRef(null)\n  const submissionButton = useRef(null)\n  let ctx = null\n  const [drawingUrl, setDrawingUrl] = React.useState(null)\n\n  const canvas = useRef()\n  const drawingGrid = useRef()\n  const userId = getUserId()\n  const handleSettingChange = e => {\n    setDrawSetting({ ...drawSetting, [e.target.name]: e.target.value })\n  }\n\n  const historyLimit = 50\n  const [drawingHistory, setDrawingHistory] = React.useState(Array(historyLimit - 1).fill(Array(256).fill('')))\n  const [historyStep, setHistoryStep] = React.useState(historyLimit)\n\n\n  const recordHistory = arr =>{\n    let records = [...drawingHistory]\n    records.push([...arr])\n    if (records.length > historyLimit + 1) {\n      records = records.filter((record,i)=>{\n        if (i !== 0) return record\n      })\n    }\n    setDrawingHistory(records)\n  }\n\n  const setUpCanvas = () =>{\n    const canvasEle = canvas.current\n    canvasEle.width = canvasEle.clientWidth\n    canvasEle.height = canvasEle.clientHeight    \n    ctx = canvasEle.getContext('2d')\n  }\n\n  const mapFromImage = e => {\n    if (!e.target.files[0]) return\n    const uploadedImage = e.target.files[0]\n    const blobUrl = window.URL.createObjectURL(uploadedImage)\n    setUploadedImageBlobUrl(blobUrl)\n  }\n\n\n  const handleUpload = async e => { \n    e.preventDefault()\n    if ( e.target.classList.contains('deactivate')) return\n    e.target.classList.add('deactivate')\n    \n    const drawnDots = dots.filter(dot=> dot)\n    const dotsError = drawnDots.length === 0 ? 'your canvas is blank!' : ''\n    const titleError = formdata.title === '' ? 'please enter title' : ''\n    const selectError = formdata.categories.length === 0 ? 'please select atleast one' : ''\n    const descriptionError = formdata.description === '' ? 'please enter description' : ''\n    setErrors({ \n      title: titleError, \n      categories: selectError, \n      description: descriptionError,\n      dots: dotsError \n    })\n    if (dotsError || titleError || selectError || descriptionError) {     \n      submissionForm.current = e.target.parentNode.parentNode\n      submissionForm.current.classList.add('shake')\n      setTimeout(()=>{\n        submissionForm.current.classList.add('static')\n        submissionForm.current.classList.remove('shake') \n      },500)\n      e.target.classList.remove('deactivate')\n      return\n    }\n    setUpCanvas() //these ensure that canvas is rendered before upload\n    mapFromDots(dots,ctx)\n    let can = canvas.current.toDataURL('image/png')\n    can = can.replace('image/png', 'image/octet-stream')\n    const data = new FormData() \n    data.append('file', can)\n    data.append('upload_preset', uploadPreset)\n    const res = await axios.post(uploadUrl, data)\n    setDrawingUrl(res.data.url)\n    submissionButton.current = e.target\n  }\n\n\n  const handleSubmit = async () => {  \n    const palette = filterPalette(dots)\n    try {\n      await editPic(id,{ \n        title: formdata.title, \n        image: drawingUrl, \n        dots: JSON.stringify(dots), \n        colorPalette: JSON.stringify(palette),\n        categories: formdata.categories,\n        artist: userId,\n        description: formdata.description \n      })\n  \n      explode(drawingGrid)\n      setTimeout(()=>{\n        history.push(`/artistpage/${userId}`)\n      },1000)\n    } catch (err){\n      console.log(err)\n      submissionButton.current.classList.remove('deactivate')\n    }\n  }\n\n  React.useEffect(() => {\n    if (!drawingUrl) return\n    handleSubmit()\n  }, [drawingUrl])\n  \n\n\n  React.useEffect(() => {\n    if (!uploadedImageBlobUrl) return\n\n    setUpCanvas()\n    if (uploadedImageBlobUrl) {\n      const image = new Image()\n      image.onload = function() {    \n        ctx.drawImage(image, 0, 0)\n        const arr = []\n        const dotsFromImage = []\n        for (let i = 0; i < 256; i++) arr.push(i)\n\n        arr.forEach(ele=>{\n          const y = Math.floor(ele / 16) * 20\n          const x = ele % 16 * 20\n          ctx.drawImage(image, x, y, 20, 20, x, y, 20, 20)\n          const c = ctx.getImageData(x + 5, y + 5, 1, 1).data\n          const hex = '#' + ('000000' + rgbToHex(c[0], c[1], c[2])).slice(-6)\n          dotsFromImage.push(hex)\n        })\n        setDots(dotsFromImage)\n        drawIntoGrid(dotsFromImage,drawingGrid)\n      }\n      image.src = uploadedImageBlobUrl\n    }\n  }, [uploadedImageBlobUrl])\n  \n\n  \n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSinglePic(id)\n        setFormdata(data)\n        setDots(JSON.parse(data.dots))\n        drawIntoGrid(JSON.parse(data.dots),drawingGrid)\n\n        // const record = [...drawingHistory]\n        // record[0] = data.dots\n        // setDrawingHistory(record)\n      } catch (err) {\n        console.log('error')\n      }\n    }\n    getData()\n  },[id])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getUserInfo()\n        setUser(data)\n      } catch (err) {\n        console.log('error')\n      }\n    }\n    getData()\n  },[])\n  \n\n  const drawDot = e =>{\n    if (!draw) return\n    e.target.style.backgroundColor = drawSetting.color\n    dots[e.target.id] = drawSetting.color  // record\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n\n  const drawDotClick = e =>{\n    const color = e.target.style.backgroundColor === '' ? drawSetting.color : ''\n    e.target.style.backgroundColor = color\n    dots[e.target.id] = color\n    setDots(dots)\n    clickAnimation(e)\n    setErrors({ ...errors, dots: '' })\n    recordHistory(dots)\n    setHistoryStep(historyLimit)\n  }\n\n  const mapGrid = () =>{    \n    const grids = []\n    for (let i = 0; i < (16 * 16); i++) grids.push(i)\n    return grids.map(grid=>{\n      return (\n        <div key={grid} \n          onClick={drawDotClick}\n          onMouseMove={drawDot}\n          id={grid}\n          className=\"grid\">\n        </div>\n      )\n    })\n  }\n\n  const filterPalette = arr =>{\n    const palette = Array(8).fill('')\n    for (let i = 0; i < 8; i++){\n      palette[i] = sortedByFrequencyDuplicatesAndBlankRemoved(arr)[i]\n    }\n    return palette\n  }\n\n  \n  let idN = 0\n  const mapPalette = arr =>{   \n    const palette = filterPalette(arr)\n    return palette.map(hex=>{\n      idN++\n      return (\n        <div key={idN} \n          onClick={handlePalettePick}\n          id={`p${idN}_${hex}`}\n          className=\"palette_block\"\n          style={{ backgroundColor: hex }}  \n        >  \n        </div>\n      )\n    })\n  }\n\n\n  const mapFavoritedPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          id = {idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n\n  const handlePalettePick = e =>{\n    if (e.target.id.split('_')[1] === 'undefined') return\n    setDrawSetting({ ...drawSetting, color: e.target.id.split('_')[1] })\n  }\n\n  const fork = forkedDots =>{\n    drawIntoGrid(JSON.parse(forkedDots),drawingGrid)\n    setDots(JSON.parse(forkedDots))\n  }\n\n  const mapOptions = arr =>{\n    return arr.favoritedPic.map(pic=>{\n      return (\n        <div key={`p${pic.id}`}\n          className=\"palette_wrapper\"\n        >\n          <img onClick ={()=>fork(pic.dots)}\n            src={pic.image} alt={pic.title}\n          />  \n          <div onClick={()=>{\n            setDisplayPalette(false)\n            setPalette(JSON.parse(pic.colorPalette))\n          }}\n          className=\"palette_option\"\n          >\n            {mapFavoritedPalette(pic)}\n          </div>  \n        </div>\n      )\n    }\n    )\n  }\n  \n  //! still a little buggy\n  const handleBack = () =>{\n    console.log('trig')\n    if (historyStep === 0 || !drawingHistory[historyStep]) return\n    drawIntoGrid(drawingHistory[historyStep],drawingGrid)\n    setDots(drawingHistory[historyStep - 1])\n    setHistoryStep(historyStep - 1)\n  }\n\n\n  return (\n    <>\n      {\n        !userId || userId !== formdata.artist.id ?\n          <div className=\"wrapper\">\n            <p>you are not authorised</p>\n          </div>\n          :\n          <div className=\"wrapper no_height slide_in\">\n            <div className=\"inner_wrapper\">\n              <div className=\"grid_wrapper\"\n                onMouseDown={drawOn}\n                onMouseUp={drawOff}\n                ref={drawingGrid}\n              > \n                {mapGrid()}\n                <canvas \n                  ref={canvas}\n                  className=\"dots\" \n                />\n                <div className=\"color_background\">\n                </div>\n              </div>  \n  \n              <div className=\"color_palette\">\n                {mapPalette(dots)}\n              </div>  \n            </div>\n    \n            <div className=\"tool_box\">\n              <div \n                onClick={handleBack}\n                className=\"back\">\n                <img src={undoIcon} alt=\"undo\" />\n              </div>  \n        \n              <input type=\"color\" \n                className=\"color pinkfocus\"\n                name=\"color\"\n                onChange={handleSettingChange}\n                value={drawSetting.color}\n              />\n\n              <img src={paletteIcon}\n                className=\"palette_icon\"\n                onClick={()=>{ \n                  setDisplayPalette(!displayPalette) \n                }}\n              />  \n              <div className=\"image_upload_wrapper\">\n                <label htmlFor=\"upload\" > \n                  <img src={uploadIcon} alt=\"upload button\" />\n                </label>\n                <input\n                  id=\"upload\"\n                  type=\"file\"\n                  onChange={mapFromImage}\n                />\n              </div>  \n            </div>\n            <div \n              onMouseLeave={()=>setDisplayPalette(false)}\n              className={`palette_choice_menu ${displayPalette && 'open'}`}\n            >\n              <div className=\"cross\">\n                <img src={cross} alt=\"cross\" \n                  onClick={()=>setDisplayPalette(false)}\n                />\n              </div>\n              {\n                user &&\n            <>\n\n              <div>\n                {mapOptions(user)}  \n              </div>  \n            </>   \n              }\n            </div>  \n            {\n              palette ?\n                <div className=\"palette_option\">\n                  {mapPalette(palette)}\n                </div>\n                :\n                null\n            }\n\n            <ArtSubmitForm \n              handleUpload={handleUpload}\n              formdata={formdata}\n              handleChange={handleChange}\n              errors={errors}\n            />\n          </div>\n      }\n    </>\n  )\n}\n\nexport default EditPic","import React from 'react'\n\nfunction PaginationLinks({ page, pics, filterPics, prevPage, nextPage, goToPage, noOfPicsToDisplay }){\n  \n\n  function mapPageLinks(maxvalue){\n    const pages = []\n    for (let i = 1; i <= maxvalue; i++ ){\n      switch (i) {\n        case 1: pages.push(i)\n          break\n        case Number(page): pages.push(i)\n          break    \n        case (Number(page) - 1): \n          pages.push(i)\n          break\n        case (Number(page) + 1): \n          pages.push(i)\n          break  \n        case maxvalue - 1: \n          pages.push('...+')\n          break  \n        case maxvalue: pages.push(i)\n          break\n        default: pages.push('...')\n      }\n    } \n    // console.log('pages',pages)\n    const buttonsToDisplay =  [...new Set(pages)]\n    // console.log(buttonsToDisplay)\n    return buttonsToDisplay.map(eachPage=>{\n      return (\n        <button className={`${eachPage === Number(page) ? 'current' : ''} ${eachPage[0] === '.' ? 'null' : ''}`} key={`page${eachPage}` } alt=\"button\" onClick={()=>{\n          goToPage(eachPage)\n        }}>{eachPage === '...+' ? '...' : eachPage}</button>\n      )\n    })\n  }\n\n\n  return (\n    <div className=\"pagination_wrapper\">\n      <div className=\"pagination_inner_wrapper\">\n        {\n          Number(page) !== 1 &&\n      <button onClick={prevPage}>\n        &#60;\n      </button>\n        }\n        { \n          mapPageLinks(Math.ceil(filterPics(pics).length / noOfPicsToDisplay))\n        \n        }\n        {\n          Number(page) !== Math.ceil(filterPics(pics).length / noOfPicsToDisplay) &&\n        <button onClick={nextPage}>   \n          &#62;\n        </button>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default PaginationLinks","import React from 'react'\nimport { useParams, useHistory, Link } from 'react-router-dom'\n\nimport PaginationLinks from './PaginationLinks'\nimport { getAllPics } from '../lib/api'\n// import { dynamicSort } from '../lib/utils'\n\nfunction ShowFilteredPics(){\n  const history = useHistory()\n  // const { pathname } = useLocation()\n  const { category, page } = useParams()\n  const [error, setError] = React.useState(false)\n  const [pics, setPics] = React.useState(null)\n  const [picCounter, setPicCounter] = React.useState(0)\n  const [filteredPics, setFilteredPics] = React.useState([])\n  let idN = 0\n\n\n  const filterPics = pics => {\n    if (category === 'all') return pics\n    const categoryCheck = pics.map(pic=>{\n      return pic.categories.filter(cat=>{\n        return cat.name === category\n      })\n    })\n    const result = pics.filter((_pic,i) =>{\n      return categoryCheck[i].length !== 0\n    }) \n    return result\n  }\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setPics(data)\n        setFilteredPics(filterPics(data).sort((a, b) => b.id - a.id).slice(firstPic,page * noOfPicsToDisplay))\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[page])\n\n  // React.useEffect(() => {\n  //   window.scrollTo(0, 0)\n  // }, [pathname])\n\n  React.useEffect(() => {\n    window.scrollTo(0, 0)\n    setPicCounter(0)\n  }, [filteredPics])\n\n\n\n  const noOfPicsToDisplay = 12\n  const firstPic = (page - 1) * noOfPicsToDisplay\n\n  function prevPage(){\n    history.push(`/pics/${category}/${Number(page) - 1}`)\n  }\n  function nextPage(){ \n    history.push(`/pics/${category}/${Number(page) + 1}`)\n  }\n\n  function goToPage(pageNo){\n    if (pageNo === '...' || pageNo === '...+' ) return\n    history.push(`/pics/${category}/${pageNo}`)\n  }\n\n  const mapColorPalette = pic =>{\n    return JSON.parse(pic.colorPalette).map(hex=>{\n      idN++\n      return (\n        <div \n          key={idN}\n          style={{ backgroundColor: hex }}\n        >\n        </div>  \n      )\n    })\n  }\n\n  const mapPics = pics => {\n    if (picCounter <= pics.length){\n      setTimeout(()=>{\n        setPicCounter(picCounter + 1)\n      },70)\n    }\n    return pics.filter(pic=>{\n      if (pics.indexOf(pic) <= picCounter) return pic\n    }).map(pic=>{\n      return (\n        <div \n          key={pic.id}\n          className=\"index index_float_up\"\n        >  \n          <Link to={`/pics/${pic.id}/`}>\n            <img \n              className=\"bop\"\n              src={pic.image} \n              alt={pic.title} \n            />\n          </Link>\n          <div className=\"index_palette fade_in\">\n            {mapColorPalette(pic)}\n          </div>  \n        </div>  \n      )\n    })\n  }\n\n\n  //prevent memmory leak\n  const [didMount, setDidMount] = React.useState(false)\n  React.useEffect(() => {\n    setDidMount(true)\n    return () => setDidMount(false)\n  }, [])\n  if (!didMount) return null\n\n\n\n\n  return (\n    <div className=\"wrapper\">\n      {\n        filteredPics && pics ?\n          <>\n            <main className=\"index_wrapper\">\n\n              <div className=\"category_label fade_in\">\n                {category !== 'all' && `${category}/` }\n              </div> \n\n              {mapPics(filteredPics)}\n\n              <PaginationLinks \n                page={page} \n                pics={pics} \n                filterPics={filterPics}\n                prevPage={prevPage}\n                nextPage={nextPage} \n                goToPage={goToPage}\n                noOfPicsToDisplay={noOfPicsToDisplay}\n              />\n            </main>\n            \n          </>\n          :\n          error ?\n            <p> hmmm... error?...</p>\n            :\n            <div className=\"loading_wrapper\">\n              <div className=\"blue_box\"></div>\n              <div className=\"gray_box\"></div>\n            </div>  \n      }\n    </div>  \n  )\n}\n\nexport default ShowFilteredPics\n\n\n// <div className=\"pagination_wrapper\">\n// <div className=\"inner_wrapper\">\n//   {\n//     Number(page) !== 1 &&\n//   <button onClick={prevPage}>\n//     &#60;\n//   </button>\n//   }\n//   { \n//     mapPageLinks(Math.ceil(filterPics(pics).length / noOfPicsToDisplay))\n    \n//   }\n//   {\n//     Number(page) !== Math.ceil(filterPics(pics).length / noOfPicsToDisplay) &&\n//     <button onClick={nextPage}>   \n//       &#62;\n//     </button>\n//   }\n// </div>\n// </div> ","import React from 'react'\nimport { useParams, Link, useHistory } from 'react-router-dom'\n\nimport { getArtistPics, getAllPics } from '../lib/api'\n\nfunction Followers(){\n  const history = useHistory()\n  const { id } = useParams()\n  const [artistData,setArtistData] = React.useState(null)\n  const [pics, setPics] = React.useState(null)\n  const [error, setError] = React.useState(false)\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getArtistPics(id)\n        setArtistData(data)\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setPics(data.sort((a, b) => b.id - a.id))\n      } catch (err) {\n        console.log('error')\n        // setError(true)\n      }\n    }\n    getData()\n  },[artistData])\n\n  const mapPics = userId => {\n    return (\n      pics.filter(pic=>{\n        return pic.artist.id === userId\n      }).slice(0,4).map(pic=>{\n        return (\n          <div \n            key={pic.id}\n            className=\"index\"\n          >  \n            <Link to={`/pics/${pic.id}/`}>\n              <img \n                src={pic.image} \n                alt={pic.title} \n              />\n            </Link>\n          </div>  \n        )\n      })\n    )\n  }\n\n  const mapUserData = () =>{\n    return artistData.followedBy.map(follower=>{\n      return (\n        <div \n          className=\"user_list\"\n          key={follower.id}\n        >\n          <div \n            className=\"user_index\"\n          > \n            <img src={follower.profileImage} alt={follower.username}\n              onClick={()=> history.push(`/artistpage/${follower.id}` )}\n            />\n            <div\n              onClick={()=> history.push(`/artistpage/${follower.id}` )}\n            >\n              {follower.username}\n            </div>  \n          </div>  \n          {\n            pics &&\n              mapPics(follower.id)\n          }\n        </div>  \n      )\n    })\n  }\n\n\n  return (\n    <>\n      { \n        error ?\n          <div className=\"wrapper\">\n            <p>oops... something gone wrong...</p>\n          </div>  \n          :  \n          artistData ?\n            artistData.followedBy.length !== 0 ?\n              \n              <div className=\"wrapper artist_profile slide in\">\n                <div className=\"feed_title\">\n                  {`${artistData.username}'s followers:`}\n                </div>\n                {mapUserData()}\n              </div>  \n              :\n              <div className=\"wrapper\">\n                <p>{artistData.username} has no followers &#40;yet&#41;</p>  \n              </div>  \n            :\n            <div className=\"wrapper\">\n              <div className=\"loading_wrapper\">\n                <div className=\"blue_box\"></div>\n                <div className=\"gray_box\"></div>\n              </div>  \n            </div>    \n      }\n    </>\n  )\n}\n\nexport default Followers","import React from 'react'\nimport { useParams, Link, useHistory } from 'react-router-dom'\n\nimport { getArtistPics, getAllPics } from '../lib/api'\n\nfunction Following(){\n  const history = useHistory()\n  const { id } = useParams()\n  const [artistData,setArtistData] = React.useState(null)\n  const [pics, setPics] = React.useState(null)\n  const [error, setError] = React.useState(false)\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getArtistPics(id)\n        setArtistData(data)\n      } catch (err) {\n        console.log('error')\n        setError(true)\n      }\n    }\n    getData()\n  },[id])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllPics()\n        setPics(data.sort((a, b) => b.id - a.id))\n      } catch (err) {\n        console.log('error')\n        // setError(true)\n      }\n    }\n    getData()\n  },[artistData])\n\n  const mapPics = userId => {\n    return (\n      pics.filter(pic=>{\n        return pic.artist.id === userId\n      }).slice(0,4).map(pic=>{\n        return (\n          <div \n            key={pic.id}\n            className=\"index\"\n          >  \n            <Link to={`/pics/${pic.id}/`}>\n              <img \n                src={pic.image} \n                alt={pic.title} \n              />\n            </Link>\n          </div>  \n        )\n      })\n    )\n  }\n\n  const mapUserData = () =>{\n    return artistData.following.map(artist=>{\n      return (\n        <div \n          className=\"user_list\"\n          key={artist.id}\n        >\n          <div \n            className=\"user_index\"\n          > \n            <img src={artist.profileImage} alt={artist.username}\n              onClick={()=> history.push(`/artistpage/${artist.id}` )}\n            />\n            <div\n              onClick={()=> history.push(`/artistpage/${artist.id}` )}\n            >\n              {artist.username}\n            </div>  \n          </div>  \n          {\n            pics && \n              mapPics(artist.id)\n          }\n        </div>  \n      )\n    })\n  }\n\n\n  return (\n    <>\n      { \n        error ?\n          <div className=\"wrapper\">\n            <p>oops... something gone wrong...</p>\n          </div>  \n          :  \n          artistData ?\n            artistData.following.length !== 0 ?\n              \n              <div className=\"wrapper artist_profile slide_in\">\n                <div className=\"feed_title\">\n                  {`artists followed by ${artistData.username}:`}\n                </div>\n                {mapUserData()}\n              </div>  \n              :\n              <div className=\"wrapper\">\n                <p>{artistData.username} isn&apos;t following anyone &#40;yet&#41;</p>  \n              </div>  \n            :\n            <div className=\"loading_wrapper\">\n              <div className=\"blue_box\"></div>\n              <div className=\"gray_box\"></div>\n            </div>  \n      }\n    </>\n  )\n}\n\nexport default Following","import React from 'react'\n\nfunction DashBoard(){\n\n  return (\n    <p>dashboard</p>\n  )\n}\n\nexport default DashBoard","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Home from './common/Home'\nimport Nav from './common/Nav'\nimport ShowPic from './components/ShowPic'\nimport CreatePic from './components/CreatePic'\nimport Login from './auth/Login'\nimport SignUp from './auth/SignUp'\nimport ShowArtistPics from './components/ShowArtistPics'\nimport EditPic from './components/EditPic'\nimport ShowFilteredPics from './components/ShowFilteredPics'\nimport Followers from './components/Followers'\nimport Following from './components/Following'\nimport DashBoard from './components/DashbBoard'\n\nfunction App() {\n\n  return (\n    <BrowserRouter>\n      <Nav/>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/followers/:id\" component={Followers} />\n        <Route path=\"/following/:id\" component={Following} />\n        <Route path=\"/pics/:id/edit\" component={EditPic} />\n        <Route path=\"/pics/:category/:page\" component={ShowFilteredPics} />\n        <Route exact path=\"/pics/new\" component={CreatePic} />\n        <Route path=\"/pics/:id\" component={ShowPic} />\n        <Route path=\"/artistpage/:id\" component={ShowArtistPics} />\n        <Route exact path=\"/dashboard\" component={DashBoard} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/signup\" component={SignUp} />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React from 'react'\n\n// class App extends React.Component {\n//   async componentDidMount() {\n//     try {\n//       const response = await fetch('/api/pics')\n//       const data = await response.json()\n//       console.log(data)\n//     } catch (err) {\n//       console.log(err)\n//     }\n//   }\n\n//   render() {\n//     return null\n//   }\n// }\n\n// export default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}